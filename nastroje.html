<!doctype html><html data-reactid=".rcgp8gh7gg" data-react-checksum="2085535305"><head data-reactid=".rcgp8gh7gg.0"><meta charset="utf-8" data-reactid=".rcgp8gh7gg.0.0"><title data-reactid=".rcgp8gh7gg.0.1">DžejEs - JavaScript pro web</title><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" data-reactid=".rcgp8gh7gg.0.2"><link rel="stylesheet" type="text/css" href="main-73051c71144d61d48eff.css?v=1.0.0" data-reactid=".rcgp8gh7gg.0.3"><link rel="icon" type="image/png" href="images/favicon-4b52c7e9cc28fdb9378fd1542994a946.png" data-reactid=".rcgp8gh7gg.0.4"><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" data-reactid=".rcgp8gh7gg.0.5"><link rel="canonical" href="https://www.dzejes.cz/nastroje.html" data-reactid=".rcgp8gh7gg.0.6"><base target="_blank" data-reactid=".rcgp8gh7gg.0.7"></head><body data-reactid=".rcgp8gh7gg.1"><div data-reactid=".rcgp8gh7gg.1.0"><header class="Header" data-reactid=".rcgp8gh7gg.1.0.0"><div class="NavBar" data-reactid=".rcgp8gh7gg.1.0.0.0"><div class="NavBar-container" data-reactid=".rcgp8gh7gg.1.0.0.0.0"><div class="NavBar-item" data-reactid=".rcgp8gh7gg.1.0.0.0.0.0"><a class="NavBar-link" href="/" target="_self" data-reactid=".rcgp8gh7gg.1.0.0.0.0.0.0">Úvod</a><a class="NavBar-link" href="https://twitter.com/vmiksu" data-reactid=".rcgp8gh7gg.1.0.0.0.0.0.1">Twitter</a><a class="NavBar-link" href="https://github.com/tajo/javascript" data-reactid=".rcgp8gh7gg.1.0.0.0.0.0.2">GitHub</a><a class="NavBar-link" href="/feed.xml" data-reactid=".rcgp8gh7gg.1.0.0.0.0.0.3">RSS</a></div></div></div></header><div class="PageBody" data-reactid=".rcgp8gh7gg.1.0.1"><div class="PageBody-container" data-reactid=".rcgp8gh7gg.1.0.1.0"><div style="width:100%;" data-reactid=".rcgp8gh7gg.1.0.1.0.0"><div style="width:100%;" data-reactid=".rcgp8gh7gg.1.0.1.0.0.$0"><h1>Nástroje<a id="n-stroje">&nbsp;</a></h1><p>Tak jako truhlář potřebuje hoblík, pilu nebo nebozez, tak i <strong>vývojář webovek se neobejde bez pořádných nástrojů</strong>. Když si vyberete ty správné a naučíte se s nimi pořádně zacházet, značně usnadní a zrychlí vaši práci. V tomto článku se s nimi v rychlosti seznámíme.</p>
<h2>Operační systém<a id="opera-n-syst-m">&nbsp;</a></h2><p>Vezmeme to pěkně od základu a tím je operační systém. Nemá smysl chodit kolem horké kaše. Sami asi tušíte, že tím <strong>slonem v místnosti je Windows</strong>. Budete s ním pravděpodobně narážet na různé problémy (pramenící z node.js, npm, slabší podpory Facebooku v jeho opensource knihovnách...), které byste na OSX nebo Linuxu nikdy řešit nemuseli. Předem se tak omlouvám, pokud vám občas něco nebude fungovat. <strong>Články totiž primárně počítají s OSX (či Linuxem)</strong>. Budu ovšem moc rád, pokud případné opravy či návody pošlete pull requestem.</p>
<h2>Prohlížeč<a id="prohl-e-">&nbsp;</a></h2><p><strong>Standardem pro vývoj je Google Chrome</strong>, který má dnes asi nejpropracovanější vývojářské nástroje. Otevřete je zkratkou <code>⌘</code>+<code>alt</code>+<code>j</code>. <strong>Vůbec nejdůležitějším panelem je <code>Console</code></strong>. Mějte ho pořád na očích. JavaScript vám do něj bude vypisovat všechny warningy a errory. Také si do něj můžete logovat hodnoty vlastní pomocí funkce <code>console.log(...)</code>, která přehledně vypíše i komplikované datové struktury, což je fajn pro rychlé ladění.</p>
<p>Druhým nejužitečnějším panelem je <code>Elements</code>. <strong>Můžete v něm procházet a hlavně upravovat aktuální DOM strukturu a kaskádové styly.</strong> Změny se pak okamžitě projeví v okně prohlížeče. Hodí se třeba i pro ujištění, zda vám JavaScript vyrendroval nějakou komponentu a není třeba jen schovaná kvůli špatnému stylování.</p>
<p class="pic-container">
  <img src="images/chrome-5c7a4a3a341a375b395dd9cd95ef1810.png" class="pic" title="Chrome s otevřenou konzolí" />
</p>

<p>Další panely už budete používat asi méně. Velmi šikovný je <code>Network</code>, ve kterém si můžete přehledně například vyfiltrovat XHR requesty. V <code>Sources</code> pak můžete debugovat pomocí breakpointů. Doinstalovat si můžete i speciální <a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en">panel pro React</a>. Je podobný <code>Elements</code>, ale poskytuje i informace o stavu React komponent. Nicméně reálně ho moc nepoužívám.</p>
<p>V nastavení vývojářských nástroju si ještě zkontrolujte, že máte zaškrtnuté <code>Enable CSS source maps</code> a <code>Enable JavaScript source maps</code>. V našich projektech nebudeme používat přímo JavaScript, ale Babel, který se do něho překládá. <strong>Source mapa pak umožní prohlížeči namapovat řádky výsledného JavaScriptu na zdrojový Babel</strong> a my se tak dozvíme správný řádek a soubor, kde došlo k chybě. Obdobně to funguje pro CSS a preprocesory jako je LESS.</p>
<p>Web nakonec musíte samozřejmě pravidelně testovat i v ostatních prohlížečích. I ty mají vlastní vývojařské nástroje. Pokud se vám tedy stane, že vám něco nefunguje pouze ve Firefoxu, nebojte se je vyzkoušet. Jsou velmi podobné těm v Chromu.</p>
<h2>Sublime Text<a id="sublime-text">&nbsp;</a></h2><p>Zatímco mezi webovými prohlížeči moc na výběr nemáte, <strong>o dobré textové editory není nouze</strong>. Nemá smysl zde dělat nějaké dogmatické závěry. Někomu bude vyhovovat spartánský VIM a někdo má zase rád velké všeobjímající IDE. I tak se mezi JavaScriptovými vývojáři dá vypozorovat několik oblíbenců. <strong>Jedním z nich je editor <a href="http://www.sublimetext.com/">Sublime Text</a>.</strong> Momentálně ho používám jako svůj hlavní editor pro všechno.</p>
<p>Jeho největší předností je rychlost, jednoduchost, spolehlivost a obrovská paleta všemožných doplňků. Nevýhodou pak je to, že se jedná o one-man show projekt, který autor trochu zanedbává, nicméně nedávno se mu zas začal věnovat. Jak už to bývá, dobré věci nejsou zadarmo a tak vás licence vyjde na rozumných $70. Lze ho však nějaký čas používat a zkoušet zdarma. Nejvíce ho totiž oceníte až po nějaké době, kdy si zapamatujete různé zkratky a využijete tak jeho maximální potenciál.</p>
<p>Pokud se ho rozhodnete používat pro vývoj webovek, doporučuji si pro začátek <a href="https://packagecontrol.io/installation">stáhnout a nainstalovat</a> tyto doplňky:</p>
<ul>
<li><a href="https://github.com/alienhard/SublimeAllAutocomplete">All Autocomplete</a></li>
<li><a href="https://github.com/BoundInCode/AutoFileName">AutoFileName</a></li>
<li><a href="https://github.com/babel/babel-sublime">Babel</a></li>
<li><a href="https://github.com/sindresorhus/editorconfig-sublime">EditorConfig</a></li>
<li><a href="https://github.com/miguelgraz/FocusFileOnSidebar">Focus File On Sidebar</a></li>
<li><a href="https://github.com/kemayo/sublime-text-git">Git</a></li>
<li><a href="https://github.com/titoBouzout/SideBarEnhancements">Sidebar Enhancements</a></li>
<li><a href="https://github.com/SublimeLinter/SublimeLinter3">Sublime Linter</a></li>
</ul>
<p>V některém z dalším článku popíšu, jak a proč si nastavit ESLint neboli kontrolu kódu pro JavaScript (Babel) a JSX přímo v Sublime Textu.</p>
<p class="pic-container">
  <img src="images/sublime-969de4659e287c18754835c82b9907e7.png" class="pic" title="Sublime Text 3" />
</p>

<p><strong>Dalším editorem, který stojí za pozornost je <a href="https://atom.io/">Atom</a></strong>. Je to open source projekt, za kterým stojí GitHub a velmi připomíná Sublime Text. Má ale jeden problém a to je stabilita. Není zatím tak &quot;uhlazený&quot; jako ST a to je u nástroje, který používáte prakticky pořád, dost nepříjemné. Čas od času ho i přesto zkouším a jsou tam vidět velké pokroky. Také nad ním vznikají nové nástavby jako je <a href="https://code.visualstudio.com/">Visual Studio Code</a> od Microsoftu nebo <a href="http://nuclide.io/">Nuclide</a> od Facebooku. Budoucnost Atomu vypadá zajímavě.</p>
<p>Hodně přívrženců pak má i <a href="https://www.jetbrains.com/webstorm/">WebStorm</a>, <a href="https://www.jetbrains.com/phpstorm/">PHPStorm</a> a celá rodina editorů postavená nad IntelliJ. <strong>Pokud máte rádi velké plnohodnotné IDE, které už v základu lecos umí, tak rozhodně stojí za zkoušku</strong>. Na psaní kódu se dá ale používat prakticky cokoliv, takže se nebojte experimentovat.</p>
<h2>Terminál<a id="termin-l">&nbsp;</a></h2><p>Svatou trojici pak uzavírá terminál. <strong>Prohlížeč, textový editor a terminál jsou tři věci, které musíte mít jako vývojář stále na očích</strong>. Kromě základní práce se soubory a Gitem z něho budete spouštět vývojový server, buildovat produkční verze a sledovat případné warningy a errory v kódu. Obzvlášť s používáním hot reloadu se většina hlášení bude objevovat právě zde a nikoliv v Console logu prohlížeče.</p>
<p class="pic-container">
  <img src="images/terminal-69eba3f304772ee65048ab3ce3225ac5.png" class="pic" title="OSX Terminal" />
</p>

<h2>Node.js a Npm<a id="node-js-a-npm">&nbsp;</a></h2><p>O <a href="https://nodejs.org/">node.js</a> jste už určitě všichni slyšeli. Jistého chytrého člověka napadlo vzít JavaScript runtime z Chromu a postavit nad ním velmi výkonnou platformu, která by se dala používat i mimo prohlížeč a to zejména na serverech. Tento nápad se setkal s obrovským ohlasem a pomohl odstartovat to pravé JavaScriptové šílenství.</p>
<p>Asi není překvapivé, že <strong>node se tak stává přirozenou volbou (nejen) pro aplikace, které závisí na velkém JS frontendu</strong>. Je totiž velmi výhodné používat stejný jazyk na obou březích. Můžete tak snadno sdílet části kódu (například validační pravidla či routing), či si předrendrovat stránku už na serveru a uživateli poslat rovnou hotové HTML. Navíc i pokud se rozhodnete stavět server nad jinou platformou, tak se nodu nevyhnete kvůli vývojářským nástrojům, které jsou téměř výhradně napsané také v JavaScriptu. <strong>Takže si ho prosím rovnou nainstalujte</strong>.</p>
<p class="pic-container" style="max-width: 300px">
  <img src="images/npm-0bdd5a30a10e2c92981ccc931e4f35b5.png" class="pic" title="NPM logo" />
</p>

<p><strong>S nodem se vám nainstaluje i <a href="https://www.npmjs.com/">npm</a> - balíčkovací manager</strong>. Jde o ultimátní a jednotné řešení pro sdílení kódů napříč JS ekosystémem. Původně byl určen pro prostředí nodu, ale nakonec se z něj stal i jednotný systém pro frontend vývojáře (R.I.P <a href="http://bower.io/">bower</a>). Používá ho tak node, browserify, webpack, gulp, grunt, Angular, jQuery, React, prohlížeče ... prostě všichni.</p>
<p><strong>Největší předností a odlišností NPM (například od Boweru) je to, že každý balíček může mít své vlastní závislosti (balíčky)</strong>. Vzniká tak strom závislostí a není problém, aby v jednom projektu běžela jedna knihovna v několika verzích. Tedy, občas to problém být může. Například React bude dost nešťastný, pokud bude muset o správu DOMu bojovat s další instancí Reactu. Aneb vůči dependency hellu není a nebude zcela imunní žádný balíčkovací manager, ale NPM si v porovnání s konkurencí vede víc než obstojně. <strong>Dalším fundamentálním rysem je filosofie malých a jednoúčelových balíčků</strong>. Není tedy nic zvláštního, pokud je balíček pouze jedna několikařádková funkce.</p>
<h2>Grunt<a id="grunt">&nbsp;</a></h2><p><strong>Se vší tou záplavou růných nástrojů, kompilátorů a linterů je potřeba se nějak vypořádat</strong>. Představte si, že byste po každé změně kódu museli vlézt do terminálu, najít změněný soubor, spustit nad ním Babel, poté ESLint a pak v prohlížeči ještě udělat refresh. To je přeci repetativní úkon, který se může zautomatizovat. <strong>Objevily se tak nástroje označované jako &quot;task runnery&quot;</strong>. Velmi populárním byl (a stále je?) <a href="http://gruntjs.com/">Grunt</a>. Do projektu si přidáte <code>Gruntfile</code>, ve kterém si vše můžete nakonfigurovat. Konfigurace se skládá z jednotlivých tasků, které můžete pak volat v různém pořadí. Jednotlivé tasky (moduly) nemusíte psát sami, ale většinou je už najdete hotové na NPM. Jsou jich tisíce. Výsledek může vypadat třeba takto:</p>
<code class="codeBlock">module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token block-keyword" >function</span><span class="token punctuation" >(</span>grunt<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>

  grunt<span class="token punctuation" >.</span><span class="token function" >initConfig<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>
    jshint<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      files<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'Gruntfile.js'</span><span class="token punctuation" >,</span> 'src<span class="token comment" spellcheck="true">/**/</span><span class="token operator" >*</span><span class="token punctuation" >.</span>js<span class="token string" >', '</span>test<span class="token comment" spellcheck="true">/**/</span><span class="token operator" >*</span><span class="token punctuation" >.</span>js'<span class="token punctuation" >]</span><span class="token punctuation" >,</span>
      options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        globals<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
          jQuery<span class="token punctuation" >:</span> <span class="token primitive" >true</span>
        <span class="token punctuation" >}</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
    watch<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      files<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'&lt;%= jshint.files %>'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
      tasks<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >'jshint'</span><span class="token punctuation" >]</span>
    <span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

  grunt<span class="token punctuation" >.</span><span class="token function" >loadNpmTasks<span class="token punctuation" >(</span></span><span class="token string" >'grunt-contrib-jshint'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  grunt<span class="token punctuation" >.</span><span class="token function" >loadNpmTasks<span class="token punctuation" >(</span></span><span class="token string" >'grunt-contrib-watch'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

  grunt<span class="token punctuation" >.</span><span class="token function" >registerTask<span class="token punctuation" >(</span></span><span class="token string" >'default'</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >'jshint'</span><span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token punctuation" >}</span><span class="token punctuation" >;</span></code><p><strong>Postupně se však ukázalo, že cesta &quot;vše konfigurovat&quot; není úplně nejšťastnější</strong>. Bez dokumentace totiž nedáte ani ránu a pokud si nevystačíte s předem danými funkcemi, tak máte problém. <strong>Dalším problémem Gruntu je rychlost</strong>. Mezivýsledky si totiž ukládá do filesystému a u větších projektů s komplikovaným build procesem trvá dlouho (tohle už možná nejnovější verze nějak řeší).</p>
<h2>Gulp<a id="gulp">&nbsp;</a></h2><p><strong>A tak přibyl mladší bráška <a href="http://gulpjs.com/">Gulp</a>, který se ponaučil z Gruntu a jde na to lépe</strong>. Konfigurace aka <code>Gulpfile</code> je JavaScript. <strong>Místo toho, abyste konfigurovali, tak programujete</strong>, což je velmi flexibilní a také odpadá nutnost spoléhat na dokumentace. Dalším zlepšovákem jsou streamy, které Gulp používá. Mezivýsledky si drží v paměti, vše běží paralelně a především citelně rychleji. Občas je však problém zkrotit tasky tak, aby běžely sekvenčně (verze 4.x tento častý problém adresuje). Tak jako Grunt i Gulp má dnes již téměř nekonečné množství pluginů. <strong>Grunt vs Gulp? Rozhodně Gulp</strong>. Pro názornost, &quot;konfigurace&quot; Gulpu může vypada třeba takto:</p>
<code class="codeBlock"><span class="token keyword" >var</span> gulp <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >'gulp'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >var</span> coffee <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >'gulp-coffee'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >var</span> concat <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >'gulp-concat'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >var</span> uglify <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >'gulp-uglify'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >var</span> imagemin <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >'gulp-imagemin'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >var</span> sourcemaps <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >'gulp-sourcemaps'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >var</span> del <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >'del'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >var</span> paths <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  scripts<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>'client<span class="token operator" >/</span>js<span class="token comment" spellcheck="true">/**/</span><span class="token operator" >*</span><span class="token punctuation" >.</span>coffee<span class="token string" >', '</span><span class="token operator" >!</span>client<span class="token operator" >/</span>external<span class="token comment" spellcheck="true">/**/</span><span class="token operator" >*</span><span class="token punctuation" >.</span>coffee'<span class="token punctuation" >]</span><span class="token punctuation" >,</span>
  images<span class="token punctuation" >:</span> 'client<span class="token operator" >/</span>img<span class="token comment" spellcheck="true">/**/</span><span class="token operator" >*</span>'
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">// Not all tasks need to use streams
</span><span class="token comment" spellcheck="true">// A gulpfile is just another node program and you can use all packages available on npm
</span>gulp<span class="token punctuation" >.</span><span class="token function" >task<span class="token punctuation" >(</span></span><span class="token string" >'clean'</span><span class="token punctuation" >,</span> <span class="token block-keyword" >function</span><span class="token punctuation" >(</span>cb<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">// You can use multiple globbing patterns as you would with `gulp.src`
</span>  <span class="token function" >del<span class="token punctuation" >(</span></span><span class="token punctuation" >[</span><span class="token string" >'build'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span> cb<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

gulp<span class="token punctuation" >.</span><span class="token function" >task<span class="token punctuation" >(</span></span><span class="token string" >'scripts'</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >'clean'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span> <span class="token block-keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">// Minify and copy all JavaScript (except vendor scripts)
</span>  <span class="token comment" spellcheck="true">// with sourcemaps all the way down
</span>  <span class="token keyword" >return</span> gulp<span class="token punctuation" >.</span><span class="token function" >src<span class="token punctuation" >(</span></span>paths<span class="token punctuation" >.</span>scripts<span class="token punctuation" >)</span>
    <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span>sourcemaps<span class="token punctuation" >.</span><span class="token function" >init<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span><span class="token function" >coffee<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span><span class="token function" >uglify<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>
      <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span><span class="token function" >concat<span class="token punctuation" >(</span></span><span class="token string" >'all.min.js'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>
    <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span>sourcemaps<span class="token punctuation" >.</span><span class="token function" >write<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>
    <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span>gulp<span class="token punctuation" >.</span><span class="token function" >dest<span class="token punctuation" >(</span></span><span class="token string" >'build/js'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">// Copy all static images
</span>gulp<span class="token punctuation" >.</span><span class="token function" >task<span class="token punctuation" >(</span></span><span class="token string" >'images'</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >'clean'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span> <span class="token block-keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> gulp<span class="token punctuation" >.</span><span class="token function" >src<span class="token punctuation" >(</span></span>paths<span class="token punctuation" >.</span>images<span class="token punctuation" >)</span>
    <span class="token comment" spellcheck="true">// Pass in options to the task
</span>    <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span><span class="token function" >imagemin<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>optimizationLevel<span class="token punctuation" >:</span> <span class="token number" >5</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>
    <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span>gulp<span class="token punctuation" >.</span><span class="token function" >dest<span class="token punctuation" >(</span></span><span class="token string" >'build/img'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">// Rerun the task when a file changes
</span>gulp<span class="token punctuation" >.</span><span class="token function" >task<span class="token punctuation" >(</span></span><span class="token string" >'watch'</span><span class="token punctuation" >,</span> <span class="token block-keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  gulp<span class="token punctuation" >.</span><span class="token function" >watch<span class="token punctuation" >(</span></span>paths<span class="token punctuation" >.</span>scripts<span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >'scripts'</span><span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  gulp<span class="token punctuation" >.</span><span class="token function" >watch<span class="token punctuation" >(</span></span>paths<span class="token punctuation" >.</span>images<span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >'images'</span><span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">// The default task (called when you run `gulp` from cli)
</span>gulp<span class="token punctuation" >.</span><span class="token function" >task<span class="token punctuation" >(</span></span><span class="token string" >'default'</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >'watch'</span><span class="token punctuation" >,</span> <span class="token string" >'scripts'</span><span class="token punctuation" >,</span> <span class="token string" >'images'</span><span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code><p>Podrobnější porovnání Gulpu a Gruntu můžete najít i v <a href="http://www.zdrojak.cz/clanky/gulp-vs-grunt-souboj-bez-viteze-a-porazeneho/">pěkném článků na Zdrojáku</a>.</p>
<h2>Browserify<a id="browserify">&nbsp;</a></h2><p>Node.js zavedlo do světa JS snadný způsob jak kód modularizovat. Takový modulární systém potřebuje dvě primární věci: možnost exportovat a importovat. Výše jste si mohli již povšimnout importování:</p>
<code class="codeBlock"><span class="token keyword" >var</span> gulp <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >'gulp'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code><p>Obdobný zápis v ES6:</p>
<code class="codeBlock"><span class="token keyword" >import</span> gulp from <span class="token string" >'gulp'</span><span class="token punctuation" >;</span></code><p>Výše uvedené zkusí prohledat <code>/node_modules</code> ve vašem projektu - místo, kam se vám budou ukládat balíčky z npm. Stačí zavolat <code>npm install gulp --save</code> a máte ho tam. Přepínač <code>--save</code> ho navíc přidá do seznamu v <code>package.json</code>. Běžně se totiž <code>/node_modules</code> adresář v Gitu ignoruje a tak je někde potřeba uchovávat seznam všech závislostí.</p>
<p>V <code>/node_modules/gulp</code> se pak import podívá do hlavního souboru daného balíčku a v něm najde export:</p>
<code class="codeBlock"><span class="token keyword" >var</span> inst <span class="token operator" >=</span> <span class="token keyword" >new</span> <span class="token class-name" >Gulp</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> inst<span class="token punctuation" >;</span></code><p><strong>To je vše pěkné, ale asi vás teď napadlo, jak to bude fungovat v prohlížeči? Nebude.</strong> Do prohlížeče můžeme jednotlivé skripty nahrávat pomocí <code>&lt;script&gt; ... &lt;/script&gt;</code>, ale to nám moc nepomůže. Podobných souborů totiž budeme mít v projektu stovky až tisíce a posílat tolik HTTP requestů rozhodně nemůžeme. <strong>Také to nijak neřeší potřebu verzování, minimalizování a zapouzdřování</strong>. Tyto závislosti je tedy potřeba vyřešit už před releasem a uživateli posílat jeden výsledný soubor, ve kterém bude jen to, co skutečně potřebuje.</p>
<p class="pic-container" style="max-width: 250px">
  <img src="images/browserify-9531bd1dc0c33791eacc050469a3c4da.png" class="pic" title="Magické Browserify" />
</p>

<p><strong>A tak vzniklo <a href="http://browserify.org/">Browserify</a></strong>. Vezme váš kód a vyřeší všechny <code>require</code> a <code>module.exports</code> a vyplivne jeden výsledný soubor. <strong>JavaScript, který byl původně určen pro node.js, dokáže udělat kompatibilní pro prohlížeče</strong>. Poradí si například i s core node.js knihovnami. Nicméně to má samozřejmě jistá omezení. Například nemůžete pracovat s <code>fs</code> (filesystem). Velkým plusem je, že není potřeba nic konfigurovat - jednoduše to bude fungovat. Všechna magie se děje uvnitř. Ne nadarmo má ve znaku kouzelnický klobouk.</p>
<h2>Webpack<a id="webpack">&nbsp;</a></h2><p><strong>Browserify funguje opravdu pěkně, ale i tak má přeci jen pár mušek</strong>. Řeší totiž jenom JavaScript a vše ostatní je potřeba doplnit spoustou gulp modulů. Navíc se ukázalo, že <strong>kromě JavaScriptu je potřeba podobně zpracovat i CSS</strong> (v praxi například LESS) nebo obrázky. To by nemuselo s Gulpem a jeho tisíci pluginy vadit, že? Bohužel Gulp má jednu zásadní slabinu, která plyne ze streamování. Neumí úplně přímočaře vytvořit z několika souborů jeden výstupní (s tím se umí lépe vypořádat např. undergroundovější task runner <a href="http://broccolijs.com/">Broccoli</a>). Je tak potřeba v gulp tascích řešit trochu nešikovně bundlování. A z toho zase mohou vznikat další obtíže, jako je správné odchytávání a zobrazování chyb. Dá se s tím poprat, ale budete cítit, že to není úplně ono.</p>
<p><strong><a href="http://webpack.github.io/">Webpack</a> na to jde úplně jinak, tak trochu proti filosofii celého JS ekosystému</strong>. Nedeleguje a nevyčleňuje jednotlivé funkce do více modulů a tak už v základu představuje velmi mocný nástroj. Nástroj, který byl od počátku zamýšlen tak, aby nám vývojářům co nejvíce usnadnil práci. <strong>Základním stavebním kamenem jsou loadery</strong>. Každý formát má vlastní a může jít téměř o cokoliv (.js, .css, .less, .coffee, .png...). Webpack pak přetíží <code>require()</code> volání a můžete ho použít třeba i pro markdown dokumenty (jako tato stránka). Následně pak funguje podobně jako browserify, tedy vyřeší závislosti a sestaví build, ve kterém je jen to potřebné.</p>
<p class="pic-container">
  <img src="images/webpack-db0dcff7a4d65a0b6e1e15fea84f91fb.png" class="pic" title="Webpack proces" />
</p>

<p><strong>Oproti browserify je potřeba ho nakonfigurovat, což není úplně jednoduché</strong>. Na druhou stranu, jakmile to jednou uděláte, získáte velmi mocného společníka. Konfiguraci navíc můžete z velké části obšlehnout. <strong>Poskytuje také jednu killer funkci</strong>, kterou browserify nemá a pro kterou se vyplatí na něj z browserify přejít a tím je <strong>hot module replacement</strong>. Dokáže nahradit a zpracovat modul, aniž by bylo potřeba refreshovat celou stránku (a modul může být javascript, less nebo markdown!). Bez jakýchkoliv dodatečných pluginů v prohlížeči. Pouze čistý JavaScript! To ohromně zefektivňuje vývoj.</p>
<p>Dobré je také zmínit, že <strong>kdykoliv můžete velmi snadno přejít z browserify na webpack</strong> (bez úprav zdrojáků). Udělal jsem to nedávno u projektu s 10 000 řádky kódu a 70 npm moduly bez jediné upravy mimo konfiguraci webpacku a gulpu. Naopak už to vždy jít nemusí (pokud například budete specifikovat loadery inline přímo v require voláních).</p>
<h2>ESLint<a id="eslint">&nbsp;</a></h2><p><strong>Lintování je levný způsob, jak zlepšit stav zdrojáků napříč větším projektem či týmem několika programátorů</strong>. Hlídá totiž styl, jakým kód píšete a tak musí všichni stejně odsazovovat nebo používat závorky. <strong>Pravidla, podle kterých se řídí, si samozřejmě můžete libovolně nastavit</strong>. Nebude vám podstrkovat nějaký svůj styl. Krom toho, že hlídá úhlednost a jednotnost kódu, tak vám leckdy pomůže odhalit i různé překlepy či nepoužíváné importy. <a href="http://eslint.org/">ESLint</a> je poměrně nový JS linter (2013), který si vzal ponaučení z JSHintu a je kompletně modulární. Můžete si do něj tedy přidávat různé doplňky. <strong>Například se vám bude jistě hodit podpora React JSX či Babelu</strong>. Lintování si můžete nainstalovat přímo do svého editoru a zároveň ho přidat i do build procesu, což je taková případná obrana před vývojářem, který by se rozhodl pravidla porušit.</p>
<h2>Závěrem<a id="z-v-rem">&nbsp;</a></h2><p>Tento článek byl především seznamovací a většina z vás v něm asi nenalezla mnoho nového. I tak je ale důležité udělat alespoň rychlý přehled o různých nástrojích a technologiích, které se dnes používají. <strong>V JS světě se budete neustále potýkat s tím, že žádná řešení nejsou ultimátní</strong> a i ta, která jsou zrovna na špici, mohou za půl roku upadnout zcela v zapomnění. A tak tu máme několik kvalitních prohlížečů, editorů, task runnerů, bundlerů, linterů a dokonce i &quot;JavaScript jazyků&quot;.</p>
<p>Ale nebojte, příště už to bude rozhodně zajímavější! Vyhrneme si rukávy a pustíme se konečně do práce. <strong>Ukážeme si, jak to vše poskládat dohromady a napíšeme si první React komponentu!</strong></p>
</div></div></div></div><footer data-reactid=".rcgp8gh7gg.1.0.2"><div class="links" data-reactid=".rcgp8gh7gg.1.0.2.0"><div style="float:left;" data-reactid=".rcgp8gh7gg.1.0.2.0.0"><span data-reactid=".rcgp8gh7gg.1.0.2.0.0.0">◀</span><span data-reactid=".rcgp8gh7gg.1.0.2.0.0.1"> </span><a href="babel.html" target="_self" data-reactid=".rcgp8gh7gg.1.0.2.0.0.2">Javascript? Babel.</a></div><div style="float:right;" data-reactid=".rcgp8gh7gg.1.0.2.0.1"><a href="prvni-dev-stack.html" target="_self" data-reactid=".rcgp8gh7gg.1.0.2.0.1.0">První dev stack</a><span data-reactid=".rcgp8gh7gg.1.0.2.0.1.1"> </span><span data-reactid=".rcgp8gh7gg.1.0.2.0.1.2">▶</span></div></div><div class="Footer" data-reactid=".rcgp8gh7gg.1.0.2.1"><span data-reactid=".rcgp8gh7gg.1.0.2.1.0">Diskutujte prostřednictvím </span><a href="https://github.com/tajo/javascript/issues" data-reactid=".rcgp8gh7gg.1.0.2.1.1">issues</a><span data-reactid=".rcgp8gh7gg.1.0.2.1.2">.</span><br data-reactid=".rcgp8gh7gg.1.0.2.1.3"><span data-reactid=".rcgp8gh7gg.1.0.2.1.4">Vylepšete článek </span><a href="https://github.com/tajo/javascript/pulls" data-reactid=".rcgp8gh7gg.1.0.2.1.5">pull requestem</a><span data-reactid=".rcgp8gh7gg.1.0.2.1.6">.</span><br data-reactid=".rcgp8gh7gg.1.0.2.1.7"><span data-reactid=".rcgp8gh7gg.1.0.2.1.8">Sledujte na </span><a href="https://twitter.com/vmiksu" data-reactid=".rcgp8gh7gg.1.0.2.1.9">twitteru</a><span data-reactid=".rcgp8gh7gg.1.0.2.1.a">. </span><span data-reactid=".rcgp8gh7gg.1.0.2.1.b"> </span><a href="/feed.xml" data-reactid=".rcgp8gh7gg.1.0.2.1.c">RSS</a><span data-reactid=".rcgp8gh7gg.1.0.2.1.d">.</span><br data-reactid=".rcgp8gh7gg.1.0.2.1.e"><b data-reactid=".rcgp8gh7gg.1.0.2.1.f">Sdílejte!</b></div></footer></div><script data-reactid=".rcgp8gh7gg.1.1">window.INITIAL_PROPS = {"location":"nastroje.html","devMode":false,"files":{"main.css":"main-73051c71144d61d48eff.css","main.js":"main-73051c71144d61d48eff.js"}};
</script><script src="main-73051c71144d61d48eff.js" data-reactid=".rcgp8gh7gg.1.2"></script><div data-reactid=".rcgp8gh7gg.1.3">
        <script>
          var host = "dzejes.cz";
          if ((host == window.location.host) && (window.location.protocol != "https:")) {
            window.location.protocol = "https";
          }

          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-63660429-1', 'auto');
          ga('send', 'pageview');
        </script>
      </div></body></html>