!function(n){function a(s){if(t[s])return t[s].exports;var e=t[s]={exports:{},id:s,loaded:!1};return n[s].call(e.exports,e,e.exports,a),e.loaded=!0,e.exports}var t={};return a.m=n,a.c=t,a.p="",a(0)}([function(n,a,t){n.exports=t(97)},function(n,a,t){"use strict";var s=function(n,a,t,s,e,o,p,c){if(!n){var r;if(void 0===a)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[t,s,e,o,p,c],l=0;r=new Error("Invariant Violation: "+a.replace(/%s/g,function(){return u[l++]}))}throw r.framesToPop=1,r}};n.exports=s},function(n,a,t){"use strict";function s(n,a){if(null==n)throw new TypeError("Object.assign target cannot be null or undefined");for(var t=Object(n),s=Object.prototype.hasOwnProperty,e=1;e<arguments.length;e++){var o=arguments[e];if(null!=o){var p=Object(o);for(var c in p)s.call(p,c)&&(t[c]=p[c])}}return t}n.exports=s},function(n,a,t){"use strict";var s=t(46),e=t(12),o=t(2),p=(t(4),{key:!0,ref:!0}),c=function(n,a,t,s,e,o){this.type=n,this.key=a,this.ref=t,this._owner=s,this._context=e,this.props=o};c.prototype={_isReactElement:!0},c.createElement=function(n,a,t){var o,r={},u=null,l=null;if(null!=a){l=void 0===a.ref?null:a.ref,u=void 0===a.key?null:""+a.key;for(o in a)a.hasOwnProperty(o)&&!p.hasOwnProperty(o)&&(r[o]=a[o])}var i=arguments.length-2;if(1===i)r.children=t;else if(i>1){for(var k=Array(i),d=0;i>d;d++)k[d]=arguments[d+2];r.children=k}if(n&&n.defaultProps){var m=n.defaultProps;for(o in m)"undefined"==typeof r[o]&&(r[o]=m[o])}return new c(n,u,l,e.current,s.current,r)},c.createFactory=function(n){var a=c.createElement.bind(null,n);return a.type=n,a},c.cloneAndReplaceProps=function(n,a){var t=new c(n.type,n.key,n.ref,n._owner,n._context,a);return t},c.cloneElement=function(n,a,t){var s,r=o({},n.props),u=n.key,l=n.ref,i=n._owner;if(null!=a){void 0!==a.ref&&(l=a.ref,i=e.current),void 0!==a.key&&(u=""+a.key);for(s in a)a.hasOwnProperty(s)&&!p.hasOwnProperty(s)&&(r[s]=a[s])}var k=arguments.length-2;if(1===k)r.children=t;else if(k>1){for(var d=Array(k),m=0;k>m;m++)d[m]=arguments[m+2];r.children=d}return new c(n.type,u,l,i,n._context,r)},c.isValidElement=function(n){var a=!(!n||!n._isReactElement);return a},n.exports=c},function(n,a,t){"use strict";var s=t(14),e=s;n.exports=e},function(n,a,t){n.exports=t(144)},function(n,a,t){"use strict";var s=!("undefined"==typeof window||!window.document||!window.document.createElement),e={canUseDOM:s,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:s&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:s&&!!window.screen,isInWorker:!s};n.exports=e},function(n,a,t){"use strict";var s=t(28),e=s({bubbled:null,captured:null}),o=s({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),p={topLevelTypes:o,PropagationPhases:e};n.exports=p},function(n,a,t){"use strict";function s(n,a){var t=C.hasOwnProperty(a)?C[a]:null;x.hasOwnProperty(a)&&g(t===z.OVERRIDE_BASE),n.hasOwnProperty(a)&&g(t===z.DEFINE_MANY||t===z.DEFINE_MANY_MERGED)}function e(n,a){if(a){g("function"!=typeof a),g(!k.isValidElement(a));var t=n.prototype;a.hasOwnProperty(j)&&E.mixins(n,a.mixins);for(var e in a)if(a.hasOwnProperty(e)&&e!==j){var o=a[e];if(s(t,e),E.hasOwnProperty(e))E[e](n,o);else{var p=C.hasOwnProperty(e),u=t.hasOwnProperty(e),l=o&&o.__reactDontBind,i="function"==typeof o,d=i&&!p&&!u&&!l;if(d)t.__reactAutoBindMap||(t.__reactAutoBindMap={}),t.__reactAutoBindMap[e]=o,t[e]=o;else if(u){var m=C[e];g(p&&(m===z.DEFINE_MANY_MERGED||m===z.DEFINE_MANY)),m===z.DEFINE_MANY_MERGED?t[e]=c(t[e],o):m===z.DEFINE_MANY&&(t[e]=r(t[e],o))}else t[e]=o}}}}function o(n,a){if(a)for(var t in a){var s=a[t];if(a.hasOwnProperty(t)){var e=t in E;g(!e);var o=t in n;g(!o),n[t]=s}}}function p(n,a){g(n&&a&&"object"==typeof n&&"object"==typeof a);for(var t in a)a.hasOwnProperty(t)&&(g(void 0===n[t]),n[t]=a[t]);return n}function c(n,a){return function(){var t=n.apply(this,arguments),s=a.apply(this,arguments);if(null==t)return s;if(null==s)return t;var e={};return p(e,t),p(e,s),e}}function r(n,a){return function(){n.apply(this,arguments),a.apply(this,arguments)}}function u(n,a){var t=a.bind(n);return t}function l(n){for(var a in n.__reactAutoBindMap)if(n.__reactAutoBindMap.hasOwnProperty(a)){var t=n.__reactAutoBindMap[a];n[a]=u(n,d.guard(t,n.constructor.displayName+"."+a))}}var i=t(68),k=(t(12),t(3)),d=t(160),m=t(21),v=t(49),h=(t(50),t(32),t(51)),f=t(2),g=t(1),y=t(28),b=t(15),j=(t(4),b({mixins:null})),z=y({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),w=[],C={mixins:z.DEFINE_MANY,statics:z.DEFINE_MANY,propTypes:z.DEFINE_MANY,contextTypes:z.DEFINE_MANY,childContextTypes:z.DEFINE_MANY,getDefaultProps:z.DEFINE_MANY_MERGED,getInitialState:z.DEFINE_MANY_MERGED,getChildContext:z.DEFINE_MANY_MERGED,render:z.DEFINE_ONCE,componentWillMount:z.DEFINE_MANY,componentDidMount:z.DEFINE_MANY,componentWillReceiveProps:z.DEFINE_MANY,shouldComponentUpdate:z.DEFINE_ONCE,componentWillUpdate:z.DEFINE_MANY,componentDidUpdate:z.DEFINE_MANY,componentWillUnmount:z.DEFINE_MANY,updateComponent:z.OVERRIDE_BASE},E={displayName:function(n,a){n.displayName=a},mixins:function(n,a){if(a)for(var t=0;t<a.length;t++)e(n,a[t])},childContextTypes:function(n,a){n.childContextTypes=f({},n.childContextTypes,a)},contextTypes:function(n,a){n.contextTypes=f({},n.contextTypes,a)},getDefaultProps:function(n,a){n.getDefaultProps?n.getDefaultProps=c(n.getDefaultProps,a):n.getDefaultProps=a},propTypes:function(n,a){n.propTypes=f({},n.propTypes,a)},statics:function(n,a){o(n,a)}},x={replaceState:function(n,a){h.enqueueReplaceState(this,n),a&&h.enqueueCallback(this,a)},isMounted:function(){var n=m.get(this);return n&&n!==v.currentlyMountingInstance},setProps:function(n,a){h.enqueueSetProps(this,n),a&&h.enqueueCallback(this,a)},replaceProps:function(n,a){h.enqueueReplaceProps(this,n),a&&h.enqueueCallback(this,a)}},_=function(){};f(_.prototype,i.prototype,x);var S={createClass:function(n){var a=function(n,a){this.__reactAutoBindMap&&l(this),this.props=n,this.context=a,this.state=null;var t=this.getInitialState?this.getInitialState():null;g("object"==typeof t&&!Array.isArray(t)),this.state=t};a.prototype=new _,a.prototype.constructor=a,w.forEach(e.bind(null,a)),e(a,n),a.getDefaultProps&&(a.defaultProps=a.getDefaultProps()),g(a.prototype.render);for(var t in C)a.prototype[t]||(a.prototype[t]=null);return a.type=a,a},injection:{injectMixin:function(n){w.push(n)}}};n.exports=S},function(n,a,t){"use strict";function s(){h(x.ReactReconcileTransaction&&b)}function e(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(),this.reconcileTransaction=x.ReactReconcileTransaction.getPooled()}function o(n,a,t,e,o){s(),b.batchedUpdates(n,a,t,e,o)}function p(n,a){return n._mountOrder-a._mountOrder}function c(n){var a=n.dirtyComponentsLength;h(a===f.length),f.sort(p);for(var t=0;a>t;t++){var s=f[t],e=s._pendingCallbacks;if(s._pendingCallbacks=null,d.performUpdateIfNecessary(s,n.reconcileTransaction),e)for(var o=0;o<e.length;o++)n.callbackQueue.enqueue(e[o],s.getPublicInstance())}}function r(n){return s(),b.isBatchingUpdates?void f.push(n):void b.batchedUpdates(r,n)}function u(n,a){h(b.isBatchingUpdates),g.enqueue(n,a),y=!0}var l=t(40),i=t(10),k=(t(12),t(16)),d=t(22),m=t(34),v=t(2),h=t(1),f=(t(4),[]),g=l.getPooled(),y=!1,b=null,j={initialize:function(){this.dirtyComponentsLength=f.length},close:function(){this.dirtyComponentsLength!==f.length?(f.splice(0,this.dirtyComponentsLength),C()):f.length=0}},z={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},w=[j,z];v(e.prototype,m.Mixin,{getTransactionWrappers:function(){return w},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,x.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(n,a,t){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,n,a,t)}}),i.addPoolingTo(e);var C=function(){for(;f.length||y;){if(f.length){var n=e.getPooled();n.perform(c,null,n),e.release(n)}if(y){y=!1;var a=g;g=l.getPooled(),a.notifyAll(),l.release(a)}}};C=k.measure("ReactUpdates","flushBatchedUpdates",C);var E={injectReconcileTransaction:function(n){h(n),x.ReactReconcileTransaction=n},injectBatchingStrategy:function(n){h(n),h("function"==typeof n.batchedUpdates),h("boolean"==typeof n.isBatchingUpdates),b=n}},x={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:r,flushBatchedUpdates:C,injection:E,asap:u};n.exports=x},function(n,a,t){"use strict";var s=t(1),e=function(n){var a=this;if(a.instancePool.length){var t=a.instancePool.pop();return a.call(t,n),t}return new a(n)},o=function(n,a){var t=this;if(t.instancePool.length){var s=t.instancePool.pop();return t.call(s,n,a),s}return new t(n,a)},p=function(n,a,t){var s=this;if(s.instancePool.length){var e=s.instancePool.pop();return s.call(e,n,a,t),e}return new s(n,a,t)},c=function(n,a,t,s,e){var o=this;if(o.instancePool.length){var p=o.instancePool.pop();return o.call(p,n,a,t,s,e),p}return new o(n,a,t,s,e)},r=function(n){var a=this;s(n instanceof a),n.destructor&&n.destructor(),a.instancePool.length<a.poolSize&&a.instancePool.push(n)},u=10,l=e,i=function(n,a){var t=n;return t.instancePool=[],t.getPooled=a||l,t.poolSize||(t.poolSize=u),t.release=r,t},k={addPoolingTo:i,oneArgumentPooler:e,twoArgumentPooler:o,threeArgumentPooler:p,fiveArgumentPooler:c};n.exports=k},function(n,a,t){"use strict";var s=t(79),e={getDOMNode:function(){return s(this)}};n.exports=e},function(n,a,t){"use strict";var s={current:null};n.exports=s},function(n,a,t){"use strict";function s(n,a){for(var t=Math.min(n.length,a.length),s=0;t>s;s++)if(n.charAt(s)!==a.charAt(s))return s;return n.length===a.length?-1:t}function e(n){var a=M(n);return a&&F.getID(a)}function o(n){var a=p(n);if(a)if(I.hasOwnProperty(a)){var t=I[a];t!==n&&(N(!l(t,a)),I[a]=n)}else I[a]=n;return a}function p(n){return n&&n.getAttribute&&n.getAttribute(O)||""}function c(n,a){var t=p(n);t!==a&&delete I[t],n.setAttribute(O,a),I[a]=n}function r(n){return I.hasOwnProperty(n)&&l(I[n],n)||(I[n]=F.findReactNodeByID(n)),I[n]}function u(n){var a=j.get(n)._rootNodeID;return y.isNullComponentID(a)?null:(I.hasOwnProperty(a)&&l(I[a],a)||(I[a]=F.findReactNodeByID(a)),I[a])}function l(n,a){if(n){N(p(n)===a);var t=F.findReactContainerForID(a);if(t&&S(t,n))return!0}return!1}function i(n){delete I[n]}function k(n){var a=I[n];return a&&l(a,n)?void(V=a):!1}function d(n){V=null,b.traverseAncestors(n,k);var a=V;return V=null,a}function m(n,a,t,s,e){var o=C.mountComponent(n,a,s,_);n._isTopLevel=!0,F._mountImageIntoNode(o,t,e)}function v(n,a,t,s){var e=x.ReactReconcileTransaction.getPooled();e.perform(m,null,n,a,t,e,s),x.ReactReconcileTransaction.release(e)}var h=t(18),f=t(19),g=(t(12),t(3)),y=(t(26),t(48)),b=t(20),j=t(21),z=t(72),w=t(16),C=t(22),E=t(51),x=t(9),_=t(35),S=t(78),M=t(192),D=t(57),N=t(1),P=t(59),T=t(60),R=(t(4),b.SEPARATOR),O=h.ID_ATTRIBUTE_NAME,I={},A=1,L=9,B={},q={},U=[],V=null,F={_instancesByReactRootID:B,scrollMonitor:function(n,a){a()},_updateRootComponent:function(n,a,t,s){return F.scrollMonitor(t,function(){E.enqueueElementInternal(n,a),s&&E.enqueueCallbackInternal(n,s)}),n},_registerComponent:function(n,a){N(a&&(a.nodeType===A||a.nodeType===L)),f.ensureScrollValueMonitoring();var t=F.registerContainer(a);return B[t]=n,t},_renderNewRootComponent:function(n,a,t){var s=D(n,null),e=F._registerComponent(s,a);return x.batchedUpdates(v,s,e,a,t),s},render:function(n,a,t){N(g.isValidElement(n));var s=B[e(a)];if(s){var o=s._currentElement;if(T(o,n))return F._updateRootComponent(s,n,a,t).getPublicInstance();F.unmountComponentAtNode(a)}var p=M(a),c=p&&F.isRenderedByReact(p),r=c&&!s,u=F._renderNewRootComponent(n,a,r).getPublicInstance();return t&&t.call(u),u},constructAndRenderComponent:function(n,a,t){var s=g.createElement(n,a);return F.render(s,t)},constructAndRenderComponentByID:function(n,a,t){var s=document.getElementById(t);return N(s),F.constructAndRenderComponent(n,a,s)},registerContainer:function(n){var a=e(n);return a&&(a=b.getReactRootIDFromNodeID(a)),a||(a=b.createReactRootID()),q[a]=n,a},unmountComponentAtNode:function(n){N(n&&(n.nodeType===A||n.nodeType===L));var a=e(n),t=B[a];return t?(F.unmountComponentFromNode(t,n),delete B[a],delete q[a],!0):!1},unmountComponentFromNode:function(n,a){for(C.unmountComponent(n),a.nodeType===L&&(a=a.documentElement);a.lastChild;)a.removeChild(a.lastChild)},findReactContainerForID:function(n){var a=b.getReactRootIDFromNodeID(n),t=q[a];return t},findReactNodeByID:function(n){var a=F.findReactContainerForID(n);return F.findComponentRoot(a,n)},isRenderedByReact:function(n){if(1!==n.nodeType)return!1;var a=F.getID(n);return a?a.charAt(0)===R:!1},getFirstReactDOM:function(n){for(var a=n;a&&a.parentNode!==a;){if(F.isRenderedByReact(a))return a;a=a.parentNode}return null},findComponentRoot:function(n,a){var t=U,s=0,e=d(a)||n;for(t[0]=e.firstChild,t.length=1;s<t.length;){for(var o,p=t[s++];p;){var c=F.getID(p);c?a===c?o=p:b.isAncestorIDOf(c,a)&&(t.length=s=0,t.push(p.firstChild)):t.push(p.firstChild),p=p.nextSibling}if(o)return t.length=0,o}t.length=0,N(!1)},_mountImageIntoNode:function(n,a,t){if(N(a&&(a.nodeType===A||a.nodeType===L)),t){var e=M(a);if(z.canReuseMarkup(n,e))return;var o=e.getAttribute(z.CHECKSUM_ATTR_NAME);e.removeAttribute(z.CHECKSUM_ATTR_NAME);var p=e.outerHTML;e.setAttribute(z.CHECKSUM_ATTR_NAME,o);var c=s(n,p);" (client) "+n.substring(c-20,c+20)+"\n (server) "+p.substring(c-20,c+20);N(a.nodeType!==L)}N(a.nodeType!==L),P(a,n)},getReactRootID:e,getID:o,setID:c,getNode:r,getNodeFromInstance:u,purgeID:i};w.measureMethods(F,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),n.exports=F},function(n,a,t){function s(n){return function(){return n}}function e(){}e.thatReturns=s,e.thatReturnsFalse=s(!1),e.thatReturnsTrue=s(!0),e.thatReturnsNull=s(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(n){return n},n.exports=e},function(n,a,t){var s=function(n){var a;for(a in n)if(n.hasOwnProperty(a))return a;return null};n.exports=s},function(n,a,t){"use strict";function s(n,a,t){return t}var e={enableMeasure:!1,storedMeasure:s,measureMethods:function(n,a,t){},measure:function(n,a,t){return t},injection:{injectMeasure:function(n){e.storedMeasure=n}}};n.exports=e},function(n,a,t){"use strict";function s(n,a,t){this.dispatchConfig=n,this.dispatchMarker=a,this.nativeEvent=t;var s=this.constructor.Interface;for(var e in s)if(s.hasOwnProperty(e)){var o=s[e];o?this[e]=o(t):this[e]=t[e]}var c=null!=t.defaultPrevented?t.defaultPrevented:t.returnValue===!1;c?this.isDefaultPrevented=p.thatReturnsTrue:this.isDefaultPrevented=p.thatReturnsFalse,this.isPropagationStopped=p.thatReturnsFalse}var e=t(10),o=t(2),p=t(14),c=t(56),r={type:null,target:c,currentTarget:p.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n.preventDefault?n.preventDefault():n.returnValue=!1,this.isDefaultPrevented=p.thatReturnsTrue},stopPropagation:function(){var n=this.nativeEvent;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,this.isPropagationStopped=p.thatReturnsTrue},persist:function(){this.isPersistent=p.thatReturnsTrue},isPersistent:p.thatReturnsFalse,destructor:function(){var n=this.constructor.Interface;for(var a in n)this[a]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),s.Interface=r,s.augmentClass=function(n,a){var t=this,s=Object.create(t.prototype);o(s,n.prototype),n.prototype=s,n.prototype.constructor=n,n.Interface=o({},t.Interface,a),n.augmentClass=t.augmentClass,e.addPoolingTo(n,e.threeArgumentPooler)},e.addPoolingTo(s,e.threeArgumentPooler),n.exports=s},function(n,a,t){"use strict";function s(n,a){return(n&a)===a}var e=t(1),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(n){var a=n.Properties||{},t=n.DOMAttributeNames||{},p=n.DOMPropertyNames||{},r=n.DOMMutationMethods||{};n.isCustomAttribute&&c._isCustomAttributeFunctions.push(n.isCustomAttribute);for(var u in a){e(!c.isStandardName.hasOwnProperty(u)),c.isStandardName[u]=!0;var l=u.toLowerCase();if(c.getPossibleStandardName[l]=u,t.hasOwnProperty(u)){var i=t[u];c.getPossibleStandardName[i]=u,c.getAttributeName[u]=i}else c.getAttributeName[u]=l;c.getPropertyName[u]=p.hasOwnProperty(u)?p[u]:u,r.hasOwnProperty(u)?c.getMutationMethod[u]=r[u]:c.getMutationMethod[u]=null;var k=a[u];c.mustUseAttribute[u]=s(k,o.MUST_USE_ATTRIBUTE),c.mustUseProperty[u]=s(k,o.MUST_USE_PROPERTY),c.hasSideEffects[u]=s(k,o.HAS_SIDE_EFFECTS),c.hasBooleanValue[u]=s(k,o.HAS_BOOLEAN_VALUE),c.hasNumericValue[u]=s(k,o.HAS_NUMERIC_VALUE),c.hasPositiveNumericValue[u]=s(k,o.HAS_POSITIVE_NUMERIC_VALUE),c.hasOverloadedBooleanValue[u]=s(k,o.HAS_OVERLOADED_BOOLEAN_VALUE),e(!c.mustUseAttribute[u]||!c.mustUseProperty[u]),e(c.mustUseProperty[u]||!c.hasSideEffects[u]),e(!!c.hasBooleanValue[u]+!!c.hasNumericValue[u]+!!c.hasOverloadedBooleanValue[u]<=1)}}},p={},c={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(n){for(var a=0;a<c._isCustomAttributeFunctions.length;a++){var t=c._isCustomAttributeFunctions[a];if(t(n))return!0}return!1},getDefaultValueForProperty:function(n,a){var t,s=p[n];return s||(p[n]=s={}),a in s||(t=document.createElement(n),s[a]=t[a]),s[a]},injection:o};n.exports=c},function(n,a,t){"use strict";function s(n){return Object.prototype.hasOwnProperty.call(n,v)||(n[v]=d++,i[n[v]]={}),i[n[v]]}var e=t(7),o=t(24),p=t(67),c=t(161),r=t(77),u=t(2),l=t(58),i={},k=!1,d=0,m={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),h=u({},c,{ReactEventListener:null,injection:{injectReactEventListener:function(n){n.setHandleTopLevel(h.handleTopLevel),h.ReactEventListener=n}},setEnabled:function(n){h.ReactEventListener&&h.ReactEventListener.setEnabled(n)},isEnabled:function(){return!(!h.ReactEventListener||!h.ReactEventListener.isEnabled())},listenTo:function(n,a){for(var t=a,o=s(t),c=p.registrationNameDependencies[n],r=e.topLevelTypes,u=0,i=c.length;i>u;u++){var k=c[u];o.hasOwnProperty(k)&&o[k]||(k===r.topWheel?l("wheel")?h.ReactEventListener.trapBubbledEvent(r.topWheel,"wheel",t):l("mousewheel")?h.ReactEventListener.trapBubbledEvent(r.topWheel,"mousewheel",t):h.ReactEventListener.trapBubbledEvent(r.topWheel,"DOMMouseScroll",t):k===r.topScroll?l("scroll",!0)?h.ReactEventListener.trapCapturedEvent(r.topScroll,"scroll",t):h.ReactEventListener.trapBubbledEvent(r.topScroll,"scroll",h.ReactEventListener.WINDOW_HANDLE):k===r.topFocus||k===r.topBlur?(l("focus",!0)?(h.ReactEventListener.trapCapturedEvent(r.topFocus,"focus",t),h.ReactEventListener.trapCapturedEvent(r.topBlur,"blur",t)):l("focusin")&&(h.ReactEventListener.trapBubbledEvent(r.topFocus,"focusin",t),h.ReactEventListener.trapBubbledEvent(r.topBlur,"focusout",t)),o[r.topBlur]=!0,o[r.topFocus]=!0):m.hasOwnProperty(k)&&h.ReactEventListener.trapBubbledEvent(k,m[k],t),o[k]=!0)}},trapBubbledEvent:function(n,a,t){return h.ReactEventListener.trapBubbledEvent(n,a,t)},trapCapturedEvent:function(n,a,t){return h.ReactEventListener.trapCapturedEvent(n,a,t)},ensureScrollValueMonitoring:function(){if(!k){var n=r.refreshScrollValues;h.ReactEventListener.monitorScrollValue(n),k=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});n.exports=h},function(n,a,t){"use strict";function s(n){return d+n.toString(36)}function e(n,a){return n.charAt(a)===d||a===n.length}function o(n){return""===n||n.charAt(0)===d&&n.charAt(n.length-1)!==d}function p(n,a){return 0===a.indexOf(n)&&e(a,n.length)}function c(n){return n?n.substr(0,n.lastIndexOf(d)):""}function r(n,a){if(k(o(n)&&o(a)),k(p(n,a)),n===a)return n;var t,s=n.length+m;for(t=s;t<a.length&&!e(a,t);t++);return a.substr(0,t)}function u(n,a){var t=Math.min(n.length,a.length);if(0===t)return"";for(var s=0,p=0;t>=p;p++)if(e(n,p)&&e(a,p))s=p;else if(n.charAt(p)!==a.charAt(p))break;var c=n.substr(0,s);return k(o(c)),c}function l(n,a,t,s,e,o){n=n||"",a=a||"",k(n!==a);var u=p(a,n);k(u||p(n,a));for(var l=0,i=u?c:r,d=n;;d=i(d,a)){var m;if(e&&d===n||o&&d===a||(m=t(d,u,s)),m===!1||d===a)break;k(l++<v)}}var i=t(76),k=t(1),d=".",m=d.length,v=100,h={createReactRootID:function(){return s(i.createReactRootIndex())},createReactID:function(n,a){return n+a},getReactRootIDFromNodeID:function(n){if(n&&n.charAt(0)===d&&n.length>1){var a=n.indexOf(d,1);return a>-1?n.substr(0,a):n}return null},traverseEnterLeave:function(n,a,t,s,e){var o=u(n,a);o!==n&&l(n,o,t,s,!1,!0),o!==a&&l(o,a,t,e,!0,!1)},traverseTwoPhase:function(n,a,t){n&&(l("",n,a,t,!0,!1),l(n,"",a,t,!1,!0))},traverseAncestors:function(n,a,t){l("",n,a,t,!0,!1)},_getFirstCommonAncestorID:u,_getNextDescendantID:r,isAncestorIDOf:p,SEPARATOR:d};n.exports=h},function(n,a,t){"use strict";var s={remove:function(n){n._reactInternalInstance=void 0},get:function(n){return n._reactInternalInstance},has:function(n){return void 0!==n._reactInternalInstance},set:function(n,a){n._reactInternalInstance=a}};n.exports=s},function(n,a,t){"use strict";function s(){e.attachRefs(this,this._currentElement)}var e=t(167),o=(t(26),{mountComponent:function(n,a,t,e){var o=n.mountComponent(a,t,e);return t.getReactMountReady().enqueue(s,n),o},unmountComponent:function(n){e.detachRefs(n,n._currentElement),n.unmountComponent()},receiveComponent:function(n,a,t,o){var p=n._currentElement;if(a!==p||null==a._owner){var c=e.shouldUpdateRefs(p,a);c&&e.detachRefs(n,p),n.receiveComponent(a,t,o),c&&t.getReactMountReady().enqueue(s,n)}},performUpdateIfNecessary:function(n,a){n.performUpdateIfNecessary(a)}});n.exports=o},function(n,a,t){"use strict";function s(n,a){return null==a||e.hasBooleanValue[n]&&!a||e.hasNumericValue[n]&&isNaN(a)||e.hasPositiveNumericValue[n]&&1>a||e.hasOverloadedBooleanValue[n]&&a===!1}var e=t(18),o=t(200),p=(t(4),{createMarkupForID:function(n){return e.ID_ATTRIBUTE_NAME+"="+o(n)},createMarkupForProperty:function(n,a){if(e.isStandardName.hasOwnProperty(n)&&e.isStandardName[n]){if(s(n,a))return"";var t=e.getAttributeName[n];return e.hasBooleanValue[n]||e.hasOverloadedBooleanValue[n]&&a===!0?t:t+"="+o(a)}return e.isCustomAttribute(n)?null==a?"":n+"="+o(a):null},setValueForProperty:function(n,a,t){if(e.isStandardName.hasOwnProperty(a)&&e.isStandardName[a]){var o=e.getMutationMethod[a];if(o)o(n,t);else if(s(a,t))this.deleteValueForProperty(n,a);else if(e.mustUseAttribute[a])n.setAttribute(e.getAttributeName[a],""+t);else{var p=e.getPropertyName[a];e.hasSideEffects[a]&&""+n[p]==""+t||(n[p]=t)}}else e.isCustomAttribute(a)&&(null==t?n.removeAttribute(a):n.setAttribute(a,""+t))},deleteValueForProperty:function(n,a){if(e.isStandardName.hasOwnProperty(a)&&e.isStandardName[a]){var t=e.getMutationMethod[a];if(t)t(n,void 0);else if(e.mustUseAttribute[a])n.removeAttribute(e.getAttributeName[a]);else{var s=e.getPropertyName[a],o=e.getDefaultValueForProperty(n.nodeName,s);e.hasSideEffects[a]&&""+n[s]===o||(n[s]=o)}}else e.isCustomAttribute(a)&&n.removeAttribute(a)}});n.exports=p},function(n,a,t){"use strict";var s=t(67),e=t(41),o=t(52),p=t(53),c=t(1),r={},u=null,l=function(n){if(n){var a=e.executeDispatch,t=s.getPluginModuleForEvent(n);t&&t.executeDispatch&&(a=t.executeDispatch),e.executeDispatchesInOrder(n,a),n.isPersistent()||n.constructor.release(n)}},i=null,k={injection:{injectMount:e.injection.injectMount,injectInstanceHandle:function(n){i=n},getInstanceHandle:function(){return i},injectEventPluginOrder:s.injectEventPluginOrder,injectEventPluginsByName:s.injectEventPluginsByName},eventNameDispatchConfigs:s.eventNameDispatchConfigs,registrationNameModules:s.registrationNameModules,putListener:function(n,a,t){c(!t||"function"==typeof t);var s=r[a]||(r[a]={});s[n]=t},getListener:function(n,a){var t=r[a];return t&&t[n]},deleteListener:function(n,a){var t=r[a];t&&delete t[n]},deleteAllListeners:function(n){for(var a in r)delete r[a][n]},extractEvents:function(n,a,t,e){for(var p,c=s.plugins,r=0,u=c.length;u>r;r++){var l=c[r];if(l){var i=l.extractEvents(n,a,t,e);i&&(p=o(p,i))}}return p},enqueueEvents:function(n){n&&(u=o(u,n))},processEventQueue:function(){var n=u;u=null,p(n,l),c(!u)},__purge:function(){r={}},__getListenerBank:function(){return r}};n.exports=k},function(n,a,t){"use strict";function s(n,a,t){var s=a.dispatchConfig.phasedRegistrationNames[t];return h(n,s)}function e(n,a,t){var e=a?v.bubbled:v.captured,o=s(n,t,e);o&&(t._dispatchListeners=d(t._dispatchListeners,o),t._dispatchIDs=d(t._dispatchIDs,n))}function o(n){n&&n.dispatchConfig.phasedRegistrationNames&&k.injection.getInstanceHandle().traverseTwoPhase(n.dispatchMarker,e,n)}function p(n,a,t){if(t&&t.dispatchConfig.registrationName){var s=t.dispatchConfig.registrationName,e=h(n,s);e&&(t._dispatchListeners=d(t._dispatchListeners,e),t._dispatchIDs=d(t._dispatchIDs,n))}}function c(n){n&&n.dispatchConfig.registrationName&&p(n.dispatchMarker,null,n)}function r(n){m(n,o)}function u(n,a,t,s){k.injection.getInstanceHandle().traverseEnterLeave(t,s,p,n,a)}function l(n){m(n,c)}var i=t(7),k=t(24),d=t(52),m=t(53),v=i.PropagationPhases,h=k.getListener,f={accumulateTwoPhaseDispatches:r,accumulateDirectDispatches:l,accumulateEnterLeaveDispatches:u};n.exports=f},function(n,a,t){"use strict";function s(){if(g.current){var n=g.current.getName();if(n)return" Check the render method of `"+n+"`."}return""}function e(n){var a=n&&n.getPublicInstance();if(!a)return void 0;var t=a.constructor;return t?t.displayName||t.name||void 0:void 0}function o(){var n=g.current;return n&&e(n)||void 0}function p(n,a){n._store.validated||null!=n.key||(n._store.validated=!0,r('Each child in an array or iterator should have a unique "key" prop.',n,a))}function c(n,a,t){C.test(n)&&r("Child objects should have non-numeric keys so ordering is preserved.",a,t)}function r(n,a,t){var s=o(),p="string"==typeof t?t:t.displayName||t.name,c=s||p,r=z[n]||(z[n]={});if(!r.hasOwnProperty(c)){r[c]=!0;var u="";if(a&&a._owner&&a._owner!==g.current){var l=e(a._owner);u=" It was passed a child from "+l+"."}}}function u(n,a){if(Array.isArray(n))for(var t=0;t<n.length;t++){var s=n[t];v.isValidElement(s)&&p(s,a)}else if(v.isValidElement(n))n._store.validated=!0;else if(n){var e=b(n);if(e){if(e!==n.entries)for(var o,r=e.call(n);!(o=r.next()).done;)v.isValidElement(o.value)&&p(o.value,a)}else if("object"==typeof n){var u=h.extractIfFragment(n);for(var l in u)u.hasOwnProperty(l)&&c(l,u[l],a)}}}function l(n,a,t,e){for(var o in a)if(a.hasOwnProperty(o)){var p;try{j("function"==typeof a[o]),p=a[o](t,o,n,e)}catch(c){p=c}if(p instanceof Error&&!(p.message in w)){w[p.message]=!0;s(this)}}}function i(n,a){var t=a.type,s="string"==typeof t?t:t.displayName,e=a._owner?a._owner.getPublicInstance().constructor.displayName:null,o=n+"|"+s+"|"+e;if(!E.hasOwnProperty(o)){E[o]=!0;var p="";s&&(p=" <"+s+" />");var c="";e&&(c=" The element was created by "+e+".")}}function k(n,a){return n!==n?a!==a:0===n&&0===a?1/n===1/a:n===a}function d(n){if(n._store){var a=n._store.originalProps,t=n.props;for(var s in t)t.hasOwnProperty(s)&&(a.hasOwnProperty(s)&&k(a[s],t[s])||(i(s,n),a[s]=t[s]))}}function m(n){if(null!=n.type){var a=y.getComponentClassForElement(n),t=a.displayName||a.name;a.propTypes&&l(t,a.propTypes,n.props,f.prop),"function"==typeof a.getDefaultProps}}var v=t(3),h=t(30),f=t(50),g=(t(32),t(12)),y=t(31),b=t(82),j=t(1),z=(t(4),{}),w={},C=/^\d+$/,E={},x={checkAndWarnForMutatedProps:d,createElement:function(n,a,t){var s=v.createElement.apply(this,arguments);if(null==s)return s;for(var e=2;e<arguments.length;e++)u(arguments[e],n);return m(s),s},createFactory:function(n){var a=x.createElement.bind(null,n);return a.type=n,a},cloneElement:function(n,a,t){for(var s=v.cloneElement.apply(this,arguments),e=2;e<arguments.length;e++)u(arguments[e],s.type);return m(s),s}};n.exports=x},function(n,a,t){"use strict";function s(n,a,t){e.call(this,n,a,t)}var e=t(17),o=t(56),p={view:function(n){if(n.view)return n.view;var a=o(n);if(null!=a&&a.window===a)return a;var t=a.ownerDocument;return t?t.defaultView||t.parentWindow:window},detail:function(n){return n.detail||0}};e.augmentClass(s,p),n.exports=s},function(n,a,t){"use strict";var s=t(1),e=function(n){var a,t={};s(n instanceof Object&&!Array.isArray(n));for(a in n)n.hasOwnProperty(a)&&(t[a]=a);return t};n.exports=e},function(n,a,t){"use strict";var s=t(80),e={componentDidMount:function(){this.props.autoFocus&&s(this.getDOMNode())}};n.exports=e},function(n,a,t){"use strict";var s=(t(3),t(4),{create:function(n){return n},extract:function(n){return n},extractIfFragment:function(n){return n}});n.exports=s},function(n,a,t){"use strict";function s(n){if("function"==typeof n.type)return n.type;var a=n.type,t=i[a];return null==t&&(i[a]=t=u(a)),t}function e(n){return r(l),new l(n.type,n.props)}function o(n){return new k(n)}function p(n){return n instanceof k}var c=t(2),r=t(1),u=null,l=null,i={},k=null,d={injectGenericComponentClass:function(n){l=n},injectTextComponentClass:function(n){k=n},injectComponentClasses:function(n){c(i,n)},injectAutoWrapper:function(n){u=n}},m={getComponentClassForElement:s,createInternalComponent:e,createInstanceForText:o,isTextComponent:p,injection:d};n.exports=m},function(n,a,t){"use strict";var s={};n.exports=s},function(n,a,t){"use strict";function s(n,a,t){e.call(this,n,a,t)}var e=t(27),o=t(77),p=t(55),c={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:p,button:function(n){var a=n.button;return"which"in n?a:2===a?2:4===a?1:0},buttons:null,relatedTarget:function(n){return n.relatedTarget||(n.fromElement===n.srcElement?n.toElement:n.fromElement)},pageX:function(n){return"pageX"in n?n.pageX:n.clientX+o.currentScrollLeft},pageY:function(n){return"pageY"in n?n.pageY:n.clientY+o.currentScrollTop;
}};e.augmentClass(s,c),n.exports=s},function(n,a,t){"use strict";var s=t(1),e={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(n,a,t,e,o,p,c,r){s(!this.isInTransaction());var u,l;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),l=n.call(a,t,e,o,p,c,r),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(i){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(n){for(var a=this.transactionWrappers,t=n;t<a.length;t++){var s=a[t];try{this.wrapperInitData[t]=o.OBSERVED_ERROR,this.wrapperInitData[t]=s.initialize?s.initialize.call(this):null}finally{if(this.wrapperInitData[t]===o.OBSERVED_ERROR)try{this.initializeAll(t+1)}catch(e){}}}},closeAll:function(n){s(this.isInTransaction());for(var a=this.transactionWrappers,t=n;t<a.length;t++){var e,p=a[t],c=this.wrapperInitData[t];try{e=!0,c!==o.OBSERVED_ERROR&&p.close&&p.close.call(this,c),e=!1}finally{if(e)try{this.closeAll(t+1)}catch(r){}}}this.wrapperInitData.length=0}},o={Mixin:e,OBSERVED_ERROR:{}};n.exports=o},function(n,a,t){"use strict";var s={};n.exports=s},function(n,a,t){"use strict";function s(n){return o[n]}function e(n){return(""+n).replace(p,s)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},p=/[&><"']/g;n.exports=e},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}a.__esModule=!0;var p=t(5),c=s(p);t(104);var r=function(n){function a(){e(this,a),null!=n&&n.apply(this,arguments)}return o(a,n),a.prototype.render=function(){var n=this;return c["default"].createElement("div",{className:"addCar"},c["default"].createElement("h3",null,"Nové auto"),c["default"].createElement("form",{onSubmit:function(a){return n.handleSubmit(a)},ref:"addCar"},c["default"].createElement("label",{htmlFor:"brand"},"Značka:"),c["default"].createElement("input",{id:"brand",type:"text",name:"brand",ref:"brand"}),c["default"].createElement("br",null),c["default"].createElement("label",{htmlFor:"model"},"Model:"),c["default"].createElement("input",{id:"model",type:"text",name:"model",ref:"model"}),c["default"].createElement("br",null),c["default"].createElement("label",{htmlFor:"year"},"Rok:"),c["default"].createElement("input",{id:"year",type:"text",name:"year",ref:"year"}),c["default"].createElement("br",null),c["default"].createElement("input",{type:"submit",value:"Přidat"})))},a.prototype.handleSubmit=function(n){n.preventDefault(),this.props.add({brand:p.findDOMNode(this.refs.brand).value,model:p.findDOMNode(this.refs.model).value,year:p.findDOMNode(this.refs.year).value}),p.findDOMNode(this.refs.addCar).reset()},a}(c["default"].Component);a["default"]=r,r.propTypes={add:c["default"].PropTypes.func.isRequired},n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}a.__esModule=!0;var p=t(5),c=s(p),r=function(n){function a(){e(this,a),null!=n&&n.apply(this,arguments)}return o(a,n),a.prototype.render=function(){var n=this,a={border:"2px solid #CCC",padding:10,margin:"10px 10px 10px 0px",backgroundColor:"#FFF","float":"left"};return c["default"].createElement("div",{style:a},c["default"].createElement("div",null,c["default"].createElement("b",null,"Značka:")," ",this.props.car.brand),this.props.car.details&&c["default"].createElement("div",null,c["default"].createElement("b",null,"Model:")," ",this.props.car.model," ",c["default"].createElement("br",null),c["default"].createElement("b",null,"Rok:")," ",this.props.car.year),c["default"].createElement("button",{onClick:function(){return n.props.toggle(n.props.car.id)}},this.props.car.details?"Méně":"Více")," ",c["default"].createElement("button",{onClick:function(){return n.props.remove(n.props.car.id)}},"x"))},a}(c["default"].Component);a["default"]=r,r.propTypes={car:c["default"].PropTypes.object.isRequired,remove:c["default"].PropTypes.func.isRequired,toggle:c["default"].PropTypes.func.isRequired},n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}a.__esModule=!0;var o=function(){function n(n,a){for(var t=0;t<a.length;t++){var s=a[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(a,t,s){return t&&n(a.prototype,t),s&&n(a,s),a}}(),p=t(5),c=s(p),r=t(98),u=(s(r),function(){function n(){e(this,n)}return n.prototype.render=function(){if(!this.props.html)return null;for(var n=this.props.html.split("$$$"),a=[],s=0;s<n.length;s++){var e=n[s];switch(s%2){case 0:a.push(c["default"].createElement("div",{key:a.length,style:{width:"100%"},dangerouslySetInnerHTML:{__html:e}}));break;case 1:a.push(c["default"].createElement("div",{className:"codeBlock",style:{borderLeft:"solid 5px rgba(44, 83, 158, 0.9)"},key:a.length},c["default"].createElement(t(88)("./"+e+".js"),{key:e}),c["default"].createElement("div",{style:{fontSize:"0.8em",bottom:0,right:0,margin:5,position:"absolute"}},c["default"].createElement("a",{href:"https://github.com/tajo/javascript/tree/master/examples/react/"+e+".js"},"zdrojový kód"))))}}return c["default"].createElement("div",{style:{width:"100%"}},a)},o(n,null,[{key:"propTypes",value:{html:c["default"].PropTypes.string.isRequired},enumerable:!0}]),n}());a["default"]=u,n.exports=a["default"]},function(n,a,t){"use strict";function s(){this._callbacks=null,this._contexts=null}var e=t(10),o=t(2),p=t(1);o(s.prototype,{enqueue:function(n,a){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(n),this._contexts.push(a)},notifyAll:function(){var n=this._callbacks,a=this._contexts;if(n){p(n.length===a.length),this._callbacks=null,this._contexts=null;for(var t=0,s=n.length;s>t;t++)n[t].call(a[t]);n.length=0,a.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),e.addPoolingTo(s),n.exports=s},function(n,a,t){"use strict";function s(n){return n===h.topMouseUp||n===h.topTouchEnd||n===h.topTouchCancel}function e(n){return n===h.topMouseMove||n===h.topTouchMove}function o(n){return n===h.topMouseDown||n===h.topTouchStart}function p(n,a){var t=n._dispatchListeners,s=n._dispatchIDs;if(Array.isArray(t))for(var e=0;e<t.length&&!n.isPropagationStopped();e++)a(n,t[e],s[e]);else t&&a(n,t,s)}function c(n,a,t){n.currentTarget=v.Mount.getNode(t);var s=a(n,t);return n.currentTarget=null,s}function r(n,a){p(n,a),n._dispatchListeners=null,n._dispatchIDs=null}function u(n){var a=n._dispatchListeners,t=n._dispatchIDs;if(Array.isArray(a)){for(var s=0;s<a.length&&!n.isPropagationStopped();s++)if(a[s](n,t[s]))return t[s]}else if(a&&a(n,t))return t;return null}function l(n){var a=u(n);return n._dispatchIDs=null,n._dispatchListeners=null,a}function i(n){var a=n._dispatchListeners,t=n._dispatchIDs;m(!Array.isArray(a));var s=a?a(n,t):null;return n._dispatchListeners=null,n._dispatchIDs=null,s}function k(n){return!!n._dispatchListeners}var d=t(7),m=t(1),v={Mount:null,injectMount:function(n){v.Mount=n}},h=d.topLevelTypes,f={isEndish:s,isMoveish:e,isStartish:o,executeDirectDispatch:i,executeDispatch:c,executeDispatchesInOrder:r,executeDispatchesInOrderStopAtTrue:l,hasDispatches:k,injection:v,useTouchEvents:!1};n.exports=f},function(n,a,t){"use strict";function s(n){u(null==n.props.checkedLink||null==n.props.valueLink)}function e(n){s(n),u(null==n.props.value&&null==n.props.onChange)}function o(n){s(n),u(null==n.props.checked&&null==n.props.onChange)}function p(n){this.props.valueLink.requestChange(n.target.value)}function c(n){this.props.checkedLink.requestChange(n.target.checked)}var r=t(74),u=t(1),l={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},i={Mixin:{propTypes:{value:function(n,a,t){return!n[a]||l[n.type]||n.onChange||n.readOnly||n.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(n,a,t){return!n[a]||n.onChange||n.readOnly||n.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:r.func}},getValue:function(n){return n.props.valueLink?(e(n),n.props.valueLink.value):n.props.value},getChecked:function(n){return n.props.checkedLink?(o(n),n.props.checkedLink.value):n.props.checked},getOnChange:function(n){return n.props.valueLink?(e(n),p):n.props.checkedLink?(o(n),c):n.props.onChange}};n.exports=i},function(n,a,t){"use strict";function s(n){n.remove()}var e=t(19),o=t(52),p=t(53),c=t(1),r={trapBubbledEvent:function(n,a){c(this.isMounted());var t=this.getDOMNode();c(t);var s=e.trapBubbledEvent(n,a,t);this._localEventListeners=o(this._localEventListeners,s)},componentWillUnmount:function(){this._localEventListeners&&p(this._localEventListeners,s)}};n.exports=r},function(n,a,t){"use strict";var s=t(69),e=t(13),o={processChildrenUpdates:s.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:s.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(n){e.purgeID(n)}};n.exports=o},function(n,a,t){"use strict";var s=t(1),e=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(n){s(!e),o.unmountIDFromEnvironment=n.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=n.replaceNodeWithMarkupByID,o.processChildrenUpdates=n.processChildrenUpdates,e=!0}}};n.exports=o},function(n,a,t){"use strict";var s=t(2),e=t(35),o=(t(4),{current:e,withContext:function(n,a){var t,e=o.current;o.current=s({},e,n);try{t=a()}finally{o.current=e}return t}});n.exports=o},function(n,a,t){"use strict";function s(n){n&&(null!=n.dangerouslySetInnerHTML&&(f(null==n.children),f("object"==typeof n.dangerouslySetInnerHTML&&"__html"in n.dangerouslySetInnerHTML)),f(null==n.style||"object"==typeof n.style))}function e(n,a,t,s){var e=k.findReactContainerForID(n);if(e){var o=e.nodeType===C?e.ownerDocument:e;b(a,o)}s.getPutListenerQueue().enqueuePutListener(n,a,t)}function o(n){M.call(S,n)||(f(_.test(n)),S[n]=!0)}function p(n){o(n),this._tag=n,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var c=t(66),r=t(18),u=t(23),l=t(19),i=t(44),k=t(13),d=t(164),m=t(16),v=t(2),h=t(36),f=t(1),g=(t(58),t(15)),y=(t(4),l.deleteListener),b=l.listenTo,j=l.registrationNameModules,z={string:!0,number:!0},w=g({style:null}),C=1,E=null,x={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},_=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,S={},M={}.hasOwnProperty;p.displayName="ReactDOMComponent",p.Mixin={construct:function(n){this._currentElement=n},mountComponent:function(n,a,t){this._rootNodeID=n,s(this._currentElement.props);var e=x[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(a)+this._createContentMarkup(a,t)+e},_createOpenTagMarkupAndPutListeners:function(n){var a=this._currentElement.props,t="<"+this._tag;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];if(null!=o)if(j.hasOwnProperty(s))e(this._rootNodeID,s,o,n);else{s===w&&(o&&(o=this._previousStyleCopy=v({},a.style)),o=c.createMarkupForStyles(o));var p=u.createMarkupForProperty(s,o);p&&(t+=" "+p)}}if(n.renderToStaticMarkup)return t+">";var r=u.createMarkupForID(this._rootNodeID);return t+" "+r+">"},_createContentMarkup:function(n,a){var t="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(t="\n");var s=this._currentElement.props,e=s.dangerouslySetInnerHTML;if(null!=e){if(null!=e.__html)return t+e.__html}else{var o=z[typeof s.children]?s.children:null,p=null!=o?null:s.children;if(null!=o)return t+h(o);if(null!=p){var c=this.mountChildren(p,n,a);return t+c.join("")}}return t},receiveComponent:function(n,a,t){var s=this._currentElement;this._currentElement=n,this.updateComponent(a,s,n,t)},updateComponent:function(n,a,t,e){s(this._currentElement.props),this._updateDOMProperties(a.props,n),this._updateDOMChildren(a.props,n,e)},_updateDOMProperties:function(n,a){var t,s,o,p=this._currentElement.props;for(t in n)if(!p.hasOwnProperty(t)&&n.hasOwnProperty(t))if(t===w){var c=this._previousStyleCopy;for(s in c)c.hasOwnProperty(s)&&(o=o||{},o[s]="");this._previousStyleCopy=null}else j.hasOwnProperty(t)?y(this._rootNodeID,t):(r.isStandardName[t]||r.isCustomAttribute(t))&&E.deletePropertyByID(this._rootNodeID,t);for(t in p){var u=p[t],l=t===w?this._previousStyleCopy:n[t];if(p.hasOwnProperty(t)&&u!==l)if(t===w)if(u?u=this._previousStyleCopy=v({},u):this._previousStyleCopy=null,l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(o=o||{},o[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(o=o||{},o[s]=u[s])}else o=u;else j.hasOwnProperty(t)?e(this._rootNodeID,t,u,a):(r.isStandardName[t]||r.isCustomAttribute(t))&&E.updatePropertyByID(this._rootNodeID,t,u)}o&&E.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(n,a,t){var s=this._currentElement.props,e=z[typeof n.children]?n.children:null,o=z[typeof s.children]?s.children:null,p=n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html,c=s.dangerouslySetInnerHTML&&s.dangerouslySetInnerHTML.__html,r=null!=e?null:n.children,u=null!=o?null:s.children,l=null!=e||null!=p,i=null!=o||null!=c;null!=r&&null==u?this.updateChildren(null,a,t):l&&!i&&this.updateTextContent(""),null!=o?e!==o&&this.updateTextContent(""+o):null!=c?p!==c&&E.updateInnerHTMLByID(this._rootNodeID,c):null!=u&&this.updateChildren(u,a,t)},unmountComponent:function(){this.unmountChildren(),l.deleteAllListeners(this._rootNodeID),i.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},m.measureMethods(p,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),v(p.prototype,p.Mixin,d.Mixin),p.injection={injectIDOperations:function(n){p.BackendIDOperations=E=n}},n.exports=p},function(n,a,t){"use strict";function s(n){l[n]=!0}function e(n){delete l[n]}function o(n){return!!l[n]}var p,c=t(3),r=t(21),u=t(1),l={},i={injectEmptyComponent:function(n){p=c.createFactory(n)}},k=function(){};k.prototype.componentDidMount=function(){var n=r.get(this);n&&s(n._rootNodeID)},k.prototype.componentWillUnmount=function(){var n=r.get(this);n&&e(n._rootNodeID)},k.prototype.render=function(){return u(p),p()};var d=c.createElement(k),m={emptyElement:d,injection:i,isNullComponentID:o};n.exports=m},function(n,a,t){"use strict";var s={currentlyMountingInstance:null,currentlyUnmountingInstance:null};n.exports=s},function(n,a,t){"use strict";var s=t(28),e=s({prop:null,context:null,childContext:null});n.exports=e},function(n,a,t){"use strict";function s(n){n!==o.currentlyMountingInstance&&u.enqueueUpdate(n)}function e(n,a){i(null==p.current);var t=r.get(n);return t?t===o.currentlyUnmountingInstance?null:t:null}var o=t(49),p=t(12),c=t(3),r=t(21),u=t(9),l=t(2),i=t(1),k=(t(4),{enqueueCallback:function(n,a){i("function"==typeof a);var t=e(n);return t&&t!==o.currentlyMountingInstance?(t._pendingCallbacks?t._pendingCallbacks.push(a):t._pendingCallbacks=[a],void s(t)):null},enqueueCallbackInternal:function(n,a){i("function"==typeof a),n._pendingCallbacks?n._pendingCallbacks.push(a):n._pendingCallbacks=[a],s(n)},enqueueForceUpdate:function(n){var a=e(n,"forceUpdate");a&&(a._pendingForceUpdate=!0,s(a))},enqueueReplaceState:function(n,a){var t=e(n,"replaceState");t&&(t._pendingStateQueue=[a],t._pendingReplaceState=!0,s(t))},enqueueSetState:function(n,a){var t=e(n,"setState");if(t){var o=t._pendingStateQueue||(t._pendingStateQueue=[]);o.push(a),s(t)}},enqueueSetProps:function(n,a){var t=e(n,"setProps");if(t){i(t._isTopLevel);var o=t._pendingElement||t._currentElement,p=l({},o.props,a);t._pendingElement=c.cloneAndReplaceProps(o,p),s(t)}},enqueueReplaceProps:function(n,a){var t=e(n,"replaceProps");if(t){i(t._isTopLevel);var o=t._pendingElement||t._currentElement;t._pendingElement=c.cloneAndReplaceProps(o,a),s(t)}},enqueueElementInternal:function(n,a){n._pendingElement=a,s(n)}});n.exports=k},function(n,a,t){"use strict";function s(n,a){if(e(null!=a),null==n)return a;var t=Array.isArray(n),s=Array.isArray(a);return t&&s?(n.push.apply(n,a),n):t?(n.push(a),n):s?[n].concat(a):[n,a]}var e=t(1);n.exports=s},function(n,a,t){"use strict";var s=function(n,a,t){Array.isArray(n)?n.forEach(a,t):n&&a.call(t,n)};n.exports=s},function(n,a,t){"use strict";function s(n){var a,t=n.keyCode;return"charCode"in n?(a=n.charCode,0===a&&13===t&&(a=13)):a=t,a>=32||13===a?a:0}n.exports=s},function(n,a,t){"use strict";function s(n){var a=this,t=a.nativeEvent;if(t.getModifierState)return t.getModifierState(n);var s=o[n];return s?!!t[s]:!1}function e(n){return s}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};n.exports=e},function(n,a,t){"use strict";function s(n){var a=n.target||n.srcElement||window;return 3===a.nodeType?a.parentNode:a}n.exports=s},function(n,a,t){"use strict";function s(n){return"function"==typeof n&&"undefined"!=typeof n.prototype&&"function"==typeof n.prototype.mountComponent&&"function"==typeof n.prototype.receiveComponent}function e(n,a){var t;if((null===n||n===!1)&&(n=p.emptyElement),"object"==typeof n){var e=n;t=a===e.type&&"string"==typeof e.type?c.createInternalComponent(e):s(e.type)?new e.type(e):new l}else"string"==typeof n||"number"==typeof n?t=c.createInstanceForText(n):u(!1);return t.construct(n),t._mountIndex=0,t._mountImage=null,t}var o=t(147),p=t(48),c=t(31),r=t(2),u=t(1),l=(t(4),function(){});r(l.prototype,o.Mixin,{_instantiateReactComponent:e}),n.exports=e},function(n,a,t){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function s(n,a){if(!o.canUseDOM||a&&!("addEventListener"in document))return!1;var t="on"+n,s=t in document;if(!s){var p=document.createElement("div");p.setAttribute(t,"return;"),s="function"==typeof p[t]}return!s&&e&&"wheel"===n&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}var e,o=t(6);o.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),n.exports=s},function(n,a,t){"use strict";var s=t(6),e=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,p=function(n,a){n.innerHTML=a};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(p=function(n,a){MSApp.execUnsafeLocalFunction(function(){n.innerHTML=a})}),s.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(p=function(n,a){if(n.parentNode&&n.parentNode.replaceChild(n,n),e.test(a)||"<"===a[0]&&o.test(a)){n.innerHTML="\ufeff"+a;var t=n.firstChild;1===t.data.length?n.removeChild(t):t.deleteData(0,1)}else n.innerHTML=a})}n.exports=p},function(n,a,t){"use strict";function s(n,a){if(null!=n&&null!=a){var t=typeof n,s=typeof a;if("string"===t||"number"===t)return"string"===s||"number"===s;if("object"===s&&n.type===a.type&&n.key===a.key){var e=n._owner===a._owner;return e}}return!1}t(4);n.exports=s},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}a.__esModule=!0;var p=t(5),c=s(p),r=function(n){function a(){e(this,a),null!=n&&n.apply(this,arguments)}return o(a,n),a.prototype.render=function(){return c["default"].createElement("div",null,c["default"].createElement("div",null,c["default"].createElement("b",null,"Značka:")," ",this.props.car.brand),this.props.car.details&&c["default"].createElement("div",null,c["default"].createElement("b",null,"Model:")," ",this.props.car.model," ",c["default"].createElement("br",null),c["default"].createElement("b",null,"Rok:")," ",this.props.car.year))},a}(c["default"].Component);a["default"]=r,n.exports=a["default"]},function(n,a,t){"use strict";a.__esModule=!0;var s={HOME:{location:"index.html",title:"Home"}};a.Pages=s;var e={BABEL:{location:"babel.html",title:"Javascript? Babel.",prev:null,next:"NASTROJE"},NASTROJE:{location:"nastroje.html",title:"Nástroje",prev:"BABEL",next:"STACK"},STACK:{location:"prvni-dev-stack.html",title:"První dev stack",prev:"NASTROJE",next:"REACT_UVOD"},REACT_UVOD:{location:"react-uvod.html",title:"React - Úvod",prev:"STACK",next:"REACT_PROPS_VS_STATE"},REACT_PROPS_VS_STATE:{location:"react-props-vs-state.html",title:"React - Props vs State",prev:"REACT_UVOD",next:"REACT_JSX"},REACT_JSX:{location:"react-jsx.html",title:"React - JSX",prev:"REACT_PROPS_VS_STATE",next:null}};a.Articles=e},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}a.__esModule=!0;var o=t(5),p=s(o);t(109);var c=t(62),r=function(){function n(){e(this,n)}return n.prototype.render=function(){return p["default"].createElement("div",{className:"links"},c.Articles[this.props.page].prev&&p["default"].createElement("div",{style:{"float":"left"}},"◀"," ",p["default"].createElement("a",{href:c.Articles[c.Articles[this.props.page].prev].location,target:"_self"},c.Articles[c.Articles[this.props.page].prev].title)),c.Articles[this.props.page].next&&p["default"].createElement("div",{style:{"float":"right"}},p["default"].createElement("a",{href:c.Articles[c.Articles[this.props.page].next].location,target:"_self"},c.Articles[c.Articles[this.props.page].next].title)," ","▶"))},n}();a["default"]=r,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}a.__esModule=!0;var o=t(5),p=s(o);t(111);var c=function(){function n(){e(this,n)}return n.prototype.render=function(){return p["default"].createElement("div",{className:"PageBody"},p["default"].createElement("div",{className:"PageBody-container"},this.props.children))},n}();a["default"]=c,n.exports=a["default"]},function(n,a,t){"use strict";function s(n,a){return n+a.charAt(0).toUpperCase()+a.substring(1)}var e={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(e).forEach(function(n){o.forEach(function(a){e[s(a,n)]=e[n]})});var p={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},c={isUnitlessNumber:e,shorthandPropertyExpansions:p};n.exports=c},function(n,a,t){"use strict";var s=t(65),e=t(6),o=(t(184),t(188)),p=t(195),c=t(198),r=(t(4),c(function(n){return p(n)})),u="cssFloat";e.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(u="styleFloat");var l={createMarkupForStyles:function(n){var a="";for(var t in n)if(n.hasOwnProperty(t)){var s=n[t];null!=s&&(a+=r(t)+":",a+=o(t,s)+";")}return a||null},setValueForStyles:function(n,a){var t=n.style;for(var e in a)if(a.hasOwnProperty(e)){var p=o(e,a[e]);if("float"===e&&(e=u),p)t[e]=p;else{var c=s.shorthandPropertyExpansions[e];if(c)for(var r in c)t[r]="";else t[e]=""}}}};n.exports=l},function(n,a,t){"use strict";function s(){if(c)for(var n in r){var a=r[n],t=c.indexOf(n);if(p(t>-1),!u.plugins[t]){p(a.extractEvents),u.plugins[t]=a;var s=a.eventTypes;for(var o in s)p(e(s[o],a,o))}}}function e(n,a,t){p(!u.eventNameDispatchConfigs.hasOwnProperty(t)),u.eventNameDispatchConfigs[t]=n;var s=n.phasedRegistrationNames;if(s){for(var e in s)if(s.hasOwnProperty(e)){var c=s[e];o(c,a,t)}return!0}return n.registrationName?(o(n.registrationName,a,t),!0):!1}function o(n,a,t){p(!u.registrationNameModules[n]),u.registrationNameModules[n]=a,u.registrationNameDependencies[n]=a.eventTypes[t].dependencies}var p=t(1),c=null,r={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(n){p(!c),c=Array.prototype.slice.call(n),s()},injectEventPluginsByName:function(n){var a=!1;for(var t in n)if(n.hasOwnProperty(t)){var e=n[t];r.hasOwnProperty(t)&&r[t]===e||(p(!r[t]),r[t]=e,a=!0)}a&&s()},getPluginModuleForEvent:function(n){var a=n.dispatchConfig;if(a.registrationName)return u.registrationNameModules[a.registrationName]||null;for(var t in a.phasedRegistrationNames)if(a.phasedRegistrationNames.hasOwnProperty(t)){var s=u.registrationNameModules[a.phasedRegistrationNames[t]];if(s)return s}return null},_resetEventPlugins:function(){c=null;for(var n in r)r.hasOwnProperty(n)&&delete r[n];u.plugins.length=0;var a=u.eventNameDispatchConfigs;for(var t in a)a.hasOwnProperty(t)&&delete a[t];var s=u.registrationNameModules;for(var e in s)s.hasOwnProperty(e)&&delete s[e]}};n.exports=u},function(n,a,t){"use strict";function s(n,a){this.props=n,this.context=a}var e=t(51),o=t(1);t(4);s.prototype.setState=function(n,a){o("object"==typeof n||"function"==typeof n||null==n),e.enqueueSetState(this,n),a&&e.enqueueCallback(this,a)},s.prototype.forceUpdate=function(n){e.enqueueForceUpdate(this),n&&e.enqueueCallback(this,n)};n.exports=s},function(n,a,t){"use strict";var s=t(66),e=t(136),o=t(23),p=t(13),c=t(16),r=t(1),u=t(59),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},i={updatePropertyByID:function(n,a,t){var s=p.getNode(n);r(!l.hasOwnProperty(a)),null!=t?o.setValueForProperty(s,a,t):o.deleteValueForProperty(s,a)},deletePropertyByID:function(n,a,t){var s=p.getNode(n);r(!l.hasOwnProperty(a)),o.deleteValueForProperty(s,a,t)},updateStylesByID:function(n,a){var t=p.getNode(n);s.setValueForStyles(t,a)},updateInnerHTMLByID:function(n,a){var t=p.getNode(n);u(t,a)},updateTextContentByID:function(n,a){var t=p.getNode(n);e.updateTextContent(t,a)},dangerouslyReplaceNodeWithMarkupByID:function(n,a){var t=p.getNode(n);e.dangerouslyReplaceNodeWithMarkup(t,a)},dangerouslyProcessChildrenUpdates:function(n,a){for(var t=0;t<n.length;t++)n[t].parentNode=p.getNode(n[t].parentID);e.processUpdates(n,a)}};c.measureMethods(i,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),n.exports=i},function(n,a,t){"use strict";var s=t(23),e=t(44),o=t(47),p=t(2),c=t(36),r=function(n){};p(r.prototype,{construct:function(n){this._currentElement=n,this._stringText=""+n,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(n,a,t){this._rootNodeID=n;var e=c(this._stringText);return a.renderToStaticMarkup?e:"<span "+s.createMarkupForID(n)+">"+e+"</span>"},receiveComponent:function(n,a){if(n!==this._currentElement){this._currentElement=n;var t=""+n;t!==this._stringText&&(this._stringText=t,o.BackendIDOperations.updateTextContentByID(this._rootNodeID,t))}},unmountComponent:function(){e.unmountIDFromEnvironment(this._rootNodeID)}}),n.exports=r},function(n,a,t){"use strict";function s(n){return o(document.documentElement,n)}var e=t(156),o=t(78),p=t(80),c=t(81),r={hasSelectionCapabilities:function(n){return n&&("INPUT"===n.nodeName&&"text"===n.type||"TEXTAREA"===n.nodeName||"true"===n.contentEditable)},getSelectionInformation:function(){var n=c();return{focusedElem:n,selectionRange:r.hasSelectionCapabilities(n)?r.getSelection(n):null}},restoreSelection:function(n){var a=c(),t=n.focusedElem,e=n.selectionRange;a!==t&&s(t)&&(r.hasSelectionCapabilities(t)&&r.setSelection(t,e),p(t))},getSelection:function(n){var a;if("selectionStart"in n)a={start:n.selectionStart,end:n.selectionEnd};else if(document.selection&&"INPUT"===n.nodeName){var t=document.selection.createRange();t.parentElement()===n&&(a={start:-t.moveStart("character",-n.value.length),end:-t.moveEnd("character",-n.value.length)})}else a=e.getOffsets(n);return a||{start:0,end:0}},setSelection:function(n,a){var t=a.start,s=a.end;if("undefined"==typeof s&&(s=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(s,n.value.length);else if(document.selection&&"INPUT"===n.nodeName){var o=n.createTextRange();o.collapse(!0),o.moveStart("character",t),o.moveEnd("character",s-t),o.select()}else e.setOffsets(n,a)}};n.exports=r},function(n,a,t){"use strict";var s=t(182),e={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(n){var a=s(n);return n.replace(">"," "+e.CHECKSUM_ATTR_NAME+'="'+a+'">')},canReuseMarkup:function(n,a){var t=a.getAttribute(e.CHECKSUM_ATTR_NAME);t=t&&parseInt(t,10);var o=s(n);return o===t}};n.exports=e},function(n,a,t){"use strict";var s=t(28),e=s({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});n.exports=e},function(n,a,t){"use strict";function s(n){function a(a,t,s,e,o){if(e=e||j,null==t[s]){var p=y[o];return a?new Error("Required "+p+" `"+s+"` was not specified in "+("`"+e+"`.")):null}return n(t,s,e,o)}var t=a.bind(null,!1);return t.isRequired=a.bind(null,!0),t}function e(n){function a(a,t,s,e){var o=a[t],p=v(o);if(p!==n){var c=y[e],r=h(o);return new Error("Invalid "+c+" `"+t+"` of type `"+r+"` "+("supplied to `"+s+"`, expected `"+n+"`."))}return null}return s(a)}function o(){return s(b.thatReturns(null))}function p(n){function a(a,t,s,e){var o=a[t];if(!Array.isArray(o)){var p=y[e],c=v(o);return new Error("Invalid "+p+" `"+t+"` of type "+("`"+c+"` supplied to `"+s+"`, expected an array."))}for(var r=0;r<o.length;r++){var u=n(o,r,s,e);if(u instanceof Error)return u}return null}return s(a)}function c(){function n(n,a,t,s){if(!f.isValidElement(n[a])){var e=y[s];return new Error("Invalid "+e+" `"+a+"` supplied to "+("`"+t+"`, expected a ReactElement."))}return null}return s(n)}function r(n){function a(a,t,s,e){if(!(a[t]instanceof n)){var o=y[e],p=n.name||j;return new Error("Invalid "+o+" `"+t+"` supplied to "+("`"+s+"`, expected instance of `"+p+"`."))}return null}return s(a)}function u(n){function a(a,t,s,e){for(var o=a[t],p=0;p<n.length;p++)if(o===n[p])return null;var c=y[e],r=JSON.stringify(n);return new Error("Invalid "+c+" `"+t+"` of value `"+o+"` "+("supplied to `"+s+"`, expected one of "+r+"."))}return s(a)}function l(n){function a(a,t,s,e){var o=a[t],p=v(o);if("object"!==p){var c=y[e];return new Error("Invalid "+c+" `"+t+"` of type "+("`"+p+"` supplied to `"+s+"`, expected an object."))}for(var r in o)if(o.hasOwnProperty(r)){var u=n(o,r,s,e);if(u instanceof Error)return u}return null}return s(a)}function i(n){function a(a,t,s,e){for(var o=0;o<n.length;o++){var p=n[o];if(null==p(a,t,s,e))return null}var c=y[e];return new Error("Invalid "+c+" `"+t+"` supplied to "+("`"+s+"`."))}return s(a)}function k(){function n(n,a,t,s){if(!m(n[a])){var e=y[s];return new Error("Invalid "+e+" `"+a+"` supplied to "+("`"+t+"`, expected a ReactNode."))}return null}return s(n)}function d(n){function a(a,t,s,e){var o=a[t],p=v(o);if("object"!==p){var c=y[e];return new Error("Invalid "+c+" `"+t+"` of type `"+p+"` "+("supplied to `"+s+"`, expected `object`."))}for(var r in n){var u=n[r];if(u){var l=u(o,r,s,e);if(l)return l}}return null}return s(a)}function m(n){switch(typeof n){case"number":case"string":case"undefined":return!0;case"boolean":return!n;case"object":if(Array.isArray(n))return n.every(m);if(null===n||f.isValidElement(n))return!0;n=g.extractIfFragment(n);for(var a in n)if(!m(n[a]))return!1;return!0;default:return!1}}function v(n){var a=typeof n;return Array.isArray(n)?"array":n instanceof RegExp?"object":a}function h(n){var a=v(n);if("object"===a){if(n instanceof Date)return"date";if(n instanceof RegExp)return"regexp"}return a}var f=t(3),g=t(30),y=t(32),b=t(14),j="<<anonymous>>",z=c(),w=k(),C={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),any:o(),arrayOf:p,element:z,instanceOf:r,node:w,objectOf:l,oneOf:u,oneOfType:i,shape:d};n.exports=C},function(n,a,t){"use strict";function s(){this.listenersToPut=[]}var e=t(10),o=t(19),p=t(2);p(s.prototype,{enqueuePutListener:function(n,a,t){this.listenersToPut.push({rootNodeID:n,propKey:a,propValue:t})},putListeners:function(){for(var n=0;n<this.listenersToPut.length;n++){var a=this.listenersToPut[n];o.putListener(a.rootNodeID,a.propKey,a.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),e.addPoolingTo(s),n.exports=s},function(n,a,t){"use strict";var s={injectCreateReactRootIndex:function(n){e.createReactRootIndex=n}},e={createReactRootIndex:null,injection:s};n.exports=e},function(n,a,t){"use strict";var s={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(n){s.currentScrollLeft=n.x,s.currentScrollTop=n.y}};n.exports=s},function(n,a,t){function s(n,a){return n&&a?n===a?!0:e(n)?!1:e(a)?s(n,a.parentNode):n.contains?n.contains(a):n.compareDocumentPosition?!!(16&n.compareDocumentPosition(a)):!1:!1}var e=t(196);n.exports=s},function(n,a,t){"use strict";function s(n){return null==n?null:c(n)?n:e.has(n)?o.getNodeFromInstance(n):(p(null==n.render||"function"!=typeof n.render),void p(!1))}var e=(t(12),t(21)),o=t(13),p=t(1),c=t(85);t(4);n.exports=s},function(n,a,t){"use strict";function s(n){try{n.focus()}catch(a){}}n.exports=s},function(n,a,t){function s(){try{return document.activeElement||document.body}catch(n){return document.body}}n.exports=s},function(n,a,t){"use strict";function s(n){var a=n&&(e&&n[e]||n[o]);return"function"==typeof a?a:void 0}var e="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";n.exports=s},function(n,a,t){function s(n){return o(!!p),k.hasOwnProperty(n)||(n="*"),c.hasOwnProperty(n)||("*"===n?p.innerHTML="<link />":p.innerHTML="<"+n+"></"+n+">",c[n]=!p.firstChild),c[n]?k[n]:null}var e=t(6),o=t(1),p=e.canUseDOM?document.createElement("div"):null,c={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},r=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],i=[1,"<svg>","</svg>"],k={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:r,option:r,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:l,th:l,circle:i,clipPath:i,defs:i,ellipse:i,g:i,line:i,linearGradient:i,path:i,polygon:i,polyline:i,radialGradient:i,rect:i,stop:i,text:i};n.exports=s},function(n,a,t){"use strict";function s(){return!o&&e.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var e=t(6),o=null;n.exports=s},function(n,a,t){function s(n){return!(!n||!("function"==typeof Node?n instanceof Node:"object"==typeof n&&"number"==typeof n.nodeType&&"string"==typeof n.nodeName))}n.exports=s},function(n,a,t){"use strict";function s(n){return n&&("INPUT"===n.nodeName&&e[n.type]||"TEXTAREA"===n.nodeName)}var e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};n.exports=s},function(n,a,t){"use strict";function s(n){return h[n]}function e(n,a){return n&&null!=n.key?p(n.key):a.toString(36)}function o(n){return(""+n).replace(f,s)}function p(n){return"$"+o(n)}function c(n,a,t,s,o){var r=typeof n;if(("undefined"===r||"boolean"===r)&&(n=null),null===n||"string"===r||"number"===r||u.isValidElement(n))return s(o,n,""===a?m+e(n,0):a,t),1;var i,h,f,g=0;if(Array.isArray(n))for(var y=0;y<n.length;y++)i=n[y],h=(""!==a?a+v:m)+e(i,y),f=t+g,g+=c(i,h,f,s,o);else{var b=k(n);if(b){var j,z=b.call(n);if(b!==n.entries)for(var w=0;!(j=z.next()).done;)i=j.value,h=(""!==a?a+v:m)+e(i,w++),f=t+g,g+=c(i,h,f,s,o);else for(;!(j=z.next()).done;){var C=j.value;C&&(i=C[1],h=(""!==a?a+v:m)+p(C[0])+v+e(i,0),f=t+g,g+=c(i,h,f,s,o))}}else if("object"===r){d(1!==n.nodeType);var E=l.extract(n);for(var x in E)E.hasOwnProperty(x)&&(i=E[x],h=(""!==a?a+v:m)+p(x)+v+e(i,0),f=t+g,g+=c(i,h,f,s,o))}}return g}function r(n,a,t){return null==n?0:c(n,"",0,a,t)}var u=t(3),l=t(30),i=t(20),k=t(82),d=t(1),m=(t(4),i.SEPARATOR),v=":",h={"=":"=0",".":"=1",":":"=2"},f=/[=.:]/g;n.exports=r},function(n,a,t){function s(n){return t(e(n))}function e(n){return o[n]||function(){throw new Error("Cannot find module '"+n+"'.")}()}var o={"./addCar.js":37,"./car.js":38,"./car1.js":61,"./cars.js":89,"./cars1.js":90,"./cars2.js":91,"./cars3.js":92,"./counter.js":93,"./formNoJSX.js":94,"./formNoJSX2.js":95};s.keys=function(){return Object.keys(o)},s.resolve=e,n.exports=s,s.id=88},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}a.__esModule=!0;var p=t(5),c=s(p),r=t(38),u=s(r),l=t(37),i=s(l),k=function(n){function a(){e(this,a),n.call(this),this.state={cars:[{id:1,brand:"Ferrari",model:"FF",year:"2014",details:!1},{id:2,brand:"BMW",model:"M5",year:"2013",details:!0}]},this.addCar=this.addCar.bind(this),this.removeCar=this.removeCar.bind(this),this.toggleCar=this.toggleCar.bind(this)}return o(a,n),a.prototype.render=function(){var n=this;return c["default"].createElement("div",null,c["default"].createElement(i["default"],{add:this.addCar}),c["default"].createElement("h3",null,"Auta (",this.state.cars.length,")"),this.state.cars.map(function(a){return c["default"].createElement(u["default"],{car:a,key:a.id,remove:n.removeCar,toggle:n.toggleCar})}))},a.prototype.addCar=function(n){n.id=this.state.cars.length?this.state.cars[this.state.cars.length-1].id+1:1,this.setState({cars:this.state.cars.concat([n])})},a.prototype.removeCar=function(n){this.setState({cars:this.state.cars.filter(function(a){return a.id!==n})})},a.prototype.toggleCar=function(n){this.setState({cars:this.state.cars.map(function(a){return a.id!==n?a:(a.details=!a.details,a)})})},a}(c["default"].Component);a["default"]=k,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}a.__esModule=!0;var p=t(5),c=s(p),r=t(61),u=s(r),l=function(n){function a(){e(this,a),null!=n&&n.apply(this,arguments)}return o(a,n),a.prototype.render=function(){var n={id:1,brand:"Ferrari",model:"FF",year:"2014",details:!0};return c["default"].createElement("div",null,c["default"].createElement(u["default"],{car:n}))},a}(c["default"].Component);a["default"]=l,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}a.__esModule=!0;var p=t(5),c=s(p),r=t(38),u=s(r),l=function(n){function a(){e(this,a),null!=n&&n.apply(this,arguments)}return o(a,n),a.prototype.render=function(){var n={id:1,brand:"Ferrari",model:"FF",year:"2014",details:!0},a={id:2,brand:"BMW",model:"M5",year:"2013",details:!1};return c["default"].createElement("div",null,c["default"].createElement(u["default"],{car:n,remove:this.removeCar,toggle:this.toggleCar}),c["default"].createElement(u["default"],{car:a,remove:this.removeCar,toggle:this.toggleCar}))},a.prototype.removeCar=function(n){console.log("remove "+n)},a.prototype.toggleCar=function(n){console.log("toggle "+n)},a}(c["default"].Component);a["default"]=l,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}a.__esModule=!0;var p=t(5),c=s(p),r=t(37),u=s(r),l=function(n){function a(){e(this,a),null!=n&&n.apply(this,arguments)}return o(a,n),a.prototype.render=function(){return c["default"].createElement("div",null,c["default"].createElement(u["default"],{add:this.addCar}))},a.prototype.addCar=function(n){console.log("add "+n)},a}(c["default"].Component);a["default"]=l,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}a.__esModule=!0;var p=t(5),c=s(p),r=function(n){function a(){e(this,a),n.call(this),this.state={counter:0}}return o(a,n),a.prototype.render=function(){var n=this;return c["default"].createElement("div",null,"Kliknul jsi ",this.state.counter,"x. ",c["default"].createElement("br",null),c["default"].createElement("button",{onClick:function(a){return n.handleClick(a)}},"Klikni!"))},a.prototype.handleClick=function(n){this.setState(function(n){return{counter:n.counter+1}})},a}(c["default"].Component);a["default"]=r,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}a.__esModule=!0;var p=t(5),c=s(p),r=function(n){function a(){e(this,a),null!=n&&n.apply(this,arguments)}return o(a,n),a.prototype.render=function(){return c["default"].DOM.form({className:"nameForm"},c["default"].DOM.input({type:"text",placeholder:"Jméno"}),c["default"].DOM.input({type:"text",placeholder:"Příjmení"}),c["default"].DOM.input({type:"submit",value:"Poslat"}))},a}(c["default"].Component);a["default"]=r,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}a.__esModule=!0;var p=t(5),c=s(p),r=function(n){function a(){e(this,a),null!=n&&n.apply(this,arguments)}return o(a,n),a.prototype.render=function(){var n=c["default"].DOM,a=n.form,t=n.input;return a({className:"nameForm"},t({type:"text",placeholder:"Jméno"}),t({type:"text",placeholder:"Příjmení"}),t({type:"submit",value:"Poslat"}))},a}(c["default"].Component);a["default"]=r,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}a.__esModule=!0,t(105);var p=t(62),c=(s(p),t(103)),r=s(c),u=t(102),l=s(u),i=t(5),k=s(i),d=t(124),m={BABEL:t(125),NASTROJE:t(126),STACK:t(130),REACT_UVOD:t(129),REACT_PROPS_VS_STATE:t(128),REACT_JSX:t(127)},v=function(n){function a(t){e(this,a),n.call(this,t),this.state={renderPage:!this.props.devMode}}return o(a,n),a.getDoctype=function(){return"<!doctype html>"},a.renderToString=function(n){return a.getDoctype()+k["default"].renderToString(k["default"].createElement(a,n))},a.prototype.render=function(){var n={__html:"window.INITIAL_PROPS = "+JSON.stringify(this.props)+";\n"},a={__html:"\n        <script>\n          var host = \"dzejes.cz\";\n          if ((host == window.location.host) && (window.location.protocol != \"https:\")) {\n            window.location.protocol = \"https\";\n          }\n\n          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n          ga('create', 'UA-63660429-1', 'auto');\n          ga('send', 'pageview');\n        </script>\n      "};return k["default"].createElement("html",null,k["default"].createElement("head",null,k["default"].createElement("meta",{charSet:"utf-8"}),k["default"].createElement("title",null,"DžejEs - JavaScript pro web"),k["default"].createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0"}),k["default"].createElement("link",{rel:"stylesheet",type:"text/css",href:this.props.files["main.css"]+"?v="+t(132).version}),k["default"].createElement("link",{rel:"icon",type:"image/png",href:d}),k["default"].createElement("link",{rel:"alternate",type:"application/rss+xml",title:"RSS",href:"/feed.xml"}),k["default"].createElement("link",{rel:"canonical",href:"https://www.dzejes.cz"+("index.html"===this.props.location?"":"/"+this.props.location)}),k["default"].createElement("base",{target:"_blank"})),k["default"].createElement("body",null,this.state.renderPage&&this.renderPage(),k["default"].createElement("script",{dangerouslySetInnerHTML:n}),k["default"].createElement("script",{src:this.props.files["main.js"]}),k["default"].createElement("div",{dangerouslySetInnerHTML:a})))},a.prototype.renderPage=function(){switch(this.props.location){case p.Pages.HOME.location:return k["default"].createElement(r["default"],null)}for(var n=Object.keys(p.Articles),a=0;a<n.length;a++){var t=n[a];if(this.props.location===p.Articles[t].location)return k["default"].createElement(l["default"],{page:t,html:m[t]})}throw new Error("Page of location "+JSON.stringify(this.props.location)+" not found.")},a.prototype.componentDidMount=function(){this.state.renderPage||this.setState({renderPage:!0})},a}(i.Component);a["default"]=v,n.exports=a["default"]},function(n,a,t){"use strict";var s=t(5),e=t(96);s.render(s.createElement(e,window.INITIAL_PROPS),document)},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(n.__proto__=a)}function p(n){return h.push(n),function(){h.slice(h.indexOf(n),1)}}function c(n){v=n,h.forEach(function(n){return n(v)})}a.__esModule=!0;var r=function(){function n(n,a){for(var t=0;t<a.length;t++){var s=a[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(a,t,s){return t&&n(a.prototype,t),s&&n(a,s),a}}(),u=t(5),l=s(u),i=t(9),k=s(i),d=t(39),m=s(d);t(106);var v="es5",h=[],f=function(n){function a(t){e(this,a),n.call(this,t),this.state={chosen:!1,syntax:this.props.es5.trim().length&&"es6"||this.props.es6.trim().length&&"es5"}}return o(a,n),a.prototype.componentDidMount=function(){this.unsubscribe=p(this.handlePreferredSyntaxChange.bind(this))},a.prototype.handlePreferredSyntaxChange=function(n){this.state.chosen||this.state.syntax===n||this.props[n].trim().length&&this.setState({syntax:n})},a.prototype.componentWillUnmount=function(){this.unsubscribe()},a.prototype.handleSyntaxClick=function(n){this.setState({syntax:n,chosen:!0});var a=u.findDOMNode(this).getBoundingClientRect().top;c(n),k["default"].flushBatchedUpdates();var t=u.findDOMNode(this).getBoundingClientRect().top;window.scroll(window.pageXOffset||window.scrollX,(window.pageYOffset||window.scrollY)-(a-t));
},a.prototype.render=function(){return l["default"].createElement("div",{className:"CodeBlock"},l["default"].createElement("ul",{className:"CodeBlock-tabs"},["es5","es6"].map(this.renderSyntaxLink,this)),l["default"].createElement("div",{className:"CodeBlock-content"},l["default"].createElement(m["default"],{html:this.props[this.state.syntax]})))},a.prototype.renderSyntaxLink=function(n){if(!this.props[n]||!this.props[n].trim().length)return null;if("es5"===n&&!this.props.es6.trim().length)return null;var a=this.state.syntax===n,t="ES5";return"es6"===n&&(t="Babel"),l["default"].createElement("li",{className:"CodeBlock-tab "+(a?"CodeBlock-activeTab":""),key:n},l["default"].createElement("a",{onClick:this.handleSyntaxClick.bind(this,n)},t))},r(a,null,[{key:"propTypes",value:{es5:u.PropTypes.string,es6:u.PropTypes.string},enumerable:!0},{key:"defaultProps",value:{es5:"",es6:""},enumerable:!0}]),a}(u.Component);a["default"]=f,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}a.__esModule=!0;var o=t(5),p=s(o);t(107);var c=t(63),r=s(c),u=function(){function n(){e(this,n)}return n.prototype.render=function(){return p["default"].createElement("footer",null,p["default"].createElement(r["default"],{page:this.props.page}),p["default"].createElement("div",{className:"Footer"},"Diskutujte prostřednictvím ",p["default"].createElement("a",{href:"https://github.com/tajo/javascript/issues"},"issues"),".",p["default"].createElement("br",null),"Vylepšete článek ",p["default"].createElement("a",{href:"https://github.com/tajo/javascript/pulls"},"pull requestem"),".",p["default"].createElement("br",null),"Sledujte na ",p["default"].createElement("a",{href:"https://twitter.com/vmiksu"},"twitteru"),". "," ",p["default"].createElement("a",{href:"/feed.xml"},"RSS"),".",p["default"].createElement("br",null),p["default"].createElement("b",null,"Sdílejte!")))},n}();a["default"]=u,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}a.__esModule=!0;var o=t(5),p=s(o),c=t(101),r=s(c);t(108);var u=function(){function n(){e(this,n)}return n.prototype.render=function(){return p["default"].createElement("header",{className:"Header"},p["default"].createElement(r["default"],null))},n}();a["default"]=u,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}a.__esModule=!0;var o=t(5),p=s(o);t(110);var c=function(){function n(){e(this,n)}return n.prototype.render=function(){return p["default"].createElement("div",{className:"NavBar"},p["default"].createElement("div",{className:"NavBar-container"},p["default"].createElement("div",{className:"NavBar-item"},p["default"].createElement("a",{className:"NavBar-link",href:"/",target:"_self"},"Úvod"),p["default"].createElement("a",{className:"NavBar-link",href:"https://twitter.com/vmiksu"},"Twitter"),p["default"].createElement("a",{className:"NavBar-link",href:"https://github.com/tajo/javascript"},"GitHub"),p["default"].createElement("a",{className:"NavBar-link",href:"/feed.xml"},"RSS"))))},n}();a["default"]=c,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}a.__esModule=!0;var o=t(5),p=s(o),c=t(64),r=s(c),u=t(39),l=s(u),i=t(100),k=s(i),d=t(99),m=s(d),v=t(63),h=(s(v),function(){function n(){e(this,n)}return n.prototype.render=function(){return p["default"].createElement("div",null,p["default"].createElement(k["default"],null),p["default"].createElement(r["default"],null,p["default"].createElement(l["default"],{html:this.props.html})),p["default"].createElement(m["default"],{page:this.props.page}))},n}());a["default"]=h,n.exports=a["default"]},function(n,a,t){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}a.__esModule=!0;var o=t(5),p=s(o),c=t(64),r=s(c),u=t(39),l=s(u),i=t(131),k=s(i),d=function(){function n(){e(this,n)}return n.prototype.render=function(){return p["default"].createElement("div",null,p["default"].createElement("div",{className:"masterHead"},p["default"].createElement("p",null,p["default"].createElement("b",null,"O moderních webových aplikacích")),p["default"].createElement("p",{className:"cover"},"#javascript #react #redux #immutable #nodejs #webpack"),p["default"].createElement("div",{className:"circle-bg"}),p["default"].createElement("div",{className:"circle-bg2"},"DžejEs")),p["default"].createElement(r["default"],null,p["default"].createElement(l["default"],{html:k["default"]})))},n}();a["default"]=d,n.exports=a["default"]},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){},function(n,a,t){n.exports=t.p+"images/babel-d9f70b85777d74bc12be9dccf20a05a7.jpg"},function(n,a,t){n.exports=t.p+"images/browserify-9531bd1dc0c33791eacc050469a3c4da.png"},function(n,a,t){n.exports=t.p+"images/chrome-5c7a4a3a341a375b395dd9cd95ef1810.png"},function(n,a,t){n.exports=t.p+"images/npm-0bdd5a30a10e2c92981ccc931e4f35b5.png"},function(n,a,t){n.exports=t.p+"images/sublime-969de4659e287c18754835c82b9907e7.png"},function(n,a,t){n.exports=t.p+"images/terminal-69eba3f304772ee65048ab3ce3225ac5.png"},function(n,a,t){n.exports=t.p+"images/webpack-db0dcff7a4d65a0b6e1e15fea84f91fb.png"},function(n,a,t){n.exports=t.p+"images/error-fe495f73edb71db0992c61ffafe1b86e.png"},function(n,a,t){n.exports=t.p+"images/logo-37fe8322b169ddbdeabf75930e886ac6.png"},function(n,a,t){n.exports=t.p+"images/result-5370fc7a6c97226444ceab4826ac0feb.gif"},function(n,a,t){n.exports=t.p+"images/webpack-0714810ae3fb211173e2964249507195.png"},function(n,a,t){n.exports=t.p+"images/wheels-19392e4a50c18fa6ced9e98a3dc76efe.png"},function(n,a,t){n.exports=t.p+"images/favicon-4b52c7e9cc28fdb9378fd1542994a946.png"},function(n,a,t){n.exports='<h1>JavaScript? Babel.<a id="javascript-babel-">&nbsp;</a></h1><p>JavaScript má oproti většině ostatních jazyků jedno specifikum. Je sám o sobě obtížně <strong>použitelný</strong>. Na vině je především způsob, jakým dochází k uvádění jeho nových verzí. Jak si s tím úspěšně a elegantně poradit?</p>\n<h2>JavaScript vs ECMAScript<a id="javascript-vs-ecmascript">&nbsp;</a></h2><p>JavaScript je pouze jednou z implementací standardu jménem <strong>ECMAScript</strong>. Díky obrovské popularitě JavaScriptu se ovšem tyto dva termíny často libovolně zaměňují. Existují však ještě další implementace jako JScript či ActionScript.</p>\n<p>Ecma International od roku 1997 postupně vydává jednotlivé specifikace. Poslední stabilní verze je <strong><a href="http://www.ecma-international.org/ecma-262/6.0/">6 z roku 2015</a></strong> často označovaná také jako <strong>ES6</strong>, <strong>ES2015</strong> či <strong>Harmony</strong>. Vývoj však neustává a tak se už pracuje na další verzi s pořadovým číslem sedm (také se užívá označení next).</p>\n<h2>Podpora prohlížečů<a id="podpora-prohl-e-">&nbsp;</a></h2><p>Implementace standardů je zdlouhavý proces, i přestože začíná ještě před finální verzí specifikací. ES6 se už těší velmi slušné podpoře. Detailní přehled naleznete <a href="http://kangax.github.io/compat-table/es6/">zde</a>. Potíž však je, že ne všichni uživatelé používají poslední verze prohlížečů. Největší problém je tradičně u Internet Exploreru, kde i ten nejnovější jedenáctý ES6 téměř vůbec nepodporuje. V praxi je tak potřeba se ES6 zatím úplně vyhnout. Lepší situace je u Node.js, kde poslední šestá verze má už 93% podporu ES6.</p>\n<h2>Co s tím?<a id="co-s-t-m-">&nbsp;</a></h2><p>My, tvůrci webových aplikací, musíme zajistit, aby naše stránky správně fungovaly ve všech běžně používaných prohlížečích. Jak si ale poradit s tím, že každý prohlížeč podporuje jiný set standardu Harmony? Nejjednodušším řešením je se zatím 6. verzi zcela vyhnout a <strong>používat pouze funkce z verze 5.1</strong>, která je již plně etablovaná. Nicméně tím se ocitnete v pozici malého dítěte, které v hračkárně toužebně pokukuje po mluvících a chodících robůtcích, zatímco doma si ještě několik let bude muset hrát s klacky a kameny. Předchozí příklad je samozřejmě nadsázka. Tak propastný rozdíl mezi verzemi zase není. Nicméně nebojte, existují lepší řešení.</p>\n<h2>Shimujeme<a id="shimujeme">&nbsp;</a></h2><p>ES6 přináší dva typy novinek. Tou první jsou <strong>nové objekty a funkce</strong> na již existujících objektech. K těm si můžeme dopomoci jednoduše tím, že k projektu připojíme kusy kódu nazývané <a href="https://github.com/es-shims">shimy a polyfilly</a>. Ty pak detekují chybějící či odlišné API jednotlivých prohlížečů a následně je doplní a sjednotí. V budoucnu, až budou prohlížeče daný standard plně podporovat, můžeme tyto knihovny úplně odstranit.</p>\n<h2>Kompilujeme<a id="kompilujeme">&nbsp;</a></h2><p>Druhou novinkou je nová syntax. V ES6 nám například přibyla nová klíčová slova jako <code>class</code>, <code>extends</code>, <code>let</code> či <code>import</code>. Tady si bohužel pouze s připojenou knihovnou už nevystačíme. Musíme použít <strong>program - kompilátor</strong>, který náš kód přeloží do starší plně podporované verze. V našem případě ES5. Navíc vyřeší i ony nové objekty a funkce z předchozí kapitoly (někdy ale bude i tak potřeba přidat polyfill). I zde platí, že v budoucnu budeme moct kompilátor z procesu úplně vynechat a náš kód bude v prohlížečích fungovat bez dodatečných úprav.</p>\n<h2>V budoucnu?<a id="v-budoucnu-">&nbsp;</a></h2><p>Problém ovšem je, že jakmile budou všichni plně podporovat ES6, tak tu budeme mít finální specifikaci ES7 a mlsně pokukovat po ES8. Prakticky to znamená jediné. <strong>Samotný JavaScript nikdy používat nemůžeme</strong>, pokud nechceme být neustále 3 roky pozadu. Nejlepším řešením je tedy vždy používat jazyk kompilovaný do JavaScriptu.</p>\n<h2>Kompilátory<a id="kompil-tory">&nbsp;</a></h2><p>Nových jazyků a kompilátorů existuje celá řada. Dají se rozdělit do 2 základních kategorií. Tou první jsou zcela nové jazyky, které mají úplně odlišnou syntax a nemůžeme je tedy použít na vylepšení již hotových projektů. Jde například o populární <a href="http://coffeescript.org">CoffeeScript</a>, <a href="http://www.purescript.org">PureScript</a>, <a href="https://github.com/clojure/clojurescript">ClojureScript</a> či <a href="https://www.dartlang.org">Dart</a> (ten se snažil dokonce úplně emancipovat od JS ale neúspěšně). Druhou kategorií jsou jazyky, které současný JavaScript pouze rozšiřují a snaží se více či méně zachovat dopřednou kompatibilitu. Jde třeba o <a href="http://www.typescriptlang.org">TypeScript</a>, <a href="https://github.com/google/traceur-compiler">Traceur</a> či <a href="https://babeljs.io">Babel</a>. Vzájemným porovnáváním by se dalo popsat několik dalších stránek, proto ho nechávám na každém z vás. Dále se budu věnovat pouze poslednímu jmenovanému.</p>\n<h2>Babel<a id="babel">&nbsp;</a></h2><p>Babel nedávno vznikl přejmenováním z <strong>6to5</strong>, rychle se dostal na špičku popularity a získává stále větší momentum. <strong>Proč je úspěšný?</strong> Hlavním důvodem je jednoduše <a href="https://kangax.github.io/compat-table/es6/">nejširší podpora ES6 i ES7 (ES Next)</a>. Plně integruje <strong>JSX a React</strong> (taková ta podivnost, kdy píšete HTML tagy přímo do těla JavaScriptových funkcí). Skvěle si rozumí s editory a různými nástroji.</p>\n<p class="pic-container" style="max-width:250px">\n  <img src="'+t(112)+'" class="pic" title="Babel - nová generace JavaScriptu" />\n</p>\n\n<p>Používají ho už dnes firmy jako <strong>Facebook, Yahoo, Netflix, Mozilla a Evernote</strong>. Můžete ho nasadit na serverovém prostředí <strong>node.js</strong>. Je to ale stále onen čistý JavaScript, takže s ním můžete bez problémů zkompilovat i svoje stávající projekty a s ES6 začít postupně.</p>\n<h2>Co tedy ES6 přináší?<a id="co-tedy-es6-p-in-">&nbsp;</a></h2><p>Je toho spousta. Zmíním jenom pár těch nejzásadnějších věcí. Bylo by asi zbytečné kompletně překládat <a href="https://babeljs.io/docs/learn-es2015/">tuto povedenou dokumentaci</a> (ukázky kódu jsou zkopírované z této dokumentace).</p>\n<h3>Třídy<a id="t-dy">&nbsp;</a></h3><p>Rozlučte se s <code>prototype</code>. Máme tu novou hezčí syntax, která podporuje prototypovou <strong>dědičnost</strong>, volání rodičovské metody, statické metody či <strong>konstruktory</strong>. U zkušenějších JS vývojářů se však často setkáte s názorem, že tato nová syntax je velkou chybou, protože bude svádět nováčky ke klasickému OOP, což je v JS považováno z mnoha důvodů za špatné.</p>\n<code class="codeBlock"><span class="token keyword" >class</span> <span class="token class-name" >SkinnedMesh</span> <span class="token keyword" >extends</span> <span class="token class-name" >THREE<span class="token punctuation" >.</span>Mesh</span> <span class="token punctuation" >{</span>\n  <span class="token function" >constructor<span class="token punctuation" >(</span></span>geometry<span class="token punctuation" >,</span> materials<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token function" >super<span class="token punctuation" >(</span></span>geometry<span class="token punctuation" >,</span> materials<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\n    <span class="token var" >this</span><span class="token punctuation" >.</span>idMatrix <span class="token operator" >=</span> <span class="token qualifier" >Skinned</span><span class="token qualifier" >Mesh</span><span class="token punctuation" >.</span><span class="token function" >defaultMatrix<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span>bones <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span>boneMatrices <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>\n    <span class="token comment" spellcheck="true">//...\n</span>  <span class="token punctuation" >}</span>\n  <span class="token function" >update<span class="token punctuation" >(</span></span>camera<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token comment" spellcheck="true">//...\n</span>    <span class="token keyword" >super</span><span class="token punctuation" >.</span><span class="token function" >update<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n  <span class="token keyword" >static</span> <span class="token function" >defaultMatrix<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token keyword" >new</span> <span class="token class-name" >THREE<span class="token punctuation" >.</span>Matrix4</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n<span class="token punctuation" >}</span></code><h3>Let a const<a id="let-a-const">&nbsp;</a></h3><p>Rozlučte se s <code>var</code>. Máme tu <code>let</code>. Oproti <code>var</code> omezuje působnost proměnné na nejbližší blok. Dále také přibylo klíčové slovo <code>const</code> pro konstanty.</p>\n<code class="codeBlock"><span class="token block-keyword" >function</span> <span class="token function" >f<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token punctuation" >{</span>\n    <span class="token keyword" >let</span> x<span class="token punctuation" >;</span>\n    <span class="token punctuation" >{</span>\n      <span class="token comment" spellcheck="true">// platnost pouze v tomto bloku\n</span>      <span class="token keyword" >const</span> x <span class="token operator" >=</span> <span class="token string" >"sneaky"</span><span class="token punctuation" >;</span>\n      <span class="token comment" spellcheck="true">// chyba, nemůžeme měnit konstantu\n</span>      x <span class="token operator" >=</span> <span class="token string" >"foo"</span><span class="token punctuation" >;</span>\n    <span class="token punctuation" >}</span>\n    <span class="token comment" spellcheck="true">// chyba, nemůžeme opět deklarovat x ve stejném bloku\n</span>    <span class="token keyword" >let</span> x <span class="token operator" >=</span> <span class="token string" >"inner"</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n<span class="token punctuation" >}</span></code><h3>Moduly<a id="moduly">&nbsp;</a></h3><p>Nová syntax sjednocující definici a nahrávání modulů. Nepostradatelná zbraň pro <strong>rozdělení kódu do mnoha modulů a souborů</strong>. Můžete si následně vybrat formát, do kterého má Babel ES6 moduly přeložit. V nabídce je <strong>Common.js</strong>, <strong>AMD</strong>, System a UMD. Dokonce si můžete vymyslet i formát vlastní. Nástroje jako <strong>browserify</strong> či <strong>webpack</strong> pak tyto závislosti za vás vyřeší a sestaví jeden výstupní soubor.</p>\n<p>Ze souboru můžeme <strong>exportovat funkce</strong>, <strong>objekty</strong> i <strong>proměnné</strong> pomocí klíčového slova <code>export</code>.</p>\n<code class="codeBlock"><span class="token comment" spellcheck="true">// lib/math.js\n</span><span class="token keyword" >export</span> <span class="token block-keyword" >function</span> <span class="token function" >sum<span class="token punctuation" >(</span></span>x<span class="token punctuation" >,</span> y<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token keyword" >return</span> x <span class="token operator" >+</span> y<span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span>\n<span class="token keyword" >export</span> <span class="token keyword" >var</span> pi <span class="token operator" >=</span> <span class="token number" >3.141593</span><span class="token punctuation" >;</span></code><p>V jiném souboru si je pak můžeme <strong>importovat</strong> pomocí klíčových slov <code>import</code> a <code>from</code>. <code>*</code> naimportuje vše.</p>\n<code class="codeBlock"><span class="token comment" spellcheck="true">// app.js\n</span><span class="token keyword" >import</span> <span class="token operator" >*</span> as math from <span class="token string" >"lib/math"</span><span class="token punctuation" >;</span>\n<span class="token function" >alert<span class="token punctuation" >(</span></span><span class="token string" >"2π = "</span> <span class="token operator" >+</span> math<span class="token punctuation" >.</span><span class="token function" >sum<span class="token punctuation" >(</span></span>math<span class="token punctuation" >.</span>pi<span class="token punctuation" >,</span> math<span class="token punctuation" >.</span>pi<span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code><p>Můžeme si ale i vybrat, <strong>co přesně</strong> chceme naimportovat pomocí <code>{}</code>.</p>\n<code class="codeBlock"><span class="token comment" spellcheck="true">// otherApp.js\n</span><span class="token keyword" >import</span> <span class="token punctuation" >{</span>sum<span class="token punctuation" >,</span> pi<span class="token punctuation" >}</span> from <span class="token string" >"lib/math"</span><span class="token punctuation" >;</span>\n<span class="token function" >alert<span class="token punctuation" >(</span></span><span class="token string" >"2π = "</span> <span class="token operator" >+</span> <span class="token function" >sum<span class="token punctuation" >(</span></span>pi<span class="token punctuation" >,</span> pi<span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code><p>Specialitou je pak klíčové slovo <code>default</code>.</p>\n<code class="codeBlock"><span class="token comment" spellcheck="true">// lib/mathplusplus.js\n</span><span class="token keyword" >export</span> <span class="token operator" >*</span> from <span class="token string" >"lib/math"</span><span class="token punctuation" >;</span>\n<span class="token keyword" >export</span> <span class="token keyword" >var</span> e <span class="token operator" >=</span> <span class="token number" >2.71828182846</span><span class="token punctuation" >;</span>\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token block-keyword" >function</span><span class="token punctuation" >(</span>x<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >exp<span class="token punctuation" >(</span></span>x<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p>V cílovém souboru si pak můžeme <strong>default import</strong> pojmenovat zcela dle své vůle (zde <code>exp</code>). Současně můžeme i nadále importovat ostatní funkce, objekty a proměnné.</p>\n<code class="codeBlock"><span class="token comment" spellcheck="true">// app.js\n</span><span class="token keyword" >import</span> exp<span class="token punctuation" >,</span> <span class="token punctuation" >{</span>pi<span class="token punctuation" >,</span> e<span class="token punctuation" >}</span> from <span class="token string" >"lib/mathplusplus"</span><span class="token punctuation" >;</span>\n<span class="token function" >alert<span class="token punctuation" >(</span></span><span class="token string" >"2π = "</span> <span class="token operator" >+</span> <span class="token function" >exp<span class="token punctuation" >(</span></span>pi<span class="token punctuation" >,</span> e<span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code><p>Pokud máte nějaké otázky ohledně ES6 modulů (a věřím, že jich určitě bude spousta), koukněte se na pěkný přehled <a href="http://www.2ality.com/2014/09/es6-modules-final.html">sem</a>.</p>\n<h3>Ostatní<a id="ostatn-">&nbsp;</a></h3><p>Velmi užitečné jsou také <strong>defaultní hodnoty</strong> pro argumenty funkcí, <strong>šablony</strong> pro řetězce (aneb už není potřeba zběsile používat <code>+</code> pro spojování řetězců a proměnných) či <strong>destructuring</strong>. Pro více detailů navštivte <a href="https://babeljs.io/docs/learn-es6">dokumentaci</a>.</p>\n<h2>Závěrem<a id="z-v-rem">&nbsp;</a></h2><p>JavaScript už dávno není pouze doplňkovou hračkou v prohlížečích, ale začíná nám ovládat i ostatní platformy. Velké firmy do něj investují nemálo peněz a jeho vývoj tak probíhá překotným tempem. Díky tomu pak vznikají špičkové nástroje jako je Babel. To co na první pohled vypadá jako divoká džungle, tak nakonec příspívá k pružnějšímu vývoji, nutí výrobce prohlížečů rychleji implementovat nové funkce a programátor tím přesto nemusí trpět. Co si tedy z článku odnést? Jednoduché ponaučení! Vždy si přidejte Babel do svého vývojářského procesu a užívejte si budoucnost už dnes. <strong>JavaScript je mrtev, ať žije Babel!</strong></p>\n'},function(n,a,t){n.exports='<h1>Nástroje<a id="n-stroje">&nbsp;</a></h1><p>Tak jako truhlář potřebuje hoblík, pilu nebo nebozez, tak i <strong>vývojář webovek se neobejde bez pořádných nástrojů</strong>. Když si vyberete ty správné a naučíte se s nimi pořádně zacházet, značně usnadní a zrychlí vaši práci. V tomto článku se s nimi v rychlosti seznámíme.</p>\n<h2>Operační systém<a id="opera-n-syst-m">&nbsp;</a></h2><p>Vezmeme to pěkně od základu a tím je operační systém. Nemá smysl chodit kolem horké kaše. Sami asi tušíte, že tím <strong>slonem v místnosti je Windows</strong>. Budete s ním pravděpodobně narážet na různé problémy (pramenící z node.js, npm, slabší podpory Facebooku v jeho opensource knihovnách...), které byste na OSX nebo Linuxu nikdy řešit nemuseli. Předem se tak omlouvám, pokud vám občas něco nebude fungovat. <strong>Články totiž primárně počítají s OSX (či Linuxem)</strong>. Budu ovšem moc rád, pokud případné opravy či návody pošlete pull requestem.</p>\n<h2>Prohlížeč<a id="prohl-e-">&nbsp;</a></h2><p><strong>Standardem pro vývoj je Google Chrome</strong>, který má dnes asi nejpropracovanější vývojářské nástroje. Otevřete je zkratkou <code>⌘</code>+<code>alt</code>+<code>j</code>. <strong>Vůbec nejdůležitějším panelem je <code>Console</code></strong>. Mějte ho pořád na očích. JavaScript vám do něj bude vypisovat všechny warningy a errory. Také si do něj můžete logovat hodnoty vlastní pomocí funkce <code>console.log(...)</code>, která přehledně vypíše i komplikované datové struktury, což je fajn pro rychlé ladění.</p>\n<p>Druhým nejužitečnějším panelem je <code>Elements</code>. <strong>Můžete v něm procházet a hlavně upravovat aktuální DOM strukturu a kaskádové styly.</strong> Změny se pak okamžitě projeví v okně prohlížeče. Hodí se třeba i pro ujištění, zda vám JavaScript vyrendroval nějakou komponentu a není třeba jen schovaná kvůli špatnému stylování.</p>\n<p class="pic-container">\n  <img src="'+t(114)+'" class="pic" title="Chrome s otevřenou konzolí" />\n</p>\n\n<p>Další panely už budete používat asi méně. Velmi šikovný je <code>Network</code>, ve kterém si můžete přehledně například vyfiltrovat XHR requesty. V <code>Sources</code> pak můžete debugovat pomocí breakpointů. Doinstalovat si můžete i speciální <a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en">panel pro React</a>. Je podobný <code>Elements</code>, ale poskytuje i informace o stavu React komponent. Nicméně reálně ho moc nepoužívám.</p>\n<p>V nastavení vývojářských nástroju si ještě zkontrolujte, že máte zaškrtnuté <code>Enable CSS source maps</code> a <code>Enable JavaScript source maps</code>. V našich projektech nebudeme používat přímo JavaScript, ale Babel, který se do něho překládá. <strong>Source mapa pak umožní prohlížeči namapovat řádky výsledného JavaScriptu na zdrojový Babel</strong> a my se tak dozvíme správný řádek a soubor, kde došlo k chybě. Obdobně to funguje pro CSS a preprocesory jako je LESS.</p>\n<p>Web nakonec musíte samozřejmě pravidelně testovat i v ostatních prohlížečích. I ty mají vlastní vývojařské nástroje. Pokud se vám tedy stane, že vám něco nefunguje pouze ve Firefoxu, nebojte se je vyzkoušet. Jsou velmi podobné těm v Chromu.</p>\n<h2>Sublime Text<a id="sublime-text">&nbsp;</a></h2><p>Zatímco mezi webovými prohlížeči moc na výběr nemáte, <strong>o dobré textové editory není nouze</strong>. Nemá smysl zde dělat nějaké dogmatické závěry. Někomu bude vyhovovat spartánský VIM a někdo má zase rád velké všeobjímající IDE. I tak se mezi JavaScriptovými vývojáři dá vypozorovat několik oblíbenců. <strong>Jedním z nich je editor <a href="http://www.sublimetext.com/">Sublime Text</a>.</strong> Momentálně ho používám jako svůj hlavní editor pro všechno.</p>\n<p>Jeho největší předností je rychlost, jednoduchost, spolehlivost a obrovská paleta všemožných doplňků. Nevýhodou pak je to, že se jedná o one-man show projekt, který autor trochu zanedbává, nicméně nedávno se mu zas začal věnovat. Jak už to bývá, dobré věci nejsou zadarmo a tak vás licence vyjde na rozumných $70. Lze ho však nějaký čas používat a zkoušet zdarma. Nejvíce ho totiž oceníte až po nějaké době, kdy si zapamatujete různé zkratky a využijete tak jeho maximální potenciál.</p>\n<p>Pokud se ho rozhodnete používat pro vývoj webovek, doporučuji si pro začátek <a href="https://packagecontrol.io/installation">stáhnout a nainstalovat</a> tyto doplňky:</p>\n<ul>\n<li><a href="https://github.com/alienhard/SublimeAllAutocomplete">All Autocomplete</a></li>\n<li><a href="https://github.com/BoundInCode/AutoFileName">AutoFileName</a></li>\n<li><a href="https://github.com/babel/babel-sublime">Babel</a></li>\n<li><a href="https://github.com/sindresorhus/editorconfig-sublime">EditorConfig</a></li>\n<li><a href="https://github.com/miguelgraz/FocusFileOnSidebar">Focus File On Sidebar</a></li>\n<li><a href="https://github.com/kemayo/sublime-text-git">Git</a></li>\n<li><a href="https://github.com/titoBouzout/SideBarEnhancements">Sidebar Enhancements</a></li>\n<li><a href="https://github.com/SublimeLinter/SublimeLinter3">Sublime Linter</a></li>\n</ul>\n<p>V některém z dalším článku popíšu, jak a proč si nastavit ESLint neboli kontrolu kódu pro JavaScript (Babel) a JSX přímo v Sublime Textu.</p>\n<p class="pic-container">\n  <img src="'+t(116)+'" class="pic" title="Sublime Text 3" />\n</p>\n\n<p><strong>Dalším editorem, který stojí za pozornost je <a href="https://atom.io/">Atom</a></strong>. Je to open source projekt, za kterým stojí GitHub a velmi připomíná Sublime Text. Má ale jeden problém a to je stabilita. Není zatím tak &quot;uhlazený&quot; jako ST a to je u nástroje, který používáte prakticky pořád, dost nepříjemné. Čas od času ho i přesto zkouším a jsou tam vidět velké pokroky. Také nad ním vznikají nové nástavby jako je <a href="https://code.visualstudio.com/">Visual Studio Code</a> od Microsoftu nebo <a href="http://nuclide.io/">Nuclide</a> od Facebooku. Budoucnost Atomu vypadá zajímavě.</p>\n<p>Hodně přívrženců pak má i <a href="https://www.jetbrains.com/webstorm/">WebStorm</a>, <a href="https://www.jetbrains.com/phpstorm/">PHPStorm</a> a celá rodina editorů postavená nad IntelliJ. <strong>Pokud máte rádi velké plnohodnotné IDE, které už v základu lecos umí, tak rozhodně stojí za zkoušku</strong>. Na psaní kódu se dá ale používat prakticky cokoliv, takže se nebojte experimentovat.</p>\n<h2>Terminál<a id="termin-l">&nbsp;</a></h2><p>Svatou trojici pak uzavírá terminál. <strong>Prohlížeč, textový editor a terminál jsou tři věci, které musíte mít jako vývojář stále na očích</strong>. Kromě základní práce se soubory a Gitem z něho budete spouštět vývojový server, buildovat produkční verze a sledovat případné warningy a errory v kódu. Obzvlášť s používáním hot reloadu se většina hlášení bude objevovat právě zde a nikoliv v Console logu prohlížeče.</p>\n<p class="pic-container">\n  <img src="'+t(117)+'" class="pic" title="OSX Terminal" />\n</p>\n\n<h2>Node.js a Npm<a id="node-js-a-npm">&nbsp;</a></h2><p>O <a href="https://nodejs.org/">node.js</a> jste už určitě všichni slyšeli. Jistého chytrého člověka napadlo vzít JavaScript runtime z Chromu a postavit nad ním velmi výkonnou platformu, která by se dala používat i mimo prohlížeč a to zejména na serverech. Tento nápad se setkal s obrovským ohlasem a pomohl odstartovat to pravé JavaScriptové šílenství.</p>\n<p>Asi není překvapivé, že <strong>node se tak stává přirozenou volbou (nejen) pro aplikace, které závisí na velkém JS frontendu</strong>. Je totiž velmi výhodné používat stejný jazyk na obou březích. Můžete tak snadno sdílet části kódu (například validační pravidla či routing), či si předrendrovat stránku už na serveru a uživateli poslat rovnou hotové HTML. Navíc i pokud se rozhodnete stavět server nad jinou platformou, tak se nodu nevyhnete kvůli vývojářským nástrojům, které jsou téměř výhradně napsané také v JavaScriptu. <strong>Takže si ho prosím rovnou nainstalujte</strong>.</p>\n<p class="pic-container" style="max-width: 300px">\n  <img src="'+t(115)+'" class="pic" title="NPM logo" />\n</p>\n\n<p><strong>S nodem se vám nainstaluje i <a href="https://www.npmjs.com/">npm</a> - balíčkovací manager</strong>. Jde o ultimátní a jednotné řešení pro sdílení kódů napříč JS ekosystémem. Původně byl určen pro prostředí nodu, ale nakonec se z něj stal i jednotný systém pro frontend vývojáře (R.I.P <a href="http://bower.io/">bower</a>). Používá ho tak node, browserify, webpack, gulp, grunt, Angular, jQuery, React, prohlížeče ... prostě všichni.</p>\n<p><strong>Největší předností a odlišností NPM (například od Boweru) je to, že každý balíček může mít své vlastní závislosti (balíčky)</strong>. Vzniká tak strom závislostí a není problém, aby v jednom projektu běžela jedna knihovna v několika verzích. Tedy, občas to problém být může. Například React bude dost nešťastný, pokud bude muset o správu DOMu bojovat s další instancí Reactu. Aneb vůči dependency hellu není a nebude zcela imunní žádný balíčkovací manager, ale NPM si v porovnání s konkurencí vede víc než obstojně. <strong>Dalším fundamentálním rysem je filosofie malých a jednoúčelových balíčků</strong>. Není tedy nic zvláštního, pokud je balíček pouze jedna několikařádková funkce.</p>\n<h2>Grunt<a id="grunt">&nbsp;</a></h2><p><strong>Se vší tou záplavou růných nástrojů, kompilátorů a linterů je potřeba se nějak vypořádat</strong>. Představte si, že byste po každé změně kódu museli vlézt do terminálu, najít změněný soubor, spustit nad ním Babel, poté ESLint a pak v prohlížeči ještě udělat refresh. To je přeci repetativní úkon, který se může zautomatizovat. <strong>Objevily se tak nástroje označované jako &quot;task runnery&quot;</strong>. Velmi populárním byl (a stále je?) <a href="http://gruntjs.com/">Grunt</a>. Do projektu si přidáte <code>Gruntfile</code>, ve kterém si vše můžete nakonfigurovat. Konfigurace se skládá z jednotlivých tasků, které můžete pak volat v různém pořadí. Jednotlivé tasky (moduly) nemusíte psát sami, ale většinou je už najdete hotové na NPM. Jsou jich tisíce. Výsledek může vypadat třeba takto:</p>\n<code class="codeBlock">module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token block-keyword" >function</span><span class="token punctuation" >(</span>grunt<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n\n  grunt<span class="token punctuation" >.</span><span class="token function" >initConfig<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>\n    jshint<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n      files<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >\'Gruntfile.js\'</span><span class="token punctuation" >,</span> \'src<span class="token comment" spellcheck="true">/**/</span><span class="token operator" >*</span><span class="token punctuation" >.</span>js<span class="token string" >\', \'</span>test<span class="token comment" spellcheck="true">/**/</span><span class="token operator" >*</span><span class="token punctuation" >.</span>js\'<span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n      options<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n        globals<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n          jQuery<span class="token punctuation" >:</span> <span class="token primitive" >true</span>\n        <span class="token punctuation" >}</span>\n      <span class="token punctuation" >}</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    watch<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n      files<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >\'&lt;%= jshint.files %>\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n      tasks<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >\'jshint\'</span><span class="token punctuation" >]</span>\n    <span class="token punctuation" >}</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\n  grunt<span class="token punctuation" >.</span><span class="token function" >loadNpmTasks<span class="token punctuation" >(</span></span><span class="token string" >\'grunt-contrib-jshint\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  grunt<span class="token punctuation" >.</span><span class="token function" >loadNpmTasks<span class="token punctuation" >(</span></span><span class="token string" >\'grunt-contrib-watch\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\n  grunt<span class="token punctuation" >.</span><span class="token function" >registerTask<span class="token punctuation" >(</span></span><span class="token string" >\'default\'</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >\'jshint\'</span><span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\n<span class="token punctuation" >}</span><span class="token punctuation" >;</span></code><p><strong>Postupně se však ukázalo, že cesta &quot;vše konfigurovat&quot; není úplně nejšťastnější</strong>. Bez dokumentace totiž nedáte ani ránu a pokud si nevystačíte s předem danými funkcemi, tak máte problém. <strong>Dalším problémem Gruntu je rychlost</strong>. Mezivýsledky si totiž ukládá do filesystému a u větších projektů s komplikovaným build procesem trvá dlouho (tohle už možná nejnovější verze nějak řeší).</p>\n<h2>Gulp<a id="gulp">&nbsp;</a></h2><p><strong>A tak přibyl mladší bráška <a href="http://gulpjs.com/">Gulp</a>, který se ponaučil z Gruntu a jde na to lépe</strong>. Konfigurace aka <code>Gulpfile</code> je JavaScript. <strong>Místo toho, abyste konfigurovali, tak programujete</strong>, což je velmi flexibilní a také odpadá nutnost spoléhat na dokumentace. Dalším zlepšovákem jsou streamy, které Gulp používá. Mezivýsledky si drží v paměti, vše běží paralelně a především citelně rychleji. Občas je však problém zkrotit tasky tak, aby běžely sekvenčně (verze 4.x tento častý problém adresuje). Tak jako Grunt i Gulp má dnes již téměř nekonečné množství pluginů. <strong>Grunt vs Gulp? Rozhodně Gulp</strong>. Pro názornost, &quot;konfigurace&quot; Gulpu může vypada třeba takto:</p>\n<code class="codeBlock"><span class="token keyword" >var</span> gulp <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'gulp\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token keyword" >var</span> coffee <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'gulp-coffee\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token keyword" >var</span> concat <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'gulp-concat\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token keyword" >var</span> uglify <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'gulp-uglify\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token keyword" >var</span> imagemin <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'gulp-imagemin\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token keyword" >var</span> sourcemaps <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'gulp-sourcemaps\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token keyword" >var</span> del <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'del\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >var</span> paths <span class="token operator" >=</span> <span class="token punctuation" >{</span>\n  scripts<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>\'client<span class="token operator" >/</span>js<span class="token comment" spellcheck="true">/**/</span><span class="token operator" >*</span><span class="token punctuation" >.</span>coffee<span class="token string" >\', \'</span><span class="token operator" >!</span>client<span class="token operator" >/</span>external<span class="token comment" spellcheck="true">/**/</span><span class="token operator" >*</span><span class="token punctuation" >.</span>coffee\'<span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n  images<span class="token punctuation" >:</span> \'client<span class="token operator" >/</span>img<span class="token comment" spellcheck="true">/**/</span><span class="token operator" >*</span>\'\n<span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n\n<span class="token comment" spellcheck="true">// Not all tasks need to use streams\n</span><span class="token comment" spellcheck="true">// A gulpfile is just another node program and you can use all packages available on npm\n</span>gulp<span class="token punctuation" >.</span><span class="token function" >task<span class="token punctuation" >(</span></span><span class="token string" >\'clean\'</span><span class="token punctuation" >,</span> <span class="token block-keyword" >function</span><span class="token punctuation" >(</span>cb<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token comment" spellcheck="true">// You can use multiple globbing patterns as you would with `gulp.src`\n</span>  <span class="token function" >del<span class="token punctuation" >(</span></span><span class="token punctuation" >[</span><span class="token string" >\'build\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span> cb<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\ngulp<span class="token punctuation" >.</span><span class="token function" >task<span class="token punctuation" >(</span></span><span class="token string" >\'scripts\'</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >\'clean\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span> <span class="token block-keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token comment" spellcheck="true">// Minify and copy all JavaScript (except vendor scripts)\n</span>  <span class="token comment" spellcheck="true">// with sourcemaps all the way down\n</span>  <span class="token keyword" >return</span> gulp<span class="token punctuation" >.</span><span class="token function" >src<span class="token punctuation" >(</span></span>paths<span class="token punctuation" >.</span>scripts<span class="token punctuation" >)</span>\n    <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span>sourcemaps<span class="token punctuation" >.</span><span class="token function" >init<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>\n      <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span><span class="token function" >coffee<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>\n      <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span><span class="token function" >uglify<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>\n      <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span><span class="token function" >concat<span class="token punctuation" >(</span></span><span class="token string" >\'all.min.js\'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>\n    <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span>sourcemaps<span class="token punctuation" >.</span><span class="token function" >write<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>\n    <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span>gulp<span class="token punctuation" >.</span><span class="token function" >dest<span class="token punctuation" >(</span></span><span class="token string" >\'build/js\'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\n<span class="token comment" spellcheck="true">// Copy all static images\n</span>gulp<span class="token punctuation" >.</span><span class="token function" >task<span class="token punctuation" >(</span></span><span class="token string" >\'images\'</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >\'clean\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span> <span class="token block-keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token keyword" >return</span> gulp<span class="token punctuation" >.</span><span class="token function" >src<span class="token punctuation" >(</span></span>paths<span class="token punctuation" >.</span>images<span class="token punctuation" >)</span>\n    <span class="token comment" spellcheck="true">// Pass in options to the task\n</span>    <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span><span class="token function" >imagemin<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>optimizationLevel<span class="token punctuation" >:</span> <span class="token number" >5</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>\n    <span class="token punctuation" >.</span><span class="token function" >pipe<span class="token punctuation" >(</span></span>gulp<span class="token punctuation" >.</span><span class="token function" >dest<span class="token punctuation" >(</span></span><span class="token string" >\'build/img\'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\n<span class="token comment" spellcheck="true">// Rerun the task when a file changes\n</span>gulp<span class="token punctuation" >.</span><span class="token function" >task<span class="token punctuation" >(</span></span><span class="token string" >\'watch\'</span><span class="token punctuation" >,</span> <span class="token block-keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  gulp<span class="token punctuation" >.</span><span class="token function" >watch<span class="token punctuation" >(</span></span>paths<span class="token punctuation" >.</span>scripts<span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >\'scripts\'</span><span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  gulp<span class="token punctuation" >.</span><span class="token function" >watch<span class="token punctuation" >(</span></span>paths<span class="token punctuation" >.</span>images<span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >\'images\'</span><span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\n<span class="token comment" spellcheck="true">// The default task (called when you run `gulp` from cli)\n</span>gulp<span class="token punctuation" >.</span><span class="token function" >task<span class="token punctuation" >(</span></span><span class="token string" >\'default\'</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token string" >\'watch\'</span><span class="token punctuation" >,</span> <span class="token string" >\'scripts\'</span><span class="token punctuation" >,</span> <span class="token string" >\'images\'</span><span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code><p>Podrobnější porovnání Gulpu a Gruntu můžete najít i v <a href="http://www.zdrojak.cz/clanky/gulp-vs-grunt-souboj-bez-viteze-a-porazeneho/">pěkném článků na Zdrojáku</a>.</p>\n<h2>Browserify<a id="browserify">&nbsp;</a></h2><p>Node.js zavedlo do světa JS snadný způsob jak kód modularizovat. Takový modulární systém potřebuje dvě primární věci: možnost exportovat a importovat. Výše jste si mohli již povšimnout importování:</p>\n<code class="codeBlock"><span class="token keyword" >var</span> gulp <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'gulp\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code><p>Obdobný zápis v ES6:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> gulp from <span class="token string" >\'gulp\'</span><span class="token punctuation" >;</span></code><p>Výše uvedené zkusí prohledat <code>/node_modules</code> ve vašem projektu - místo, kam se vám budou ukládat balíčky z npm. Stačí zavolat <code>npm install gulp --save</code> a máte ho tam. Přepínač <code>--save</code> ho navíc přidá do seznamu v <code>package.json</code>. Běžně se totiž <code>/node_modules</code> adresář v Gitu ignoruje a tak je někde potřeba uchovávat seznam všech závislostí.</p>\n<p>V <code>/node_modules/gulp</code> se pak import podívá do hlavního souboru daného balíčku a v něm najde export:</p>\n<code class="codeBlock"><span class="token keyword" >var</span> inst <span class="token operator" >=</span> <span class="token keyword" >new</span> <span class="token class-name" >Gulp</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\nmodule<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> inst<span class="token punctuation" >;</span></code><p><strong>To je vše pěkné, ale asi vás teď napadlo, jak to bude fungovat v prohlížeči? Nebude.</strong> Do prohlížeče můžeme jednotlivé skripty nahrávat pomocí <code>&lt;script&gt; ... &lt;/script&gt;</code>, ale to nám moc nepomůže. Podobných souborů totiž budeme mít v projektu stovky až tisíce a posílat tolik HTTP requestů rozhodně nemůžeme. <strong>Také to nijak neřeší potřebu verzování, minimalizování a zapouzdřování</strong>. Tyto závislosti je tedy potřeba vyřešit už před releasem a uživateli posílat jeden výsledný soubor, ve kterém bude jen to, co skutečně potřebuje.</p>\n<p class="pic-container" style="max-width: 250px">\n  <img src="'+t(113)+'" class="pic" title="Magické Browserify" />\n</p>\n\n<p><strong>A tak vzniklo <a href="http://browserify.org/">Browserify</a></strong>. Vezme váš kód a vyřeší všechny <code>require</code> a <code>module.exports</code> a vyplivne jeden výsledný soubor. <strong>JavaScript, který byl původně určen pro node.js, dokáže udělat kompatibilní pro prohlížeče</strong>. Poradí si například i s core node.js knihovnami. Nicméně to má samozřejmě jistá omezení. Například nemůžete pracovat s <code>fs</code> (filesystem). Velkým plusem je, že není potřeba nic konfigurovat - jednoduše to bude fungovat. Všechna magie se děje uvnitř. Ne nadarmo má ve znaku kouzelnický klobouk.</p>\n<h2>Webpack<a id="webpack">&nbsp;</a></h2><p><strong>Browserify funguje opravdu pěkně, ale i tak má přeci jen pár mušek</strong>. Řeší totiž jenom JavaScript a vše ostatní je potřeba doplnit spoustou gulp modulů. Navíc se ukázalo, že <strong>kromě JavaScriptu je potřeba podobně zpracovat i CSS</strong> (v praxi například LESS) nebo obrázky. To by nemuselo s Gulpem a jeho tisíci pluginy vadit, že? Bohužel Gulp má jednu zásadní slabinu, která plyne ze streamování. Neumí úplně přímočaře vytvořit z několika souborů jeden výstupní (s tím se umí lépe vypořádat např. undergroundovější task runner <a href="http://broccolijs.com/">Broccoli</a>). Je tak potřeba v gulp tascích řešit trochu nešikovně bundlování. A z toho zase mohou vznikat další obtíže, jako je správné odchytávání a zobrazování chyb. Dá se s tím poprat, ale budete cítit, že to není úplně ono.</p>\n<p><strong><a href="http://webpack.github.io/">Webpack</a> na to jde úplně jinak, tak trochu proti filosofii celého JS ekosystému</strong>. Nedeleguje a nevyčleňuje jednotlivé funkce do více modulů a tak už v základu představuje velmi mocný nástroj. Nástroj, který byl od počátku zamýšlen tak, aby nám vývojářům co nejvíce usnadnil práci. <strong>Základním stavebním kamenem jsou loadery</strong>. Každý formát má vlastní a může jít téměř o cokoliv (.js, .css, .less, .coffee, .png...). Webpack pak přetíží <code>require()</code> volání a můžete ho použít třeba i pro markdown dokumenty (jako tato stránka). Následně pak funguje podobně jako browserify, tedy vyřeší závislosti a sestaví build, ve kterém je jen to potřebné.</p>\n<p class="pic-container">\n  <img src="'+t(118)+'" class="pic" title="Webpack proces" />\n</p>\n\n<p><strong>Oproti browserify je potřeba ho nakonfigurovat, což není úplně jednoduché</strong>. Na druhou stranu, jakmile to jednou uděláte, získáte velmi mocného společníka. Konfiguraci navíc můžete z velké části obšlehnout. <strong>Poskytuje také jednu killer funkci</strong>, kterou browserify nemá a pro kterou se vyplatí na něj z browserify přejít a tím je <strong>hot module replacement</strong>. Dokáže nahradit a zpracovat modul, aniž by bylo potřeba refreshovat celou stránku (a modul může být javascript, less nebo markdown!). Bez jakýchkoliv dodatečných pluginů v prohlížeči. Pouze čistý JavaScript! To ohromně zefektivňuje vývoj.</p>\n<p>Dobré je také zmínit, že <strong>kdykoliv můžete velmi snadno přejít z browserify na webpack</strong> (bez úprav zdrojáků). Udělal jsem to nedávno u projektu s 10 000 řádky kódu a 70 npm moduly bez jediné upravy mimo konfiguraci webpacku a gulpu. Naopak už to vždy jít nemusí (pokud například budete specifikovat loadery inline přímo v require voláních).</p>\n<h2>ESLint<a id="eslint">&nbsp;</a></h2><p><strong>Lintování je levný způsob, jak zlepšit stav zdrojáků napříč větším projektem či týmem několika programátorů</strong>. Hlídá totiž styl, jakým kód píšete a tak musí všichni stejně odsazovovat nebo používat závorky. <strong>Pravidla, podle kterých se řídí, si samozřejmě můžete libovolně nastavit</strong>. Nebude vám podstrkovat nějaký svůj styl. Krom toho, že hlídá úhlednost a jednotnost kódu, tak vám leckdy pomůže odhalit i různé překlepy či nepoužíváné importy. <a href="http://eslint.org/">ESLint</a> je poměrně nový JS linter (2013), který si vzal ponaučení z JSHintu a je kompletně modulární. Můžete si do něj tedy přidávat různé doplňky. <strong>Například se vám bude jistě hodit podpora React JSX či Babelu</strong>. Lintování si můžete nainstalovat přímo do svého editoru a zároveň ho přidat i do build procesu, což je taková případná obrana před vývojářem, který by se rozhodl pravidla porušit.</p>\n<h2>Závěrem<a id="z-v-rem">&nbsp;</a></h2><p>Tento článek byl především seznamovací a většina z vás v něm asi nenalezla mnoho nového. I tak je ale důležité udělat alespoň rychlý přehled o různých nástrojích a technologiích, které se dnes používají. <strong>V JS světě se budete neustále potýkat s tím, že žádná řešení nejsou ultimátní</strong> a i ta, která jsou zrovna na špici, mohou za půl roku upadnout zcela v zapomnění. A tak tu máme několik kvalitních prohlížečů, editorů, task runnerů, bundlerů, linterů a dokonce i &quot;JavaScript jazyků&quot;.</p>\n<p>Ale nebojte, příště už to bude rozhodně zajímavější! Vyhrneme si rukávy a pustíme se konečně do práce. <strong>Ukážeme si, jak to vše poskládat dohromady a napíšeme si první React komponentu!</strong></p>\n';
},function(n,a,t){n.exports='<h1>React - JSX<a id="react-jsx">&nbsp;</a></h1><p>První věc, která nováčka v Reactu rozhodně praští do očí, je zápis XML (HTML) tagů přímo do JavaScriptového kódu bez apostrofů kolem. Takovýto zápis se ve světě Reactu nazývá JSX a ano, není to validní JS syntax. Před spuštěním se musí do JS kompilovat. <strong>Dnes si ukážeme, co je pod pokličkou JSX a že se vlastně není čeho bát</strong>.</p>\n<h2>Šablonovací systémy<a id="-ablonovac-syst-my">&nbsp;</a></h2><p>Pojem &quot;šablonovací systém&quot; vám asi není neznámý. V oblasti webů má za úkol oddělit kód (např. PHP) od popisu struktury stránky. Známé příklady jsou Latte, Smarty nebo Twig. Ve světě JavaScriptu pak <a href="https://developers.google.com/closure/templates/">Closure Templates (Soy)</a>. Šablony obsahují jeden velký řetězec plný HTML, CSS a JS + nějaké speciální zápisy (proměnné, makra...). Šablonovací systém pak pomocí regulárních výrazů naplní šablonu daty a poslepuje z ní výsledný řetězec, který může poslat do prohlížeče. Skutečný proces může být i o něco složitější, ale princip zůstává stejný - <strong>jde o slepování řetězců</strong>.</p>\n<h2>DOM vs řetězce<a id="dom-vs-et-zce">&nbsp;</a></h2><p>Slepování řetězců funguje dobře na straně serveru, protože s reloadem celé stránky odpadá starost o stav stránky (například co bylo vyplněné ve formuláři) a vše se načte a spustí znova. <strong>Jenže co dělat, když chceme aktualizovat jenom malé výseky stránky pomocí DOMu?</strong> Můžeme nad upravovaným DOM elementem zavolat:</p>\n<code class="codeBlock"><span class="token qualifier" >Element</span><span class="token punctuation" >.</span>innerHTML <span class="token operator" >=</span> <span class="token string" >\'&lt;div>Komponenta, kterou jsme aktualizovali&lt;/div>\'</span><span class="token punctuation" >;</span></code><p>Problém vyřešen. Naše šablony (řetězce) můžeme takto vložit na libovolné místo DOMu a navíc je to ještě velmi rychlé. Má to ale zásadní háček.</p>\n<p><strong>Pokud by naše komponenta měla na sobě pověšené listenery (například onClick), tak ty po innerHTML zmizí a musíme je opětovně navěsit.</strong> Co když bude v naší komponentě formulář a uživatel v něm bude mít zrovna něco rozepsané? Všechno mu během aktualizace zmizí. Aktualizování DOMu pomocí innerHTML je sice velmi rychlé, ale také velmi náchylné k chybám. Navíc si to přímo říká o XSS .</p>\n<p>A tak vývojáři raději mění DOM postupně pomocí bezpečnějších metod typu <code>Node.appendChild()</code> či <code>Node.replaceChild()</code>. Problém vyřešen? Ne tak docela. Pěkné řetězcové šablony, kde na první pohled vidíme strukturu komponent, už nám najednou nestačí a naše zdrojáky musíme doplnit o různě dlouhé série <code>Node</code> metod, což je typické imperativní nepřehledné programování. <strong>Místo toho, abychom definovali jednotlivé stavy (podoby) našich komponent, musíme dávat dohromady sady kroků, kterými se z jednoho stavu dostaneme do druhého.</strong> Kdyby tak byla nějaká knihovna, která by tohle za nás vyřešila. Třeba React, že.</p>\n<h2>Funkce místo řetězců<a id="funkce-m-sto-et-zc-">&nbsp;</a></h2><p>Definice komponent pomocí řetězců má tedy své limity. React však používá silnější nástroj - virtuální DOM (strom), který si vytvoří na základě <strong><code>render()</code> metod, které popisují strukturu komponent pomocí funkcí</strong>. Tento virtuální DOM se pak pomocí <code>appendChild</code> či <code>innerHTML</code> promítne do DOMu skutečného a dojde tak k překreslení v prohlížeči. Pokud se u některé komponenty změní props nebo state, opětovně se zavolá metoda <code>render()</code>, vznikne nový virtuální DOM, porovná se s tím s předchozím a rozdíly se nejefektivnějším možným způsobem promítnou i do DOMu skutečného.</p>\n<p><strong>Jak se ale HTML dá převést na funkce?</strong> Názvy jednotlivých elementů nahradíme za názvy funkcí a z atributů (props) uděláme jeden velký argument - mapu. Vnořené elementy (děti) pak budou představovat další argumenty (mimochodem v React komponentě jsou přístupné pomocí <code>this.props.children</code>).</p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>form className<span class="token operator" >=</span><span class="token string" >"nameForm"</span><span class="token operator" >></span>\n  <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"text"</span> placeholder<span class="token operator" >=</span><span class="token string" >"Jméno"</span> <span class="token operator" >/</span><span class="token operator" >></span>\n  <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"text"</span> placeholder<span class="token operator" >=</span><span class="token string" >"Příjmení"</span> <span class="token operator" >/</span><span class="token operator" >></span>\n  <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"submit"</span> value<span class="token operator" >=</span><span class="token string" >"Poslat"</span> <span class="token operator" >/</span><span class="token operator" >></span>\n<span class="token operator" >&lt;</span><span class="token operator" >/</span>form<span class="token operator" >></span></code><p>se zapíše jako:</p>\n<code class="codeBlock"><span class="token function" >form<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>className<span class="token punctuation" >:</span> <span class="token string" >\'nameForm\'</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  <span class="token function" >input<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'text\'</span><span class="token punctuation" >,</span> placeholder<span class="token punctuation" >:</span> <span class="token string" >\'Jméno\'</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n  <span class="token function" >input<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'text\'</span><span class="token punctuation" >,</span> placeholder<span class="token punctuation" >:</span> <span class="token string" >\'Příjmení\'</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n  <span class="token function" >input<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'submit\'</span><span class="token punctuation" >,</span> value<span class="token punctuation" >:</span> <span class="token string" >\'Poslat\'</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span>\n<span class="token punctuation" >)</span></code><p><strong>A to je celá věda kolem JSX. Je to jen triviální &quot;syntax sugar&quot;, který dělá kód čitelnější</strong> a přístupnější pro lidi odkojené na HTML. Není tedy potřeba se učit nový jazyk, nová makra či nové zápisy. Stačí si vždy vzpomenout na to, že jde jen o prosté funkce. Reálný zápis je trošičku složitější:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >FormNoJSX</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>\n\n  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n      <span class="token qualifier" >React</span><span class="token punctuation" >.</span>DOM<span class="token punctuation" >.</span><span class="token function" >form<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>className<span class="token punctuation" >:</span> <span class="token string" >\'nameForm\'</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n        <span class="token qualifier" >React</span><span class="token punctuation" >.</span>DOM<span class="token punctuation" >.</span><span class="token function" >input<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'text\'</span><span class="token punctuation" >,</span> placeholder<span class="token punctuation" >:</span> <span class="token string" >\'Jméno\'</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n        <span class="token qualifier" >React</span><span class="token punctuation" >.</span>DOM<span class="token punctuation" >.</span><span class="token function" >input<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'text\'</span><span class="token punctuation" >,</span> placeholder<span class="token punctuation" >:</span> <span class="token string" >\'Příjmení\'</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n        <span class="token qualifier" >React</span><span class="token punctuation" >.</span>DOM<span class="token punctuation" >.</span><span class="token function" >input<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'submit\'</span><span class="token punctuation" >,</span> value<span class="token punctuation" >:</span> <span class="token string" >\'Poslat\'</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span>\n      <span class="token punctuation" >)</span>\n    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n<span class="token punctuation" >}</span></code><p>Teď už i víte, proč je vždy potřeba na začátku importovat React. Pro pořádek ještě důkaz, že to funguje:</p>\n<p>$$$formNoJSX2$$$</p>\n<p><strong>Nelíbí se vám opakované <code>React.DOM</code>?</strong> Můžeme si ho &quot;vytknout&quot; pomocí <a href="https://babeljs.io/docs/learn-es2015/#destructuring">ES6 destruktoru</a>:</p>\n<code class="codeBlock"><span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n\n  <span class="token keyword" >const</span> <span class="token punctuation" >{</span>form<span class="token punctuation" >,</span> input<span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token qualifier" >React</span><span class="token punctuation" >.</span>DOM<span class="token punctuation" >;</span>\n\n  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n    <span class="token function" >form<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>className<span class="token punctuation" >:</span> <span class="token string" >\'nameForm\'</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n      <span class="token function" >input<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'text\'</span><span class="token punctuation" >,</span> placeholder<span class="token punctuation" >:</span> <span class="token string" >\'Jméno\'</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n      <span class="token function" >input<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'text\'</span><span class="token punctuation" >,</span> placeholder<span class="token punctuation" >:</span> <span class="token string" >\'Příjmení\'</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n      <span class="token function" >input<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'submit\'</span><span class="token punctuation" >,</span> value<span class="token punctuation" >:</span> <span class="token string" >\'Poslat\'</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span>\n    <span class="token punctuation" >)</span>\n  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p>A v takovém <a href="http://coffeescript.org/">CoffeeScriptu</a>, který je více expresivní než JS, by to vypadalo jako:</p>\n<code class="codeBlock"><span class="token punctuation" >{</span>form<span class="token punctuation" >,</span> input<span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token qualifier" >React</span><span class="token punctuation" >.</span>DOM<span class="token punctuation" >;</span>\n\nrender<span class="token punctuation" >:</span> <span class="token operator" >-</span><span class="token operator" >></span>\n  form <span class="token punctuation" >{</span>className<span class="token punctuation" >:</span> <span class="token string" >\'nameForm\'</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    input <span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'text\'</span><span class="token punctuation" >,</span> placeholder<span class="token punctuation" >:</span> <span class="token string" >\'Jméno\'</span><span class="token punctuation" >}</span>\n    input <span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'text\'</span><span class="token punctuation" >,</span> placeholder<span class="token punctuation" >:</span> <span class="token string" >\'Příjmení\'</span><span class="token punctuation" >}</span>\n    input <span class="token punctuation" >{</span>type<span class="token punctuation" >:</span> <span class="token string" >\'submit\'</span><span class="token punctuation" >,</span> value<span class="token punctuation" >:</span> <span class="token string" >\'Poslat\'</span><span class="token punctuation" >}</span></code><p>Existuje dokonce i <a href="https://github.com/jsdf/coffee-react-transform">fork Coffee</a>, kde lze používat JSX.</p>\n<p>Jak vidíte, je tedy čistě na vás a vašich preferencích, kterou variantu si zvolíte. <strong>Můžete spokojeně používat React i úplně bez JSX.</strong> Nicméně, drtivá většina lidí JSX s Reactem používá a tak všechny příklady najdete v něm. JSX je pevnou součástí <a href="babel.html">Babelu</a> a třeba i TypeScriptu. Dostává se mu značné podpory i co se týče nástrojů, editorů a linterů. Stává se z něho průmyslový standard.</p>\n<h2>JSX syntax<a id="jsx-syntax">&nbsp;</a></h2><p>Teď když vidíte, co je výsledkem JSX transformace, tak by vám už mělo být i jasné, co všechno můžete a nemůžete zapsat do <code>{}</code>. Kód uzavřený v <code>{}</code> je jednoduše čistý JavaScript.</p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token punctuation" >{</span>red<span class="token punctuation" >}</span><span class="token operator" >></span>\n  <span class="token operator" >&lt;</span>button<span class="token operator" >></span><span class="token punctuation" >{</span>label<span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>button<span class="token operator" >></span>\n<span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span></code><p>se přeloží do</p>\n<code class="codeBlock"><span class="token qualifier" >React</span><span class="token punctuation" >.</span>DOM<span class="token punctuation" >.</span><span class="token function" >div<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>className<span class="token punctuation" >:</span> red<span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token qualifier" >React</span><span class="token punctuation" >.</span>DOM<span class="token punctuation" >.</span><span class="token function" >button<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span> label<span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code><p>Z toho je jasné, že například s</p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>div<span class="token operator" >></span><span class="token punctuation" >{</span><span class="token block-keyword" >if</span> <span class="token punctuation" >(</span>foo<span class="token punctuation" >)</span> <span class="token punctuation" >{</span><span class="token operator" >?</span><span class="token operator" >?</span><span class="token operator" >?</span><span class="token punctuation" >}</span><span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span></code><p>byste se nikam nedostali, ale</p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>div<span class="token operator" >></span><span class="token punctuation" >{</span>foo <span class="token operator" >?</span> <span class="token string" >\'ahoj\'</span> <span class="token punctuation" >:</span> <span class="token string" >\'\'</span><span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span></code><p>nebo</p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>div<span class="token operator" >></span><span class="token punctuation" >{</span>foo <span class="token operator" >&amp;&amp;</span> <span class="token string" >\'ahoj\'</span><span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span></code><p>fungovat bude.</p>\n<p><strong>A v JavaScriptu můžete zase znova použít JSX:</strong></p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>div<span class="token operator" >></span><span class="token punctuation" >{</span>foo <span class="token operator" >&amp;&amp;</span> <span class="token operator" >&lt;</span>button<span class="token operator" >></span><span class="token qualifier" >Ahoj</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>button<span class="token operator" >></span><span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span></code><p>Velmi často v JSX uvidíte různé mapovací funkce, které vrací pole React elementů:</p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>div<span class="token operator" >></span><span class="token punctuation" >{</span>cars<span class="token punctuation" >.</span><span class="token function" >map<span class="token punctuation" >(</span></span>car <span class="token operator" >=</span><span class="token operator" >></span> <span class="token operator" >&lt;</span>div<span class="token operator" >></span><span class="token punctuation" >{</span>car<span class="token punctuation" >.</span>name<span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span><span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span></code><p>A nyní už víte opravdu všechno. Pokud jste stále trochu zmatení, zkuste si napsat pár komponent. Uvidíte, že z JSX se stane &quot;jazyk&quot;, který plně ovládnete během jednoho večera, protože si vždy velmi lehce můžete vydedukovat do čeho se kompiluje.</p>\n<h2>Pár dalších věcí...<a id="p-r-dal-ch-v-c-">&nbsp;</a></h2><p>Najde se ale i pár dalších detailů, které stojí za zmínku. Občas se může stát, že <strong>chcete, aby nějaký váš vlastní atribut prošel až do výsledného DOM elementu:</strong></p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>div my<span class="token operator" >-</span>attr<span class="token operator" >=</span><span class="token string" >"test"</span> <span class="token operator" >/</span><span class="token operator" >></span></code><p>Ovšem React neznámé atributy automaticky odstraní. Výjimku udělá, pokud použijete prefix <code>data-</code>:</p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>div data<span class="token operator" >-</span>attr<span class="token operator" >=</span><span class="token string" >"test"</span> <span class="token operator" >/</span><span class="token operator" >></span></code><p>Občas také můžete mít potřebu vložit někam &quot;natvrdo&quot; statický HTML kód, to se udělá takto:</p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>div dangerouslySetInnerHTML<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span>__html<span class="token punctuation" >:</span> <span class="token string" >\'&lt;b>Tohle se neescapuje!&lt;/b>\'</span><span class="token punctuation" >}</span><span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span></code><p>Z názvu je už zřejmé, že jde o velmi nebezpečný postup, protože escapování zůstává jen a pouze na vás. Tímto úplně vyřadíte React a obsah se do stránky vloží pomocí <code>innerHTML</code>.</p>\n<h2>Chyby<a id="chyby">&nbsp;</a></h2><p>Jednou z velkých výhod definování pomocí funkcí je to, že <strong>pokud uděláte chybu, dostane se vám vždy pěkné a přesné zprávy</strong>, protože jste udělali chybu v JavaScriptovém kódu a nikoliv v nějakém řetězci, který se bude parsovat až buhví kdy.</p>\n<p>Například chybějící uzavírací závorka:</p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"timeago"</span>\n  <span class="token operator" >&lt;</span><span class="token qualifier" >Time</span><span class="token qualifier" >Ago</span> date<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>article<span class="token punctuation" >.</span>date<span class="token punctuation" >}</span> formatter<span class="token operator" >=</span><span class="token punctuation" >{</span>formatter<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>\n<span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span></code><p>okamžitě vypíše tuto pěknou chybu v terminálu:</p>\n<p class="pic-container">\n  <img src="'+t(119)+'" class="pic" title="Pěkné a přehledné chybové hlášení" />\n</p>\n\n<p>To je luxus, který se vám většinou při &quot;slepování řetězců&quot; nedostane.</p>\n<p>Některé atributy se jmenují jinak kvůli kolizím s klíčovými slovy. Například toto nebude fungovat:</p>\n<code class="codeBlock"><span class="token operator" >&lt;</span>div <span class="token keyword" >class</span><span class="token operator" >=</span><span class="token string" >"fooClass"</span> <span class="token operator" >/</span><span class="token operator" >></span></code><p>ale nebojte, dostane se vám ihned nápověda v konzoli:</p>\n<code class="codeBlock"><span class="token qualifier" >Warning</span><span class="token punctuation" >:</span> <span class="token qualifier" >Unknown</span> DOM property <span class="token keyword" >class</span><span class="token punctuation" >.</span> <span class="token qualifier" >Did</span> you mean className<span class="token operator" >?</span></code><h2>Závěrem<a id="z-v-rem">&nbsp;</a></h2><p><strong>JSX pouze zpříjemňuje čitelnost komponent.</strong> Bude se líbit zejména kodérům. React však můžete plnohodnotně používat i zcela bez něj. <strong>Důležité je však to, co se skrývá pod ním - funkce.</strong> Funkce totiž poskytují skvělou a netušeně mocnou abstrakci pro skládání jednotlivých komponent. I po 2 letech od uvedení Reactu se tak stále objevují nové a lepší způsoby, jakými do sebe jednotlivé komponenty skládat, což si určitě ukážeme i v dalších dílech. To by nebylo možné, pokud by React a JSX nebyly pouze čistým JavaScriptem. Příště si ukážeme knihovnu <a href="https://facebook.github.io/immutable-js/">Immutable.js</a> a způsob jak díky ní 100x zrychlit už tak rychlou React aplikaci.</p>\n'},function(n,a,t){n.exports='<h1>React - Props vs State<a id="react-props-vs-state">&nbsp;</a></h1><p><strong>React se točí kolem props a tak je nejvyšší čas si ukázat, co jsou zač</strong>. Minule jsem už naznačil, že jde o druhý zdroj dat, který React komponenty pro své vykreslení používají. Povíme si, jak se props liší od state a jakým způsobem se používají. To vše si demonstrujeme na pokročilejším příkladě, který se bude skládat z více komponent. Na nich uvidíte i to, jakým způsobem se komponenty do sebe skládají a jak spolu komunikují. <strong>Dnes to bude o úplných základech Reactu</strong>.</p>\n<h2>Props<a id="props">&nbsp;</a></h2><p><strong>React komponenty lze do sebe skládat</strong> a proto je potřeba, aby měly prostředek pro předávání dat. Tím jsou právě ony props, které tak tvoří páteř všech React aplikací.</p>\n<p>V hlavní React komponentě můžeme mít metodu:</p>\n<code class="codeBlock"><span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token function" >return<span class="token punctuation" >(</span></span>\n    <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n      <span class="token operator" >&lt;</span>h1<span class="token operator" >></span><span class="token qualifier" >Zv</span>ířata<span class="token operator" >&lt;</span><span class="token operator" >/</span>h1<span class="token operator" >></span>\n      <span class="token operator" >&lt;</span><span class="token qualifier" >Animal</span> name<span class="token operator" >=</span><span class="token string" >"Baryk"</span> type<span class="token operator" >=</span><span class="token string" >"dog"</span> <span class="token operator" >/</span><span class="token operator" >></span>\n      <span class="token operator" >&lt;</span><span class="token qualifier" >Animal</span> name<span class="token operator" >=</span><span class="token string" >"Lizza"</span> type<span class="token operator" >=</span><span class="token string" >"cat"</span> <span class="token operator" >/</span><span class="token operator" >></span>\n    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p><strong>Animal je přitom jen další React komponenta</strong>. Ta tímto získala přístup k <code>this.props.name</code> a <code>this.props.type</code>. Její <code>render</code> metoda může vypadat třeba takto:</p>\n<code class="codeBlock"><span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token function" >return<span class="token punctuation" >(</span></span>\n    <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n      <span class="token operator" >&lt;</span>h1<span class="token operator" >></span><span class="token qualifier" >Zv</span>íře<span class="token operator" >&lt;</span><span class="token operator" >/</span>h1<span class="token operator" >></span>\n      <span class="token qualifier" >Jm</span>éno<span class="token punctuation" >:</span> <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>name<span class="token punctuation" >}</span>\n      <span class="token qualifier" >Typ</span><span class="token punctuation" >:</span> <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>type<span class="token punctuation" >}</span>\n    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p><strong>Předávat můžeme samozřejmě i funkce či objekty. Všechno je jen a pouze čistý JavaScript. Props fungují pouze jednosměrně směrem zhora dolů.</strong> Zvíře tudíž nemá způsob, jak změnit props komponenty Zvířata. Může nicméně dostat od rodičovské komponenty skrz props callback a ten zavolat. Tento jednosměrný postup velmi redukuje komplexnost aplikací.</p>\n<p>Už víte, že <code>render()</code> se volá při změně props a state. <strong>S jeho voláním se ale navíc přerendruje i celý podstrom potomků.</strong> Pokud by někdo změnil state/props v komponentě Zvířata, tak se zavolají <code>render</code> metody i u komponenty Zvíře.</p>\n<h2>Zadání úlohy<a id="zad-n-lohy">&nbsp;</a></h2><p><strong>Dnešním cílem bude vytvoření jednoduché databáze aut</strong>. Každé auto bude mít 3 údaje - značku, model a rok výroby. Tyto údaje budou seskupené do karty, která bude umožňovat (roz)skrýt model a rok. Jednotlivá auta budeme moct přidávat a mazat.</p>\n<h2>Návrh komponent<a id="n-vrh-komponent">&nbsp;</a></h2><p><strong>Při navrhování React aplikací začínáme tím, že si musíme aplikaci rozkouskovat do jednotlivých komponent</strong>. Při rozdělování do komponent se lze přidržet i vizuální podoby. Logickým kandidátem na samostatnou komponentu je karta auta. Další částí rozhraní je formulář pro přidání auta, šup s ním do druhé komponenty. Nakonec potřebujeme ještě někde formulář a auta vypsat a máme tak komponentu třetí - hlavní.</p>\n<h2>Kam se stavem<a id="kam-se-stavem">&nbsp;</a></h2><p><strong>Jaké stavy v aplikaci vlastně budeme mít? Jde především o detaily aut</strong>. Vhodným kandidátem pro uložení je pole objektů, kde každý objekt bude reprezentovat jedno auto. Ale kam s ním? V naší jednoduché aplikaci moc na výběr nemáme. Pole aut musí být v hlavní komponentě, která jednotlivá auta bude vykreslovat.</p>\n<p><strong>Dalším stavem pak bude to, zda je karta auta rozbalená či zabalená.</strong> Asi vás ihned napadne, že tento stav patří do komponenty auta. Také ho ale můžeme umístit jako další vlastnost objektu auto. Oba přístupy jsou v pohodě.</p>\n<p>Nicméně, obecným <strong>trendem v React aplikacích je zahnat veškeré stavy někam &quot;do rohu&quot; na jedno místo</strong>. Proč nechceme mít stavy roztroušené po aplikaci? Tak například si představte, že bychom chtěli přidat tlačítko &quot;Rozbal všechna auta&quot;. Podobnou funkcionalitu bychom přirozeně umístili do hlavní komponenty, ale jak pak aktualizovat tento stav v jednotlivých komponentách aut? Není způsob jak komponenty aut proiterovat a zavolat <code>auto.rozbalit()</code>, protože to by byl imperativní přístup, který v Reactu (naštěstí) nefunguje.</p>\n<p><strong>Komponentu s vnitřním stavem nemůžeme 100% ovládat z vnějšího prostředí</strong>. Pokud však stav vystrčíme někam ven a komponeta bude používat pro své vykreslování pouze zděděné props, dostaneme nad ní plnou kontrolu.</p>\n<p><strong>Lokální stav je tedy přijatelný pouze, pokud ho nikdy nebudeme potřebovat upravovat či číst vně komponenty</strong>. Nicméně i takovýto superlokální stav můžeme snadno &quot;globalizovat&quot; a mít tak všechny React komponenty &quot;čisté&quot; a plně kontrolovatelné. To si však ukážeme až později s Redux architekturou. A nebojte, je globální stav a globální stav.</p>\n<h2>Komponenta Auto<a id="komponenta-auto">&nbsp;</a></h2><p><strong>Nejlepším postupem je budovat aplikaci od spoda</strong>, jelikož pak můžete rychle vše testovat, což je vždy lepší než půl hodiny psát kód naslepo. Napíšeme si tedy nejdříve komponentu auto. Představíme si, jak asi bude vypadat objekt auta, který dostaneme skrz props:</p>\n<code class="codeBlock"><span class="token punctuation" >{</span>id<span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >,</span> brand<span class="token punctuation" >:</span> <span class="token string" >\'Ferrari\'</span><span class="token punctuation" >,</span> model<span class="token punctuation" >:</span> <span class="token string" >\'FF\'</span><span class="token punctuation" >,</span> year<span class="token punctuation" >:</span> <span class="token string" >\'2014\'</span><span class="token punctuation" >,</span> details<span class="token punctuation" >:</span> <span class="token primitive" >false</span><span class="token punctuation" >}</span></code><p><code>id</code> se nám bude hodit pro snadnou manipulaci v případě mazání a rozbalování. <code>details</code> nám pak určuje, zda je karta rozbalená či zabalená.</p>\n<p>Začneme tím, že si data vypíšeme:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Car</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>\n\n  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n      <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n        <span class="token operator" >&lt;</span>div<span class="token operator" >></span><span class="token operator" >&lt;</span>b<span class="token operator" >></span><span class="token qualifier" >Zna</span>čka<span class="token punctuation" >:</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>b<span class="token operator" >></span> <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>car<span class="token punctuation" >.</span>brand<span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n        <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>car<span class="token punctuation" >.</span>details <span class="token operator" >&amp;&amp;</span>\n          <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n            <span class="token operator" >&lt;</span>b<span class="token operator" >></span><span class="token qualifier" >Model</span><span class="token punctuation" >:</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>b<span class="token operator" >></span> <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>car<span class="token punctuation" >.</span>model<span class="token punctuation" >}</span> <span class="token operator" >&lt;</span>br <span class="token operator" >/</span><span class="token operator" >></span>\n            <span class="token operator" >&lt;</span>b<span class="token operator" >></span><span class="token qualifier" >Rok</span><span class="token punctuation" >:</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>b<span class="token operator" >></span> <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>car<span class="token punctuation" >.</span>year<span class="token punctuation" >}</span>\n          <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n        <span class="token punctuation" >}</span>\n    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n<span class="token punctuation" >}</span></code><p>Všimnětě si, že v JSX nemůžete obalit kus kódu do nějakého makra <code>{if} ... {else}</code>, protože by to nebyla regulérní JS syntax. <strong>Do <code>{}</code> lze zabalit jen validní JS výrazy, něco co se dá vypsat</strong>. Nikoliv třeba řídící bloky. O JSX bude ještě samostatný článek. Můžeme si ale pomoct jednoduchou obezličkou viz výše. Pokud bychom přesto trvali na <code>if</code>, mohli bychom si výsledek předuložit do nějaké proměnné před <code>return()</code>.</p>\n<p><strong>Jak si to teď otestujeme?</strong> Vytvoříme si další hlavní komponentu a v ní si <code>Car</code> vypíšeme:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token qualifier" >Car</span> from <span class="token string" >\'./car\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Cars</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>\n\n  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >const</span> car <span class="token operator" >=</span> <span class="token punctuation" >{</span>\n      id<span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >,</span>\n      brand<span class="token punctuation" >:</span> <span class="token string" >\'Ferrari\'</span><span class="token punctuation" >,</span>\n      model<span class="token punctuation" >:</span> <span class="token string" >\'FF\'</span><span class="token punctuation" >,</span>\n      year<span class="token punctuation" >:</span> <span class="token string" >\'2014\'</span><span class="token punctuation" >,</span>\n      details<span class="token punctuation" >:</span> <span class="token primitive" >true</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n\n    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n      <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n        <span class="token operator" >&lt;</span><span class="token qualifier" >Car</span> car<span class="token operator" >=</span><span class="token punctuation" >{</span>car<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>\n      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n<span class="token punctuation" >}</span></code><p>Uložíme a výsledek by měl vypadat takto:</p>\n<p>$$$cars1$$$</p>\n<p>S komponentou auta jsme už skoro hotoví. Zbývá si ji ještě trochu ostylovat a přidat do ní tlačíka pro mazání a rozbalování. <strong>Dobrým zvykem je v komponentách deklarovat jaké typ props očekávají, že jim budou předány</strong>. React pak v devel režimu provádí automatickou kontrolu a upozorní nás, pokud nesedí typy nebo na něco zapomeneme:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Car</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>\n\n  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >const</span> styles <span class="token operator" >=</span> <span class="token punctuation" >{</span>\n      border<span class="token punctuation" >:</span> <span class="token string" >\'2px solid #CCC\'</span><span class="token punctuation" >,</span>\n      padding<span class="token punctuation" >:</span> <span class="token number" >10</span><span class="token punctuation" >,</span>\n      margin<span class="token punctuation" >:</span> <span class="token string" >\'10px 10px 10px 0px\'</span><span class="token punctuation" >,</span>\n      backgroundColor<span class="token punctuation" >:</span> <span class="token string" >\'#FFF\'</span><span class="token punctuation" >,</span>\n      float<span class="token punctuation" >:</span> <span class="token string" >\'left\'</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n\n    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n      <span class="token operator" >&lt;</span>div style<span class="token operator" >=</span><span class="token punctuation" >{</span>styles<span class="token punctuation" >}</span><span class="token operator" >></span>\n        <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n          <span class="token operator" >&lt;</span>b<span class="token operator" >></span><span class="token qualifier" >Zna</span>čka<span class="token punctuation" >:</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>b<span class="token operator" >></span> <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>car<span class="token punctuation" >.</span>brand<span class="token punctuation" >}</span>\n        <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n        <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>car<span class="token punctuation" >.</span>details <span class="token operator" >&amp;&amp;</span>\n          <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n            <span class="token operator" >&lt;</span>b<span class="token operator" >></span><span class="token qualifier" >Model</span><span class="token punctuation" >:</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>b<span class="token operator" >></span> <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>car<span class="token punctuation" >.</span>model<span class="token punctuation" >}</span> <span class="token operator" >&lt;</span>br <span class="token operator" >/</span><span class="token operator" >></span>\n            <span class="token operator" >&lt;</span>b<span class="token operator" >></span><span class="token qualifier" >Rok</span><span class="token punctuation" >:</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>b<span class="token operator" >></span> <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>car<span class="token punctuation" >.</span>year<span class="token punctuation" >}</span>\n          <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n        <span class="token punctuation" >}</span>\n\n        <span class="token operator" >&lt;</span>button onClick<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span><span class="token function" >toggle<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>car<span class="token punctuation" >.</span>id<span class="token punctuation" >)</span><span class="token punctuation" >}</span><span class="token operator" >></span>\n          <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>car<span class="token punctuation" >.</span>details <span class="token operator" >?</span> <span class="token string" >\'Méně\'</span> <span class="token punctuation" >:</span> <span class="token string" >\'Více\'</span><span class="token punctuation" >}</span>\n        <span class="token operator" >&lt;</span><span class="token operator" >/</span>button<span class="token operator" >></span>\n        <span class="token punctuation" >{</span><span class="token string" >\' \'</span><span class="token punctuation" >}</span>\n\n        <span class="token operator" >&lt;</span>button onClick<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span><span class="token function" >remove<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>car<span class="token punctuation" >.</span>id<span class="token punctuation" >)</span><span class="token punctuation" >}</span><span class="token operator" >></span>\n          x\n        <span class="token operator" >&lt;</span><span class="token operator" >/</span>button<span class="token operator" >></span>\n      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n<span class="token punctuation" >}</span>\n\n<span class="token qualifier" >Car</span><span class="token punctuation" >.</span>propTypes <span class="token operator" >=</span> <span class="token punctuation" >{</span>\n  car<span class="token punctuation" >:</span> <span class="token qualifier" >React</span><span class="token punctuation" >.</span><span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>object<span class="token punctuation" >.</span>isRequired<span class="token punctuation" >,</span>\n  remove<span class="token punctuation" >:</span> <span class="token qualifier" >React</span><span class="token punctuation" >.</span><span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>func<span class="token punctuation" >.</span>isRequired<span class="token punctuation" >,</span>\n  toggle<span class="token punctuation" >:</span> <span class="token qualifier" >React</span><span class="token punctuation" >.</span><span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>func<span class="token punctuation" >.</span>isRequired\n<span class="token punctuation" >}</span><span class="token punctuation" >;</span></code><p><strong>React má i pěkný aparát na zápis inline stylů.</strong> Místo pomlček se používá camelCase a není třeba potřeba psát &#39;px&#39;. O stylování pomocí JavaScriptu bude možná ještě samostatný článek, protože je to také zajímavá problematika.</p>\n<p>Akce v této komponentě řešit nebudeme. Ať se postará rodič a předá nám skrz props callbacky, které máme zavolat. <code>{&#39; &#39;}</code> je taková srandička, protože JSX není HTML a nový řádek se nepřeloží do mezery, kterou tam ale mít chceme. Lehce také upravíme root komponentu, protože musíme předat nově i callbacky:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token qualifier" >Car</span> from <span class="token string" >\'./car\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Cars</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>\n\n  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >const</span> car1 <span class="token operator" >=</span> <span class="token punctuation" >{</span>\n      id<span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >,</span>\n      brand<span class="token punctuation" >:</span> <span class="token string" >\'Ferrari\'</span><span class="token punctuation" >,</span>\n      model<span class="token punctuation" >:</span> <span class="token string" >\'FF\'</span><span class="token punctuation" >,</span>\n      year<span class="token punctuation" >:</span> <span class="token string" >\'2014\'</span><span class="token punctuation" >,</span>\n      details<span class="token punctuation" >:</span> <span class="token primitive" >true</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n\n    <span class="token keyword" >const</span> car2 <span class="token operator" >=</span> <span class="token punctuation" >{</span>\n      id<span class="token punctuation" >:</span> <span class="token number" >2</span><span class="token punctuation" >,</span>\n      brand<span class="token punctuation" >:</span> <span class="token string" >\'BMW\'</span><span class="token punctuation" >,</span>\n      model<span class="token punctuation" >:</span> <span class="token string" >\'M5\'</span><span class="token punctuation" >,</span>\n      year<span class="token punctuation" >:</span> <span class="token string" >\'2013\'</span><span class="token punctuation" >,</span>\n      details<span class="token punctuation" >:</span> <span class="token primitive" >false</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n\n    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n      <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n        <span class="token operator" >&lt;</span><span class="token qualifier" >Car</span> car<span class="token operator" >=</span><span class="token punctuation" >{</span>car1<span class="token punctuation" >}</span> remove<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>removeCar<span class="token punctuation" >}</span> toggle<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>toggleCar<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>\n        <span class="token operator" >&lt;</span><span class="token qualifier" >Car</span> car<span class="token operator" >=</span><span class="token punctuation" >{</span>car2<span class="token punctuation" >}</span> remove<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>removeCar<span class="token punctuation" >}</span> toggle<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>toggleCar<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>\n      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n  <span class="token function" >removeCar<span class="token punctuation" >(</span></span>id<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    console<span class="token punctuation" >.</span><span class="token function" >log<span class="token punctuation" >(</span></span>`remove $<span class="token punctuation" >{</span>id<span class="token punctuation" >}</span>`<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n  <span class="token function" >toggleCar<span class="token punctuation" >(</span></span>id<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    console<span class="token punctuation" >.</span><span class="token function" >log<span class="token punctuation" >(</span></span>`toggle $<span class="token punctuation" >{</span>id<span class="token punctuation" >}</span>`<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n<span class="token punctuation" >}</span></code><p>Přidali jsme si i další auto, ať vidíme, jak se komponenta chová, když je zabalená. Výsledek (otevřte si konzoli a zkuste poklepat na tlačítka):</p>\n<p>$$$cars2$$$</p>\n<h2>Komponenta nové auto<a id="komponenta-nov-auto">&nbsp;</a></h2><p>Nyní si připravíme komponentu pro přidání nového auta. Bude to jen jednoduchý formulář s metodou, která po jeho odeslání zavolá callback rodiče:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span>findDOMNode<span class="token punctuation" >}</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token string" >\'./addCar.less\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >AddCar</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>\n\n  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n      <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"addCar"</span><span class="token operator" >></span>\n        <span class="token operator" >&lt;</span>h3<span class="token operator" >></span><span class="token qualifier" >Nov</span>é auto<span class="token operator" >&lt;</span><span class="token operator" >/</span>h3<span class="token operator" >></span>\n        <span class="token operator" >&lt;</span>form onSubmit<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span>e<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >handleSubmit<span class="token punctuation" >(</span></span>e<span class="token punctuation" >)</span><span class="token punctuation" >}</span> ref<span class="token operator" >=</span><span class="token string" >"addCar"</span><span class="token operator" >></span>\n          <span class="token operator" >&lt;</span>label htmlFor<span class="token operator" >=</span><span class="token string" >"brand"</span><span class="token operator" >></span><span class="token qualifier" >Zna</span>čka<span class="token punctuation" >:</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>label<span class="token operator" >></span>\n          <span class="token operator" >&lt;</span>input id<span class="token operator" >=</span><span class="token string" >"brand"</span> type<span class="token operator" >=</span><span class="token string" >"text"</span> name<span class="token operator" >=</span><span class="token string" >"brand"</span> ref<span class="token operator" >=</span><span class="token string" >"brand"</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token operator" >&lt;</span>br <span class="token operator" >/</span><span class="token operator" >></span>\n\n          <span class="token operator" >&lt;</span>label htmlFor<span class="token operator" >=</span><span class="token string" >"model"</span><span class="token operator" >></span><span class="token qualifier" >Model</span><span class="token punctuation" >:</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>label<span class="token operator" >></span>\n          <span class="token operator" >&lt;</span>input id<span class="token operator" >=</span><span class="token string" >"model"</span> type<span class="token operator" >=</span><span class="token string" >"text"</span> name<span class="token operator" >=</span><span class="token string" >"model"</span> ref<span class="token operator" >=</span><span class="token string" >"model"</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token operator" >&lt;</span>br <span class="token operator" >/</span><span class="token operator" >></span>\n\n          <span class="token operator" >&lt;</span>label htmlFor<span class="token operator" >=</span><span class="token string" >"year"</span><span class="token operator" >></span><span class="token qualifier" >Rok</span><span class="token punctuation" >:</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>label<span class="token operator" >></span>\n          <span class="token operator" >&lt;</span>input id<span class="token operator" >=</span><span class="token string" >"year"</span> type<span class="token operator" >=</span><span class="token string" >"text"</span> name<span class="token operator" >=</span><span class="token string" >"year"</span> ref<span class="token operator" >=</span><span class="token string" >"year"</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token operator" >&lt;</span>br <span class="token operator" >/</span><span class="token operator" >></span>\n\n          <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"submit"</span> value<span class="token operator" >=</span><span class="token string" >"Přidat"</span> <span class="token operator" >/</span><span class="token operator" >></span>\n        <span class="token operator" >&lt;</span><span class="token operator" >/</span>form<span class="token operator" >></span>\n      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n  <span class="token function" >handleSubmit<span class="token punctuation" >(</span></span>e<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    e<span class="token punctuation" >.</span><span class="token function" >preventDefault<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span><span class="token function" >add<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>\n      brand<span class="token punctuation" >:</span> <span class="token function" >findDOMNode<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >.</span>refs<span class="token punctuation" >.</span>brand<span class="token punctuation" >)</span><span class="token punctuation" >.</span>value<span class="token punctuation" >,</span>\n      model<span class="token punctuation" >:</span> <span class="token function" >findDOMNode<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >.</span>refs<span class="token punctuation" >.</span>model<span class="token punctuation" >)</span><span class="token punctuation" >.</span>value<span class="token punctuation" >,</span>\n      year<span class="token punctuation" >:</span> <span class="token function" >findDOMNode<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >.</span>refs<span class="token punctuation" >.</span>year<span class="token punctuation" >)</span><span class="token punctuation" >.</span>value\n    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token function" >findDOMNode<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >.</span>refs<span class="token punctuation" >.</span>addCar<span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >reset<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n<span class="token punctuation" >}</span>\n\n<span class="token qualifier" >Add</span><span class="token qualifier" >Car</span><span class="token punctuation" >.</span>propTypes <span class="token operator" >=</span> <span class="token punctuation" >{</span>\n  add<span class="token punctuation" >:</span> <span class="token qualifier" >React</span><span class="token punctuation" >.</span><span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>func<span class="token punctuation" >.</span>isRequired\n<span class="token punctuation" >}</span><span class="token punctuation" >;</span></code><p>V metodě <code>render()</code> není mnoho zajímavého. Za zmínku stojí, že <strong>občas jsou některé atributy v JSX přejmenované</strong>. Například <code>for</code> na <code>htmlFor</code>, či <code>class</code> na <code>className</code>. To proto, aby nedocházelo ke kolizím s klíčovými slovy JS. Pokud byste na to však zapomněli, tak vám React poradí v konzoli. React je velmi výřečný co se warningů a errorů týče, což je dobře.</p>\n<p>Formulář má na sobě pověšený listener <code>onSubmit</code>, který po odeslání zavolá příslušnou metodu. <strong>V ní musíme ihned zavolat <code>e.preventDefault()</code></strong>, jinak by došlo k redirectu aneb standardní chování prohlížeče.</p>\n<p><strong>Důležitým atributem je <code>ref</code></strong>. Ten se hodí, pokud si chceme &quot;šáhnout&quot; na skutečný DOM element. V JSX si ho pomocí tohoto atributu označkujeme a pak se k němu díky <code>React.findDOMNode(this.refs.foo)</code> můžeme dostat. Vidíte, že k hodnotám formuláře přistupujeme velmi nízkoúrovňově, nepotřebujeme žádnou komplikovanou a zbytečnou abstrakci.</p>\n<p><strong>V našem příkladě používáme &quot;nekontrolované&quot; vstupní elementy</strong>. Toto je totiž jediná výjimka, kdy React na chvílí přihmouří oči a nechá vás měnit hodnoty v DOMu (value v inputech), aniž by do toho jakkoliv zasahoval. <strong>Existuje však druhý &quot;kontrolovaný&quot; přístup</strong>. Ten je lepší z více důvodů (není potřeba &quot;šahat&quot; na DOM elementy, snadná validace, persistence rozepsaného formuláře atp.), ale o tom bude ještě samostatný článek. V dnešním nám stačí tento první přímočařejší přístup.</p>\n<p>Formulář si i decentně ostylujeme. Tentokrát pomocí LESSu:</p>\n<code class="codeBlock"><span class="token punctuation" >.</span>addCar <span class="token punctuation" >{</span>\n  label <span class="token punctuation" >{</span>\n    width<span class="token punctuation" >:</span> 65px<span class="token punctuation" >;</span>\n    display<span class="token punctuation" >:</span> inline<span class="token operator" >-</span>block<span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n<span class="token punctuation" >}</span></code><p>Nyní si hotovou komponentu zas vyzkoušíme:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token qualifier" >Add</span><span class="token qualifier" >Car</span> from <span class="token string" >\'./addCar\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Cars</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>\n\n  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n      <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n        <span class="token operator" >&lt;</span><span class="token qualifier" >Add</span><span class="token qualifier" >Car</span> add<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>addCar<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>\n      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n  <span class="token function" >addCar<span class="token punctuation" >(</span></span>car<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    console<span class="token punctuation" >.</span><span class="token function" >log<span class="token punctuation" >(</span></span>`add $<span class="token punctuation" >{</span>car<span class="token punctuation" >}</span>`<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n<span class="token punctuation" >}</span></code><p>A výsledek:</p>\n<p>$$$cars3$$$</p>\n<h2>Hlavní komponenta Auta<a id="hlavn-komponenta-auta">&nbsp;</a></h2><p><strong>Teď už nám zbývá to dát vše dohromady</strong> v hlavní komponentě a implementovat metody <code>addCar</code>, <code>toggleCar</code> a <code>removeCar</code>. Začneme konstruktorem, ve kterém si inicializujeme databázi aut a nabindujeme metodám správný context:</p>\n<code class="codeBlock"><span class="token function" >constructor<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token function" >super<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token var" >this</span><span class="token punctuation" >.</span>state <span class="token operator" >=</span> <span class="token punctuation" >{</span>cars<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>\n    <span class="token punctuation" >{</span>id<span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >,</span> brand<span class="token punctuation" >:</span> <span class="token string" >\'Ferrari\'</span><span class="token punctuation" >,</span> model<span class="token punctuation" >:</span> <span class="token string" >\'FF\'</span><span class="token punctuation" >,</span> year<span class="token punctuation" >:</span> <span class="token string" >\'2014\'</span><span class="token punctuation" >,</span> details<span class="token punctuation" >:</span> <span class="token primitive" >false</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >{</span>id<span class="token punctuation" >:</span> <span class="token number" >2</span><span class="token punctuation" >,</span> brand<span class="token punctuation" >:</span> <span class="token string" >\'BMW\'</span><span class="token punctuation" >,</span> model<span class="token punctuation" >:</span> <span class="token string" >\'M5\'</span><span class="token punctuation" >,</span> year<span class="token punctuation" >:</span> <span class="token string" >\'2013\'</span><span class="token punctuation" >,</span> details<span class="token punctuation" >:</span> <span class="token primitive" >true</span><span class="token punctuation" >}</span>\n  <span class="token punctuation" >]</span><span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n  <span class="token var" >this</span><span class="token punctuation" >.</span>addCar <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>addCar<span class="token punctuation" >.</span><span class="token function" >bind<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token var" >this</span><span class="token punctuation" >.</span>removeCar <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>removeCar<span class="token punctuation" >.</span><span class="token function" >bind<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token var" >this</span><span class="token punctuation" >.</span>toggleCar <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>toggleCar<span class="token punctuation" >.</span><span class="token function" >bind<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p>Nyní pojďme na jednotlivé metody. Nebude to už žádná věda. <code>addCar</code> vypadá takto:</p>\n<code class="codeBlock"><span class="token function" >addCar<span class="token punctuation" >(</span></span>car<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  car<span class="token punctuation" >.</span>id <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span>length <span class="token operator" >?</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >[</span><span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span>length <span class="token operator" >-</span> <span class="token number" >1</span><span class="token punctuation" >]</span><span class="token punctuation" >.</span>id <span class="token operator" >+</span> <span class="token number" >1</span> <span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >;</span>\n\n  <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >setState<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>\n    cars<span class="token punctuation" >:</span> <span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span><span class="token function" >concat<span class="token punctuation" >(</span></span><span class="token punctuation" >[</span>car<span class="token punctuation" >]</span><span class="token punctuation" >)</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p>Jedinou zvláštností je to, že jsme si potřebovali &quot;vygenerovat&quot; unikátní <code>id</code>. Použil jsem prostou inkrementaci <code>id</code> posledního přidaného auta. V případě, že v poli <code>this.state.cars</code> už žádné položky nejsou, tak se použije <code>1</code>. Mohli bychom použít třeba i náhodný řetězec.</p>\n<p><code>removeCar</code> má podobu:</p>\n<code class="codeBlock"><span class="token function" >removeCar<span class="token punctuation" >(</span></span>id<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >setState<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>\n    cars<span class="token punctuation" >:</span> <span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span><span class="token function" >filter<span class="token punctuation" >(</span></span>car <span class="token operator" >=</span><span class="token operator" >></span> car<span class="token punctuation" >.</span>id <span class="token operator" >!</span><span class="token operator" >==</span> id<span class="token punctuation" >)</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p><code>filter</code> je jedna z užitečných funkcí pole. Pro každý prvek v poli zavolá funkci, kterou mu předáme. Pokud je její výsledek <code>true</code>, tak ho vrátí i ve výsledném poli. Jednoduše si tedy smazané auto tímto odfiltrujeme.</p>\n<p>A zbývá <code>toggleCar</code>:</p>\n<code class="codeBlock"><span class="token function" >toggleCar<span class="token punctuation" >(</span></span>id<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >setState<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>\n    cars<span class="token punctuation" >:</span> <span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span><span class="token function" >map<span class="token punctuation" >(</span></span>car <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n      <span class="token block-keyword" >if</span> <span class="token punctuation" >(</span>car<span class="token punctuation" >.</span>id <span class="token operator" >!</span><span class="token operator" >==</span> id<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n        <span class="token keyword" >return</span> car<span class="token punctuation" >;</span>\n      <span class="token punctuation" >}</span>\n      car<span class="token punctuation" >.</span>details <span class="token operator" >=</span> <span class="token operator" >!</span>car<span class="token punctuation" >.</span>details<span class="token punctuation" >;</span>\n      <span class="token keyword" >return</span> car<span class="token punctuation" >;</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p><code>map</code> zavolá pro každý prvek pole funkci, kterou mu předáme. Není to úplně hezké řešení, ale nám to pro tuto chvíli stačí. Lepší by bylo nemít auta v poli, ale v objektu (mapě) a přistupovat k nim přímo pomocí <code>id</code>. Nicméně, to nám zase nezaručí jednoznačné pořadí. Brzo si však představíme <a href="https://facebook.github.io/immutable-js/">Immutable.js</a>, které rožšiřuje JS o pěkné immutable kolekce. Například zde by se nám velmi hodilo <code>Immutable.OrderedMap()</code>.</p>\n<p>V <code>render()</code> už k žádným překvapením nedochází. Vše si pouze vypíšeme:</p>\n<code class="codeBlock"><span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n    <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n      <span class="token operator" >&lt;</span><span class="token qualifier" >Add</span><span class="token qualifier" >Car</span> add<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>addCar<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>\n      <span class="token operator" >&lt;</span>h3<span class="token operator" >></span><span class="token qualifier" >Auta</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span>length<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>h3<span class="token operator" >></span>\n      <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span><span class="token function" >map<span class="token punctuation" >(</span></span>car <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n        <span class="token keyword" >return</span> <span class="token operator" >&lt;</span><span class="token qualifier" >Car</span> car<span class="token operator" >=</span><span class="token punctuation" >{</span>car<span class="token punctuation" >}</span>\n                    key<span class="token operator" >=</span><span class="token punctuation" >{</span>car<span class="token punctuation" >.</span>id<span class="token punctuation" >}</span>\n                    remove<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>removeCar<span class="token punctuation" >}</span>\n                    toggle<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>toggleCar<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >;</span>\n      <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span>\n    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p><strong>To, že React slouží pro mapování dat na DOM, není jen řečnický obrat, ale doslovná skutečnost.</strong> Můžeme vidět, jak pomocí funkce <code>map</code> vytváříme na základě stavu pole nových React komponent, které se ihned vypíší. Přibyl atribut <code>key={car.id}</code>. Ten slouží čistě potřebám Reactu, aby měl přehled o tom, které elementy v budoucím rendrování zmizí či se jen přemístí. Může pak lépe optimalizovat. Pokud byste <code>key</code> neuvedli, tak vám v konzoli React vynadá, ale kód bude stále funkční.</p>\n<p><strong>Dílo je u konce. Celá hlavní komponenta vypadá takto:</strong></p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token qualifier" >Car</span> from <span class="token string" >\'./car\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token qualifier" >Add</span><span class="token qualifier" >Car</span> from <span class="token string" >\'./addCar\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Cars</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>\n\n  <span class="token function" >constructor<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token function" >super<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span>state <span class="token operator" >=</span> <span class="token punctuation" >{</span>cars<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>\n      <span class="token punctuation" >{</span>id<span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >,</span> brand<span class="token punctuation" >:</span> <span class="token string" >\'Ferrari\'</span><span class="token punctuation" >,</span> model<span class="token punctuation" >:</span> <span class="token string" >\'FF\'</span><span class="token punctuation" >,</span> year<span class="token punctuation" >:</span> <span class="token string" >\'2014\'</span><span class="token punctuation" >,</span> details<span class="token punctuation" >:</span> <span class="token primitive" >false</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n      <span class="token punctuation" >{</span>id<span class="token punctuation" >:</span> <span class="token number" >2</span><span class="token punctuation" >,</span> brand<span class="token punctuation" >:</span> <span class="token string" >\'BMW\'</span><span class="token punctuation" >,</span> model<span class="token punctuation" >:</span> <span class="token string" >\'M5\'</span><span class="token punctuation" >,</span> year<span class="token punctuation" >:</span> <span class="token string" >\'2013\'</span><span class="token punctuation" >,</span> details<span class="token punctuation" >:</span> <span class="token primitive" >true</span><span class="token punctuation" >}</span>\n    <span class="token punctuation" >]</span><span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span>addCar <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>addCar<span class="token punctuation" >.</span><span class="token function" >bind<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span>removeCar <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>removeCar<span class="token punctuation" >.</span><span class="token function" >bind<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span>toggleCar <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>toggleCar<span class="token punctuation" >.</span><span class="token function" >bind<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n      <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n        <span class="token operator" >&lt;</span><span class="token qualifier" >Add</span><span class="token qualifier" >Car</span> add<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>addCar<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>\n        <span class="token operator" >&lt;</span>h3<span class="token operator" >></span><span class="token qualifier" >Auta</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span>length<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>h3<span class="token operator" >></span>\n        <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span><span class="token function" >map<span class="token punctuation" >(</span></span>car <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n          <span class="token keyword" >return</span> <span class="token operator" >&lt;</span><span class="token qualifier" >Car</span> car<span class="token operator" >=</span><span class="token punctuation" >{</span>car<span class="token punctuation" >}</span>\n                      key<span class="token operator" >=</span><span class="token punctuation" >{</span>car<span class="token punctuation" >.</span>id<span class="token punctuation" >}</span>\n                      remove<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>removeCar<span class="token punctuation" >}</span>\n                      toggle<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>toggleCar<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >;</span>\n        <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span>\n      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n  <span class="token function" >addCar<span class="token punctuation" >(</span></span>car<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    car<span class="token punctuation" >.</span>id <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span>length <span class="token operator" >?</span>\n      <span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >[</span><span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span>length <span class="token operator" >-</span> <span class="token number" >1</span><span class="token punctuation" >]</span><span class="token punctuation" >.</span>id <span class="token operator" >+</span> <span class="token number" >1</span> <span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >;</span>\n\n    <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >setState<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>\n      cars<span class="token punctuation" >:</span> <span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span><span class="token function" >concat<span class="token punctuation" >(</span></span><span class="token punctuation" >[</span>car<span class="token punctuation" >]</span><span class="token punctuation" >)</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n  <span class="token function" >removeCar<span class="token punctuation" >(</span></span>id<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >setState<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>\n      cars<span class="token punctuation" >:</span> <span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span><span class="token function" >filter<span class="token punctuation" >(</span></span>car <span class="token operator" >=</span><span class="token operator" >></span> car<span class="token punctuation" >.</span>id <span class="token operator" >!</span><span class="token operator" >==</span> id<span class="token punctuation" >)</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n  <span class="token function" >toggleCar<span class="token punctuation" >(</span></span>id<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >setState<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>\n      cars<span class="token punctuation" >:</span> <span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>cars<span class="token punctuation" >.</span><span class="token function" >map<span class="token punctuation" >(</span></span>car <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n        <span class="token block-keyword" >if</span> <span class="token punctuation" >(</span>car<span class="token punctuation" >.</span>id <span class="token operator" >!</span><span class="token operator" >==</span> id<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n          <span class="token keyword" >return</span> car<span class="token punctuation" >;</span>\n        <span class="token punctuation" >}</span>\n        car<span class="token punctuation" >.</span>details <span class="token operator" >=</span> <span class="token operator" >!</span>car<span class="token punctuation" >.</span>details<span class="token punctuation" >;</span>\n        <span class="token keyword" >return</span> car<span class="token punctuation" >;</span>\n      <span class="token punctuation" >}</span><span class="token punctuation" >)</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n<span class="token punctuation" >}</span></code><p><strong>Tadááááá. Výsledná aplikace:</strong></p>\n<p>$$$cars$$$</p>\n<h2>Nedostatky<a id="nedostatky">&nbsp;</a></h2><p><strong>Jelikož se zatím soustředíme pouze na React, používáme jeho komponenty na všechno.</strong> V reálném použití se snažíme udržovat React komponenty co nejjednodušší a nikdy do nich nedáváme logiku typu <code>addCar</code>, <code>removeCar</code> či <code>toggleCar</code>. &quot;Zpětná&quot; komunikace pomocí předávání callbacků se také moc nepoužívá, jelikož to vytváří závislosti mezi jednotlivými komponentami. Navíc si představte, pokud byste měli v sobě zanořených třeba 5 komponent a museli byste si pořád vše předávat skrz props. <strong>Chybí nám tu ono M a C, chybí nám tu zatím Redux</strong>. Dalším nedostatkem je nepoužívání immutable kolekcí, které přinášejí optimalizaci velkou jako Brno. A samozřejmě <strong>formulář by také zasloužil více lásky</strong>.</p>\n<h2>Závěrem<a id="z-v-rem">&nbsp;</a></h2><p><strong>Dnes jsme si naprogramovali složitější aplikaci a názorně si demonstrovali základní práci s Reactem.</strong> Páteří každé React aplikace jsou props a předávání dat skrz ně. Při vytváření nových stavů je potřeba velká obezřetnost, protože nám mohou značně zkomplikovat celou aplikaci. Je dobré stavy &quot;vyhnat&quot; na jedno místo, ideálně do root komponenty. <strong>Příště se mrkneme do hloubky na JSX a ukážeme si, že lze používat React i bez něj.</strong></p>\n';
},function(n,a,t){n.exports='<h1>React - Úvod<a id="react-vod">&nbsp;</a></h1><p><strong>React je JavaScriptová knihovna pro vytváření webových komponent.</strong> V pomyslném MVC představuje &quot;V&quot; neboli view vrstvu a dal by se tak přirovnat například Latte v Nette. React je však daleko více. Přináší totiž zásadní změnu paradigmatu. S Reactem už nepíšeme kód, který něco mění, ale kód, který popisuje, jak má vypadat výsledek, což je řádově snažší úloha. Dvojnásob to pak platí, pokud tím výsledkem je &quot;těžká váha&quot; v podobě DOMu.</p>\n<p class="pic-container" style="max-width:300px">\n  <img src="'+t(120)+'" class="pic" title="JS knihoven není nikdy dost" />\n</p>\n\n\n<h2>Trocha historie<a id="trocha-historie">&nbsp;</a></h2><p><strong>React spatřil světlo světa v květnu 2013</strong>. Opensourcoval ho Facebook, který ho už několik let před tím sám interně používal a vylepšoval. Prvotní vydání se však dočkalo velkého výsměchu. Odezva byla dokonce tak špatná, že Facebook chvíli uvažoval i o jeho stáhnutí. Terčem kritiky se stalo především míchání &quot;HTML a programování&quot;. Podobné obavy nedávno vyjádřili i někteří <a href="https://twitter.com/geekovo/status/604710448131391490">prominentní čeští webaři</a>. Postupně se však ukázalo, že došlo k pouze nepochopení základního konceptu a nejen FE vývojáři si začli rychle osvojovat a užívat nové fundamenty, které React přinesl.</p>\n<p><strong>K dnešnímu dni</strong> (květen 2016 <strong>má 6600 commitů, 41 000 stargazerů a 685 contributorů a je tak jedním z nejoblíbenějších a nejaktivnějších repozitářů na GitHubu</strong>. Facebook během této doby uvolnil i další JS projekty jako <a href="https://facebook.github.io/react-native/">React Native</a> (React pro iOS a Android) či <a href="https://facebook.github.io/immutable-js/">Immutable.js</a> (immutable kolekce).</p>\n<p>Zajímavou knihovnou je také <a href="http://facebook.github.io/graphql/">GraphQL</a>, což je dotazovací jazyk, kterým v komponentách popíšete, jaká data ze serveru potřebují. Doplňuje ho <a href="https://facebook.github.io/relay/">Relay</a>, který GraphQL umí na straně webu zpracovat a je tak zajímavou alternativou pro datovou komunikaci server-client, která dnes představuje nejtěžší část webové aplikace.</p>\n<h2>Pořád jen Facebook<a id="po-d-jen-facebook">&nbsp;</a></h2><p>Všechny výše uvedené projekty jsou široce používané a je kolem nich mohutná komunita. Nevezou se však na popularitě Reactu, protože s ním nejsou nijak spojené. Jsou prostě tak dobré. <strong>Facebook v posledních letech jednoznačně udává trendy v tvorbě webových aplikací</strong>. Nevytváří velké ucelené frameworky, ale pouze malé pragmatické knihovny s minimalistickým API, což má v JS ekosystému úspěch. Přístup Facebooku k opensource by měl být vzorem i pro další firmy.</p>\n<p><strong>Druhým webovým hegemonem je Google</strong>, který ale v poslední době působí trochu schizofrenicky. Jakoby si každý jeho tým budoval vlastní framework/knihovnu a tak tu máme vedle sebe <a href="https://angularjs.org/">Angular</a>, <a href="https://developers.google.com/closure/">Closure Tools</a> a <a href="https://www.polymer-project.org/1.0/">Polymer</a>. Alespoň už zařízl Dart a třeba tak více konsoliduje své síly, co se JS knihoven týče.</p>\n<h2>Server vs prohlížeč<a id="server-vs-prohl-e-">&nbsp;</a></h2><p>Klasické server-side webovky jsou vcelku jednoduché. <strong>Server totiž nemusí udržovat žádný stav</strong>. Přijde mu požadavek od uživatele, poslepuje dohromady nějaké řetězce (část z nich načte třeba z databáze) a celé to pak pošle uživateli do prohlížeče, který to rozparsuje a sestaví DOM (Document Object Model - stromová reprezetace toho co vidíte v prohlížeči jako HTML stránku + metody, kterými se dá upravovat či procházet).</p>\n<p><strong>Interaktivní JS webovky, které běží v prohlížeči, jsou podstatně složitější</strong>. Chceme totiž po nich daleko více než od server-side aplikací. Chceme nabídnout daleko vyšší uživatelský zážitek. Je trochu zbytečné s každou akcí překreslovat celou stránku, když můžeme změny bleskově provádět pomocí funkcí DOMu a uživateli tak dopřát pohodlí, které zná z desktopových aplikací.</p>\n<h2>Zlý DOM<a id="zl-dom">&nbsp;</a></h2><p><strong>DOM a JavaScript jsou dvě úplně rozdílné věci</strong>. Teoreticky by mohl být DOM upravován i jiným jazykem, ale v praxi prohlížeče nabízejí pouze JavaScript. DOM je obrovský moloch, práce s ním je pomalá a prohlížeče nejsou vždy jednotné v jeho implementaci. <strong>JavaScript pak často neprávem sklízí nenávistné komentáře, které by ale měly směřovat právě na DOM</strong>. Dnešní JavaScript je naopak velmi rychlý a vcelku lišácky navržený, což ostatně potvrzuje i to, že se rozšiřuje i do oblastí, kde má narozdíl od prohlížečů silnou konkurenci (node.js).</p>\n<p>DOM navíc představuje jednu velkou globální proměnnou, což přímo svádí k tomu, abychom ho používali jako místo pro ukládání stavu naší aplikace. Asi nemusím popisovat proč jsou globální proměnné zlo. U DOMu to pak ještě zhoršuje jeho pomalost. <strong>Stav aplikace bychom tedy měli udržovat jinde - v našem JavaScriptu</strong> a do DOMu šahat, jenom když je to skutečně potřeba. Pouze do něj zrcadlit změny z našeho JS kódu. Jenže jak to jednoduše udělat?</p>\n<h2>Přínos Reactu<a id="p-nos-reactu">&nbsp;</a></h2><p><strong>Nejzřejmější výhoda pro začátečníka je ta, že React nás prakticky úplně odstíní od DOMu</strong>. V React komponentách pouze deklarativně zadefinujeme strukturu (HTML) skládáním JS funkcí. Jinými slovy, popíšeme, jak má vypadat výsledná stránka na základě příchozích dat. React si z toho poskládá svůj vlastní virtuální DOM, který pak pomocí chytrých algoritmů porovnává s tím skutečným DOMem a když najde rozdíly, tak ho nejefektivnějším možným způsobem aktualizuje. <strong>My už pak jenom dodáváme nová data do jednotlivých komponent a tím pro nás veškerá práce končí</strong>. V prohlížeči vždy uvidíte aktuální pohled vzhledem k dodaným datům. Tohle je &quot;deal breaker&quot;, který vám pravděpodobně není úplně zřejmý, pokud už nemáte předešlou trpkou zkušenost s imperativním přístupem u větší aplikace, což je typicky jQuery a fidlování s jednotlivými DOM elementy.</p>\n<h2>Začínáme<a id="za-n-me">&nbsp;</a></h2><p>Je načase si ukázat první příklad. Komponenty si budete moc vyzkoušet přímo v rámci této stránky nebo zkopírováním do svého <a href="prvni-dev-stack.html">vymazleného stacku</a>. Najdete je samozřejmě také v <a href="https://github.com/tajo/javascript/tree/master/examples/react">repozitáři</a>. Budu téměř výhradně používat ES6 syntax.</p>\n<p>Naše první komponenta se bude jmenovat <code>Counter</code> a <strong>bude udržovat a zobrazovat počet našich kliknutí</strong>. Hned se podívejte na výsledek:</p>\n<p>$$$counter$$$</p>\n<p>A teď si to pojďme rozebrat a naprogramovat. Jak už to bývá, ani u Reactu se neobejdme bez minimálního boilerplate kódu:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Counter</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span></code><p><strong>Nikdy nesmíme zapomenout na importování Reactu</strong>. I když to není na první pohled zřejmé, tak ony HTML tagy (JSX) jsou ve skutečnosti převlečené funkce Reactu, ale to bychom teď předbíhali. Novou komponentu jednoduše oddědíme od <code>React.Component</code> a <code>export default class Counter</code> nám komponentu zpřístupní napříč celou aplikací.</p>\n<p><strong>React komponenty mají pouze jednu povinnou metodu a to <code>render()</code></strong>. V ní se očekává, že popíšete strukturu komponenty včetně jejích závislostí na data. Metoda musí pak vrátit 1 root element (například <code>&lt;div/&gt;</code>), který už může mít libovolný počet potomků včetně dalších React komponent. Takhle vypadá ta naše:</p>\n<code class="codeBlock"><span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n    <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n      <span class="token qualifier" >Kliknul</span> jsi <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>counter<span class="token punctuation" >}</span>x<span class="token punctuation" >.</span> <span class="token operator" >&lt;</span>br<span class="token operator" >/</span><span class="token operator" >></span>\n      <span class="token operator" >&lt;</span>button onClick<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span>e<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >handleClick<span class="token punctuation" >(</span></span>e<span class="token punctuation" >)</span><span class="token punctuation" >}</span><span class="token operator" >></span>\n        <span class="token qualifier" >Klikni</span><span class="token operator" >!</span>\n      <span class="token operator" >&lt;</span><span class="token operator" >/</span>button<span class="token operator" >></span>\n    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p><strong>Povšimněte si, že &quot;uprostřed&quot; JSX zápisu můžete opět vkládat JS výrazy</strong>, pokud je obalíte do <code>{}</code> a takhle to můžete prokladát do několika úrovní, pokud máte rádi nepřehledný kód. JSX velmi připomíná klasické HTML a rozdílů byste našli jen několik. Což je vcelku zajímavé, protože pod pokličkou jde o principálně zcela jinou věc.</p>\n<p><code>this.state</code> je jeden ze dvou hlavních objektů, který &quot;krmí&quot; React komponenty daty. O tom druhém <code>this.props</code> a rozdílech si povíme až příště. <strong><code>this.state</code> je lokální stav komponenty, do kterého si můžeme ukládat libovolná data</strong>. Nám se hodí pro uložení počtu kliknutí. Pomocí <code>{this.state.counter}</code> si tento počet pak jednoduše vypíšeme.</p>\n<p>Klikací tlačítko má atribut <code>onClick</code>. <strong>Vzpomínáte na poučku, že se nemají používat tyto inline atributy pro volání JS? Tak ta stále platí.</strong> Nicméně protože <code>&lt;button/&gt;</code> je ve skutečnosti JS funkce a ne HTML element, tak i <code>onClick</code> nemá s tím klasickým moc společného.</p>\n<p>React má totiž propracované delegování eventů a tak i když budete mít v aplikaci tisíc onClicků, tak z nich React udělá jenom jeden, který pověsí na root element a příchozí eventy nechá probublat k patřičným odběratelům. To velmi šetří výkon a vám nervy, pokud byste podobnou (a nutnou) optimalizaci museli sami implementovat. V Reactu tak můžete libovolně &quot;plýtvat&quot; s listenery jako <code>onKeyDown</code>, <code>onCopy</code>, <code>onFocus</code>, <code>onScroll</code> ... Je jich daleko <a href="https://facebook.github.io/react/docs/events.html">více</a>.</p>\n<code class="codeBlock">onClick<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span>e<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >handleClick<span class="token punctuation" >(</span></span>e<span class="token punctuation" >)</span><span class="token punctuation" >}</span></code><p>Listener očekává funkci, kterou má zavolat, pokud dojde k dané události. <strong>Otázka za milion: Proč naši funkci <code>this.handleClick</code> ještě balíme do další funkce s fat arrow <code>=&gt;</code>?</strong> Protože potřebujeme v <code>handleClick</code> mít přístup k <code>this.state</code> a pokud bychom napsali</p>\n<code class="codeBlock">onClick<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>handleClick<span class="token punctuation" >}</span></code><p>tak se nám do funkce <code>handleClick</code> předá context DOM elementu, ve kterém se ale už nenachází náš <code>this.state.counter</code>. <strong>Proto musíme explicitně nastavit (bindnout) správný context React komponety ručně, což dělá právě ona fat arrow</strong>. Pokud jste zmatení z pojmů jako closure, scope nebo context, tak si <a href="http://ryanmorr.com/understanding-scope-and-context-in-javascript/">přečtěte tento článek</a>. Jde o fundamenty, které dělají JS tím čím je.</p>\n<p>Kde se vlastně bere state neboli stav komponenty? Musíme ho nejprve inicializovat a to se nemůže dít nikde jinde než v konstruktoru:</p>\n<code class="codeBlock"><span class="token function" >constructor<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token function" >super<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token var" >this</span><span class="token punctuation" >.</span>state <span class="token operator" >=</span> <span class="token punctuation" >{</span>counter<span class="token punctuation" >:</span> <span class="token number" >0</span><span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p>Zbývá si už jen napsat funkci, která se zavolá kliknutím na naše tlačítko:</p>\n<code class="codeBlock"><span class="token function" >handleClick<span class="token punctuation" >(</span></span>e<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >setState<span class="token punctuation" >(</span></span>previousState <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token punctuation" >{</span>counter<span class="token punctuation" >:</span> previousState<span class="token punctuation" >.</span>counter <span class="token operator" >+</span> <span class="token number" >1</span><span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p><strong>Stav komponenty se vždy a pouze mění pomocí metody <code>this.setState()</code></strong>. Vyvarujte se pokušení napsat <code>this.state =</code>, protože by se vám pak nezavolal <code>render()</code>. Do <code>setState</code> můžeme jako první argument předat přímo novou hodnotu stavu nebo funkci, do které dostaneme předchozí stav (a props), což se právě hodí pro inkrementování. Náš případ by šel zapsat i jako:</p>\n<code class="codeBlock"><span class="token function" >handleClick<span class="token punctuation" >(</span></span>e<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >setState<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>counter<span class="token punctuation" >:</span> <span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>counter <span class="token operator" >+</span> <span class="token number" >1</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p><strong>Kdy a jak probíhá překreslení?</strong> To už má plně v režii React. K zavolání metody <code>render()</code> dochází, pokud se změní <code>this.state</code> nebo <code>this.props</code>, případně, pokud zavoláme <code>forceUpdate()</code>. <strong>Metoda render vygeneruje nový virtuální DOM a porovná ho s tím skutečným v prohlížeči</strong>. Pokud najde nějaké změny, tak je nejefektivnějším způsobem aplikuje. Svižné a elegantní. Nikde jsme nemuseli definovat, jak, kdy a které DOM elementy je potřeba aktualizovat. <strong>Pouze jsme popsali strukturu a její vztah k datům.</strong></p>\n<p>Výsledný kód:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Counter</span> <span class="token keyword" >extends</span> <span class="token class-name" >React<span class="token punctuation" >.</span>Component</span> <span class="token punctuation" >{</span>\n\n  <span class="token function" >constructor<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token function" >super<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span>state <span class="token operator" >=</span> <span class="token punctuation" >{</span>counter<span class="token punctuation" >:</span> <span class="token number" >0</span><span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>\n      <span class="token operator" >&lt;</span>div<span class="token operator" >></span>\n        <span class="token qualifier" >Kliknul</span> jsi <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>state<span class="token punctuation" >.</span>counter<span class="token punctuation" >}</span>x<span class="token punctuation" >.</span> <span class="token operator" >&lt;</span>br<span class="token operator" >/</span><span class="token operator" >></span>\n        <span class="token operator" >&lt;</span>button onClick<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span>e<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >handleClick<span class="token punctuation" >(</span></span>e<span class="token punctuation" >)</span><span class="token punctuation" >}</span><span class="token operator" >></span>\n          <span class="token qualifier" >Klikni</span><span class="token operator" >!</span>\n        <span class="token operator" >&lt;</span><span class="token operator" >/</span>button<span class="token operator" >></span>\n      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>\n    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n  <span class="token function" >handleClick<span class="token punctuation" >(</span></span>e<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n    <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >setState<span class="token punctuation" >(</span></span>previousState <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n      <span class="token keyword" >return</span> <span class="token punctuation" >{</span>counter<span class="token punctuation" >:</span> previousState<span class="token punctuation" >.</span>counter <span class="token operator" >+</span> <span class="token number" >1</span><span class="token punctuation" >}</span><span class="token punctuation" >;</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n\n<span class="token punctuation" >}</span></code><h2>Závěrem<a id="z-v-rem">&nbsp;</a></h2><p><strong>Představili jsme si React, jeho krátkou historii a související projekty</strong>. Jedním ze strašáků &quot;programování v prohlížeči&quot; je DOM, často chybně a neférově zaměňován s JavaScriptem. React nám mj. umožňuje téměř kompletní abstrakci od DOMu. Strukturu jednotlivých komponent zapisujeme (deklarujeme) skládáním React funkcí, kterým následně dodáváme data a tím pro nás práce končí. React toho nabízí samozřejmě daleko více. Nakousli jsme třeba i systém eventů. <strong>S Reactem je to tak trochu jako dobrým čajem nebo kafem</strong>. Zpočátku vám bude připadat divný a musíte se k němu postupně &quot;propít&quot;. Až poté se stane nepostradatelnou součástí vašeho programátorského dne.</p>\n<p><strong>Příště si ukážeme, co jsou to <code>this.props</code> a jak se liší od <code>this.state</code></strong>. Také si více povíme o životním cyklu komponenty a jejích dalších metodách.</p>\n'},function(n,a,t){n.exports='<h1>První dev stack<a id="prvn-dev-stack">&nbsp;</a></h1><p>Hlavním hrdinou dnešního článku se stane bundlovací nástroj webpack. Lecos jste se o něm mohli dozvědět už v <a href="nastroje.html">minulém článku</a>. S jeho pomocí postavíme první jednoduchou &quot;Hello world&quot; aplikaci v Reactu, která bude například používat Babel (JavaScript budoucnosti) a LESS (CSS preprocesor). <strong>Ukážeme si sílu moderních JS nástrojů v praxi</strong>.</p>\n<h2>Výsledek<a id="v-sledek">&nbsp;</a></h2><p>Protože určitě nemáte rádi překvapení, tak vám hned v úvodu ukážu k čemu se na konci tohoto článku dopracujeme. Výsledkem bude triviální 100% JavaScriptová aplikace s jedinou React komponentou. Jakékoliv úpravy v ní, či přiloženém LESSu se po uložení v editoru <strong>okamžitě</strong> projeví na stránce. <strong>Bez refreshnutí, prosím pěkně!</strong> Kompletní zdrojové kódy najdete v <a href="https://github.com/tajo/devstack">samostatném repozitáři na GitHubu</a>.</p>\n<p class="pic-container" style="max-width:630px">\n  <img src="'+t(121)+'" class="pic" title="Hot reloading v praxi" />\n</p>\n\n\n<h2>Očekávání<a id="o-ek-v-n-">&nbsp;</a></h2><p>Doufám, že se vám demo líbilo. Na první pohled se možná nezdá jako kdoví co, ale vězte, že pod jeho pokličkou toho bublá daleko více. Běží totiž na moderním JS dev stacku, což je soubor různých knihoven, technik a nastavení. Je to základová deska pro náš rodinný baráček. Avšak s menší úpravou by zvládla unést i velký hrad. Co tedy od ní čekat? Jaké jsou naše požadavky?</p>\n<p><strong>Chceme:</strong></p>\n<ul>\n<li><strong>programovat v Babelu</strong>, protože <a href="babel.html">je to lepší JavaScript</a></li>\n<li>budovat velkou a škálovatelnou aplikaci → <strong>chceme maximální modularitu</strong></li>\n<li>mít možnost jednoduše integrovat a <strong>používat stovky tisíce balíčků z npm</strong></li>\n<li>používat nějaký šikovný <strong>CSS preprocesor</strong>, třeba LESS, do budoucna pak možná <a href="http://www.zdrojak.cz/clanky/smeruje-css-od-preprocesingu-k-postprocesingu/">postprocesor</a></li>\n<li>po každé změně v JS i CSS <strong>ihned vidět výsledek v prohlížeči</strong>, ideálně bez refreshnutí</li>\n<li>mít <strong>2 módy</strong>: vývojový a produkční</li>\n<li>v produkčním módu všechny potřebné JS soubory (moduly) <strong>sloučit do jednoho a minimalizovat</strong>, obdobně i pro kaskádové styly</li>\n<li>v produkčním módu ignorovat warningy a jiné debugovací výpisy</li>\n<li>mít <strong>kód kontrolovaný linterem</strong>, aby zůstal pěkný a jednotný</li>\n<li>aby po prvotním nastavení <strong>všechno fungovalo automaticky</strong></li>\n<li><strong>jednoduchost!</strong></li>\n</ul>\n<p>Dlouhý a náročný seznam? Ale kdeže. Jsme programátoři, náš čas je extrémně drahý a menší investice do ladění vývojářského procesu se nám mnohonásobně vrátí. Navíc to sfoukneme raz dva!</p>\n<p class="pic-container" style="max-width:534px">\n  <img src="'+t(123)+'" class="pic" title="Nemáte čas na zlepšování?" />\n</p>\n\n<p>Stack pro tento článek jsem si samozřejmě nevycucal z prstu, ale inspiroval se z mnoha jiných. Mým cílem bylo postavit něco, co bude maximálně jednoduché a přesto použitelné pro reálnou aplikaci. Neobsahuje například React-router, Redux či Immutable.js. Jsou to výborné knihovny a vřele doporučuji je prozkoumat, ale pro začátek nejsou potřeba. Řeší totiž problémy, které vyvstávají až u velkých aplikací. Pokud přesto máte chuť a odvahu jít do toho &quot;all-in&quot;, zkuste například <a href="https://github.com/este/este">github.com/este/este</a>.</p>\n<h2>Webpack<a id="webpack">&nbsp;</a></h2><p>Už jsem o něm básnil v <a href="nastroje.html">předchozím článku</a>. Pro jeho docenění je nejdříve potřeba pojmenovat zásadní problém, kterému vývojáři webových aplikací čelí. Naše aplikace (zdrojové kódy) jsou distribuovány pomocí pomalého a nespolehlivého protokolu HTTP do vzdáleného prohlížeče. Tam se musí ihned zparsovat, spustit a něco provést. Velikost naší aplikace je tedy velmi limitovaná, pokud nechceme uživatele ztratit nekonečnou bílou stránkou. <strong>Aby vše fungovalo svižně, musíme co nejvíce omezit počet HTTP requestů a minimalizovat jejich velikost.</strong></p>\n<p class="pic-container" style="max-width:334px">\n  <img src="'+t(122)+'" class="pic" title="Webpack" />\n</p>\n\n<p>Jinými slovy <strong>musíme velmi pečlivě zvážit, co a kdy do prohlížeče posílat a po jakých částech</strong>. U spousty aplikací nám bude stačit to, když všechny naše skripty spojíme do jednoho souboru <code>bundle.js</code>. Ovšem takový soubor může časem nepřijemně nabobtnat. Jak to vyřešit? Každá část (stránka) naší aplikace potřebuje pravděpodobně různé skripty a tak můžeme dle URL adresy posílat speciální menší bundly, kde bude jen to, co daná stránka skutečně potřebuje. Kód, který používají všechny stránky (typicky knihovna jako jQuery či React), pak dáme do  <code>&lt;script src=&quot;common.js&quot;&gt;</code>, který bude všude - využijeme tak cache prohlížeče. <strong>To samé můžeme udělat s CSS</strong>. Obrázky pak můžeme vhodně cacheovat (verzovat) a ty, které mají jen pár kB, rovnou vložit zakódované do HTML jako base64 - ušetříme tak další drahocenné requesty. <strong>To zní jako hodně otravné práce, že?</strong></p>\n<p>Ano, to je hodně práce! Naštěstí existuje geniální webpack, který tohle vše dokáže vyřešit za nás. Jediné co musíme udělat my je <strong>explicitní uvádění závislostí</strong>. V hantýrce ES6 jde o <code>import</code>, v ES5 pak o <code>require</code>. U našich JS modulů to dělat musíme tak jako tak, ale ta převratná myšlenka webpacku spočívá v tom, že úplně stejným způsobem <strong>budeme uvádět (importovat) i CSS, obrázky, fonty</strong> a vlastně úplně cokoliv co daná stránka / komponenta / balíček potřebuje ke svému životu.</p>\n<p>Webpack pak projde všechny soubory (importy) a sestaví komplexní graf závislostí. Ještě mu musíme ukázat, kde začít, co ignorovat, čím jednotlivé formáty zpracovat (loadery) a jaký od něho očekáváme výstup (jeden velký bundle, více menších bundlů ...). <strong>Výstup pak bude 100% optimální</strong>. Každá část aplikace dostane &quot;na cestu&quot; jen to co skutečně potřebuje a nic zbytečně navíc. Hurá!</p>\n<p><strong>Webpack má obsáhlou <a href="http://webpack.github.io/docs/">dokumentaci</a></strong>, která je ale trochu nepřehledná. Můžete také nahlédnout do <a href="https://github.com/petehunt/webpack-howto">hezkého shrnutí</a> od Pete Hunta. Webpack je velký a mocný nástroj, který je zároveň i extrémně modulární díky loaderům a pluginům. <strong>Není však úplně snadné ho nastavit</strong>.</p>\n<h2>Hot module replacement<a id="hot-module-replacement">&nbsp;</a></h2><p>V roce 2015 měl velkou slávu hot reloading. Jde o další skvělou funkci webpacku (dnes už je i nějaká podpora v browserify). Slouží čistě vývojářům během vývoje aplikace. <strong>Je to cesta, kterou je možné vyměňovat, přidávat a mazat moduly již v běžící aplikaci. Změny se pak na stránce projeví okamžitě bez refreshe.</strong></p>\n<p>Proč je to tak převratné? <strong>Ohromně to zrychluje a zpříjemňuje vývoj</strong>. Refresh je nejen pomalý ale hlavně se při něm ztrácí stav aplikace. Například rozepsaný formulář nebo posloupnost kroků, kterou jste se dostali do nějaké skryté části aplikace (nedostupné přes URL).</p>\n<p>Jak tahle magie funguje? Webpack-dev-server si pomocí socketů povídá s webpack runtime (přiložený bundle k hlavnímu skriptu stránky) a oznámí mu, když uložíte (aktualizujete) nějaký soubor. <strong>Webpack runtime se pak zeptá původního starého modulu, jestli umí zpracovat aktualizaci</strong>, pokud ne, tak jde tato výzva stromem závislostí výše. Pokud se nenajde nikdo, kdo by aktualizaci dokázal provést, tak vám webpack v konzoli suše oznámí, že je potřeba udělat klasický refresh. Musíme psát ke každému modulu potenciálně velmi komplikovanou accept metodu?</p>\n<p>Ano i ne. <strong>U React komponent je potřeba vždy přerenderovat celý strom</strong>. Obecným dobrým trendem je udržovat stav aplikace mimo React komponenty (Redux) a tudíž tento postup funguje. Komponenty sice vždycky kompletně přerenderujeme, ale jelikož v nich není žádný stav, na stránce se vlastně nic nezmění (neztratí). Ovšem ne každý používá striktně Redux a tak vzniklo magické řešení plné hacků aka React Hot Loader, které se snaží stav v komponentách během přerenderování udržet, což ne vždy funguje. Pokud vás zajímá více detailů, přečtěte si <a href="https://medium.com/@dan_abramov/hot-reloading-in-react-1140438583bf#.90dg96b0m">výborný článek</a> od autora React Hot Loaderu Dana Abramova. <strong>TLDR;</strong> pokud budete používat Redux, tak žádné hacky vůbec nepotřebujete, jinak si počkejte na RHL v3, který je sice pořád komplexní, ale už ne tolik magický a více funkční.</p>\n<h2>Struktura aplikace<a id="struktura-aplikace">&nbsp;</a></h2><code class="codeBlock">devstack<span class="token operator" >/</span>                        ← hlavní adresář\n  ├── build<span class="token operator" >/</span>                     ← produkční <span class="token punctuation" >(</span>vybuildněná<span class="token punctuation" >)</span> verze\n  ├── node_modules<span class="token operator" >/</span>              ← NPM balíčky <span class="token punctuation" >(</span>závislosti projektu<span class="token punctuation" >)</span>\n  ├── src<span class="token operator" >/</span>                       ← zdrojové kódy\n  │   ├── client<span class="token operator" >/</span>                ← front<span class="token operator" >-</span>end <span class="token punctuation" >(</span>FE<span class="token punctuation" >)</span> <span class="token operator" >/</span> prohlížečová část\n  │   │   └── hello<span class="token punctuation" >.</span>gif          ← velký obrázek <span class="token punctuation" >(</span><span class="token operator" >></span>10kB<span class="token punctuation" >)</span>\n  │   │   └── icon<span class="token punctuation" >.</span>png           ← malý obrázek <span class="token punctuation" >(</span><span class="token operator" >&lt;</span>10kB<span class="token punctuation" >)</span>\n  │   │   └── index<span class="token punctuation" >.</span>js           ← hlavní <span class="token punctuation" >(</span>vstupní<span class="token punctuation" >)</span> soubor FE části\n  │   │   └── main<span class="token punctuation" >.</span>js            ← hlavní root <span class="token qualifier" >React</span> komponenta\n  │   │   └── main<span class="token punctuation" >.</span>less          ← CSS styly pro hlavní komponentu\n  │   ├── server<span class="token operator" >/</span>                ← serverová část <span class="token punctuation" >(</span>node<span class="token punctuation" >.</span>js<span class="token punctuation" >)</span>\n  │   │   └── html<span class="token punctuation" >.</span>js            ← komponenta se strukturou HTML stránky\n  │   │   └── index<span class="token punctuation" >.</span>js           ← babel require hook\n  │   │   └── main<span class="token punctuation" >.</span>js            ← HTTP <span class="token punctuation" >(</span>express<span class="token punctuation" >)</span> server\n  ├── webpack<span class="token operator" >/</span>                   ← nastavení webpacku\n  │   └── config<span class="token punctuation" >.</span>dev<span class="token punctuation" >.</span>babel<span class="token punctuation" >.</span>js    ← webpack konfig pro vývojový režim\n  │   └── config<span class="token punctuation" >.</span>prod<span class="token punctuation" >.</span>babel<span class="token punctuation" >.</span>js   ← webpack konfig pro produkční verzi\n  │   └── constants<span class="token punctuation" >.</span>js           ← konstanty<span class="token punctuation" >,</span> cesty\n  │   └── index<span class="token punctuation" >.</span>js               ← babel require hook\n  │   └── server<span class="token punctuation" >.</span>dev<span class="token punctuation" >.</span>js          ← vývojový server webpacku\n  ├── <span class="token punctuation" >.</span>babelrc                   ← konfigurace babelu <span class="token punctuation" >(</span>pro server<span class="token punctuation" >)</span>\n  ├── <span class="token punctuation" >.</span>eslintrc                  ← konfigurace eslintu\n  ├── <span class="token punctuation" >.</span>gitignore                 ← soubory ignorované gitem\n  ├── <span class="token punctuation" >.</span>travis<span class="token punctuation" >.</span>yml                ← nastavení CI\n  ├── LICENSE                    ← licence\n  ├── README<span class="token punctuation" >.</span>md                  ← základní info <span class="token punctuation" >(</span>v angličtině<span class="token punctuation" >)</span>\n  └── <span class="token keyword" >package</span><span class="token punctuation" >.</span>json               ← rodokomnen aplikace<span class="token punctuation" >,</span> závislosti atd<span class="token punctuation" >.</span></code><p>Obsah souboru <code>package.json</code>:</p>\n<code class="codeBlock"><span class="token punctuation" >{</span>\n  <span class="token string" >"name"</span><span class="token punctuation" >:</span> <span class="token string" >"devstack"</span><span class="token punctuation" >,</span>\n  <span class="token string" >"description"</span><span class="token punctuation" >:</span> <span class="token string" >"Simple devstack for modern JS apps"</span><span class="token punctuation" >,</span>\n  <span class="token string" >"author"</span><span class="token punctuation" >:</span> <span class="token string" >"Vojtech Miksu &lt;vojtech@miksu.cz>"</span><span class="token punctuation" >,</span>\n  <span class="token string" >"version"</span><span class="token punctuation" >:</span> <span class="token string" >"1.0.0"</span><span class="token punctuation" >,</span>\n  <span class="token string" >"private"</span><span class="token punctuation" >:</span> <span class="token primitive" >true</span><span class="token punctuation" >,</span>\n  <span class="token string" >"scripts"</span><span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n    <span class="token string" >"clean"</span><span class="token punctuation" >:</span> <span class="token string" >"rm -rf build"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"start"</span><span class="token punctuation" >:</span> <span class="token string" >"node webpack/index | NODE_ENV=development node src/server"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"build"</span><span class="token punctuation" >:</span> <span class="token string" >"npm run clean &amp;&amp; NODE_ENV=production webpack --config webpack/config.prod.babel.js"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"server"</span><span class="token punctuation" >:</span> <span class="token string" >"NODE_ENV=production node src/server"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"lint"</span><span class="token punctuation" >:</span> <span class="token string" >"eslint src webpack || true"</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  <span class="token string" >"dependencies"</span><span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n    <span class="token string" >"babel-core"</span><span class="token punctuation" >:</span> <span class="token string" >"^6.8.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"babel-eslint"</span><span class="token punctuation" >:</span> <span class="token string" >"^6.0.4"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"babel-loader"</span><span class="token punctuation" >:</span> <span class="token string" >"^6.2.4"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"babel-plugin-transform-runtime"</span><span class="token punctuation" >:</span> <span class="token string" >"^6.8.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"babel-preset-es2015"</span><span class="token punctuation" >:</span> <span class="token string" >"^6.6.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"babel-preset-node6"</span><span class="token punctuation" >:</span> <span class="token string" >"^11.0.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"babel-preset-react"</span><span class="token punctuation" >:</span> <span class="token string" >"^6.5.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"babel-register"</span><span class="token punctuation" >:</span> <span class="token string" >"^6.8.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"babel-runtime"</span><span class="token punctuation" >:</span> <span class="token string" >"^6.6.1"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"compression"</span><span class="token punctuation" >:</span> <span class="token string" >"^1.6.1"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"css-loader"</span><span class="token punctuation" >:</span> <span class="token string" >"^0.23.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"eslint"</span><span class="token punctuation" >:</span> <span class="token string" >"^2.9.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"eslint-config-airbnb"</span><span class="token punctuation" >:</span> <span class="token string" >"^9.0.1"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"eslint-loader"</span><span class="token punctuation" >:</span> <span class="token string" >"^1.3.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"eslint-plugin-import"</span><span class="token punctuation" >:</span> <span class="token string" >"^1.8.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"eslint-plugin-jsx-a11y"</span><span class="token punctuation" >:</span> <span class="token string" >"^1.2.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"eslint-plugin-react"</span><span class="token punctuation" >:</span> <span class="token string" >"^5.1.1"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"express"</span><span class="token punctuation" >:</span> <span class="token string" >"^4.13.4"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"extract-text-webpack-plugin"</span><span class="token punctuation" >:</span> <span class="token string" >"^1.0.1"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"file-loader"</span><span class="token punctuation" >:</span> <span class="token string" >"^0.8.1"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"ip"</span><span class="token punctuation" >:</span> <span class="token string" >"^1.1.3"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"less"</span><span class="token punctuation" >:</span> <span class="token string" >"^2.5.1"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"less-loader"</span><span class="token punctuation" >:</span> <span class="token string" >"^2.0.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"react"</span><span class="token punctuation" >:</span> <span class="token string" >"^15.0.2"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"react-dom"</span><span class="token punctuation" >:</span> <span class="token string" >"^15.0.2"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"style-loader"</span><span class="token punctuation" >:</span> <span class="token string" >"^0.13.1"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"url-loader"</span><span class="token punctuation" >:</span> <span class="token string" >"^0.5.5"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"webpack"</span><span class="token punctuation" >:</span> <span class="token string" >"^1.12.14"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"webpack-dev-middleware"</span><span class="token punctuation" >:</span> <span class="token string" >"^1.6.0"</span><span class="token punctuation" >,</span>\n    <span class="token string" >"webpack-hot-middleware"</span><span class="token punctuation" >:</span> <span class="token string" >"^2.10.0"</span>\n  <span class="token punctuation" >}</span>\n<span class="token punctuation" >}</span></code><p>Po jeho uložení zavolejte:</p>\n<code class="codeBlock">npm install</code><p>Všechny potřebné závislosti se vám tímto nainstalují do <code>node_modules/</code>.</p>\n<h2>Server<a id="server">&nbsp;</a></h2><p>I přesto, že <strong>naše aplikace a veškerá její logika může kompletně běžet pouze v prohlížeči, pořád nám jí někdo musí do toho prohlížeče naservírovat</strong>. Potřebujeme server. Pro to úplně nejjednodušší použití potřebujeme od serveru to, aby nám vrátil základní HTML strukturu s prázdným <code>&lt;body /&gt;</code> a naší JS aplikací <code>&lt;script src=&quot;build/bundle.js&quot;&gt;</code>. Dále ještě potřebujeme, aby se ve vývojovém módu nahradil hotový <code>build/bundle.js</code> za webpack-dev-server <code>&lt;script src=&quot;//localhost:8888/build/app.js&quot;&gt;</code>.</p>\n<p><strong>Takový server může být v PHP, Pythonu, Javě či vašem oblíbeném jazyce XXX</strong>. Asi vás úplně nepřekvapí, že my šáhneme opět po JavaScriptu a to <strong>node.js</strong>. Mít prohlížečovou část, serverovou část a nástroje včetně jejich nastavení v jednom jazyce nabízí řadu výhod. Je snadné sdílet stejný kód (router, validace). Lze jednoduše přepínat mezi produkčním a vývojovým režimem. To jsou takové příjemné bonusy. <strong>Pak se nabízí ale i možnost server-side renderování Reactu, kterou už bez node.js nemáte</strong>. Tu však zatím rozebírat nebudeme.</p>\n<p>Jelikož se tato série soustředí především na tu prohlížečovou část, tak se samotným nodem moc zabývat prozatím nebudeme. Ostatně existuje už i <a href="http://www.zdrojak.cz/clanky/javascript-na-serveru-zaciname-s-node-js/">český node.js seriál</a>, i když už trochu zastaralý.</p>\n<p>Hlavní soubor serveru <code>index.js</code> vypadá takto:</p>\n<code class="codeBlock"><span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'babel/register\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'./main\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code><p>Pokud chceme používat Babel v prohlížeči, musíme nejdříve náš kód prohnat Babel kompilátorem a prohlížeči poslat až výsledný JavaScript. V prostředí node.js můžeme udělat to samé. Nicméně díky tomu, že nemusíme řešit spojování modulů, minimalizaci a prohlížeče, tak existují i další možnosti. Například <strong>lze místo node používat <a href="https://babeljs.io/docs/usage/cli/#babel-node">babel-node</a></strong>. Pro spuštění serveru pak použijete příkaz <code>babel-node index</code> místo <code>node index</code>. Další a <strong>elegantní možností je výše použitý <a href="https://babeljs.io/docs/usage/require/">require hook</a> <code>require(&#39;babel/register&#39;)</code></strong>. Babel se nabinduje na nodí require a bude kompilovat soubory za běhu (počínaje <code>./main.js</code>). Šestá verze node.js je už téměř plně kompatibilní s ES2015. Bohužel pořád chybí podpora ES2015 modulů a tak je stále Babel ještě potřeba. Nimcéně stačí použít minimalistický <code>babel-preset-node6</code>. Pokud chcete použít starší verzi Node, je potřeba příslušný preset, který doplňuje více chybějících funkcí.</p>\n<p>Soubor <code>main.js</code> je už zajímavější:</p>\n<code class="codeBlock">\n<span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token qualifier" >React</span>DOMServer from <span class="token string" >\'react-dom/server\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> express from <span class="token string" >\'express\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> compression from <span class="token string" >\'compression\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token qualifier" >Html</span> from <span class="token string" >\'./html\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >const</span> app <span class="token operator" >=</span> <span class="token function" >express<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token keyword" >const</span> port <span class="token operator" >=</span> process<span class="token punctuation" >.</span>env<span class="token punctuation" >.</span>PORT <span class="token operator" >||</span> <span class="token number" >8000</span><span class="token punctuation" >;</span>\n\napp<span class="token punctuation" >.</span><span class="token function" >use<span class="token punctuation" >(</span></span><span class="token function" >compression<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\napp<span class="token punctuation" >.</span><span class="token function" >use<span class="token punctuation" >(</span></span><span class="token string" >\'/build\'</span><span class="token punctuation" >,</span> express<span class="token punctuation" >.</span><span class="token function" >static<span class="token punctuation" >(</span></span><span class="token string" >\'build\'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\napp<span class="token punctuation" >.</span><span class="token function" >get<span class="token punctuation" >(</span></span><span class="token string" >\'*\'</span><span class="token punctuation" >,</span> <span class="token punctuation" >(</span>req<span class="token punctuation" >,</span> res<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n  res<span class="token punctuation" >.</span><span class="token function" >send<span class="token punctuation" >(</span></span>`<span class="token operator" >&lt;</span><span class="token operator" >!</span>DOCTYPE html<span class="token operator" >></span>$<span class="token punctuation" >{</span><span class="token qualifier" >React</span>DOMServer<span class="token punctuation" >.</span><span class="token function" >renderToStaticMarkup<span class="token punctuation" >(</span></span><span class="token operator" >&lt;</span><span class="token qualifier" >Html</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >)</span><span class="token punctuation" >}</span>`<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\napp<span class="token punctuation" >.</span><span class="token function" >listen<span class="token punctuation" >(</span></span>port<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\nconsole<span class="token punctuation" >.</span><span class="token function" >log<span class="token punctuation" >(</span></span>`<span class="token qualifier" >Server</span> started on port $<span class="token punctuation" >{</span>port<span class="token punctuation" >}</span>`<span class="token punctuation" >)</span><span class="token punctuation" >;</span> <span class="token comment" spellcheck="true">// eslint-disable-line</span></code><p><strong>Představuje totiž celý server</strong>. Nepotřebujeme už Apache či Nginx, protože node umí obstarat HTTP komunikaci sám. Express je nejpoužívanější node framework, se kterým je hračka napsat například jakékoliv API.</p>\n<p><strong>Nám stačí pouze jedno pravidlo</strong>. V metodě <code>app.get</code> říkáme, že na jakoukoliv adresu nám má server poslat daný řetězec, který reprezentuje naší prázdnou HTML stránku. Tedy krom adresáře <code>/build</code>, ve kterém budeme mít naše JS/CSS bundly či obrázky.</p>\n<p>Trošku jsem v úvodu lhal o té jediné React komponentě. Tady je totiž druhá s názvem <code>Html</code>. <strong><code>ReactDOMServer.renderToStaticMarkup</code> vrátí DOM v podobě prostého řetězce</strong>.</p>\n<p>Poslední dílek skládanky je samotná struktura stránky v Reactu <code>html.js</code>:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> path from <span class="token string" >\'path\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> fs from <span class="token string" >\'fs\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >const</span> isProduction <span class="token operator" >=</span> process<span class="token punctuation" >.</span>env<span class="token punctuation" >.</span>NODE_ENV <span class="token operator" >===</span> <span class="token string" >\'production\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >const</span> buildDir <span class="token operator" >=</span> isProduction <span class="token operator" >?</span> fs<span class="token punctuation" >.</span><span class="token function" >readdirSync<span class="token punctuation" >(</span></span>path<span class="token punctuation" >.</span><span class="token function" >resolve<span class="token punctuation" >(</span></span>__dirname<span class="token punctuation" >,</span> <span class="token string" >\'../../build\'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span> <span class="token punctuation" >:</span> <span class="token string" >\'\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >const</span> appJS <span class="token operator" >=</span> isProduction <span class="token operator" >?</span> buildDir<span class="token punctuation" >.</span><span class="token function" >find<span class="token punctuation" >(</span></span>file <span class="token operator" >=</span><span class="token operator" >></span> <span class="token regex" >/^app\\-\\w+\\.js$/</span><span class="token punctuation" >.</span><span class="token function" >test<span class="token punctuation" >(</span></span>file<span class="token punctuation" >)</span><span class="token punctuation" >)</span> <span class="token punctuation" >:</span> <span class="token string" >\'\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >const</span> appCSS <span class="token operator" >=</span> isProduction <span class="token operator" >?</span> buildDir<span class="token punctuation" >.</span><span class="token function" >find<span class="token punctuation" >(</span></span>file <span class="token operator" >=</span><span class="token operator" >></span> <span class="token regex" >/^app\\-\\w+\\.css$/</span><span class="token punctuation" >.</span><span class="token function" >test<span class="token punctuation" >(</span></span>file<span class="token punctuation" >)</span><span class="token punctuation" >)</span> <span class="token punctuation" >:</span> <span class="token string" >\'\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >const</span> scripts <span class="token operator" >=</span> isProduction <span class="token operator" >?</span> `<span class="token operator" >/</span>build<span class="token operator" >/</span>$<span class="token punctuation" >{</span>appJS<span class="token punctuation" >}</span>` <span class="token punctuation" >:</span> \'<span class="token comment" spellcheck="true">//localhost:8080/build/app.js\';\n</span>\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token operator" >&lt;</span>html<span class="token operator" >></span>\n  <span class="token operator" >&lt;</span>head<span class="token operator" >></span>\n    <span class="token operator" >&lt;</span>meta charSet<span class="token operator" >=</span><span class="token string" >"utf-8"</span> <span class="token operator" >/</span><span class="token operator" >></span>\n    <span class="token operator" >&lt;</span>title<span class="token operator" >></span><span class="token qualifier" >First</span> dev<span class="token operator" >-</span>stack<span class="token operator" >&lt;</span><span class="token operator" >/</span>title<span class="token operator" >></span>\n    <span class="token punctuation" >{</span>isProduction <span class="token operator" >&amp;&amp;</span> <span class="token operator" >&lt;</span>link href<span class="token operator" >=</span><span class="token punctuation" >{</span>`<span class="token operator" >/</span>build<span class="token operator" >/</span>$<span class="token punctuation" >{</span>appCSS<span class="token punctuation" >}</span>`<span class="token punctuation" >}</span> rel<span class="token operator" >=</span><span class="token string" >"stylesheet"</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >}</span>\n  <span class="token operator" >&lt;</span><span class="token operator" >/</span>head<span class="token operator" >></span>\n  <span class="token operator" >&lt;</span>body<span class="token operator" >></span>\n    <span class="token operator" >&lt;</span>div id<span class="token operator" >=</span><span class="token string" >"app-root"</span> <span class="token operator" >/</span><span class="token operator" >></span>\n    <span class="token operator" >&lt;</span>script src<span class="token operator" >=</span><span class="token punctuation" >{</span>scripts<span class="token punctuation" >}</span> type<span class="token operator" >=</span><span class="token string" >"text/javascript"</span> <span class="token operator" >/</span><span class="token operator" >></span>\n  <span class="token operator" >&lt;</span><span class="token operator" >/</span>body<span class="token operator" >></span>\n<span class="token operator" >&lt;</span><span class="token operator" >/</span>html<span class="token operator" >></span><span class="token punctuation" >;</span></code><p><strong>React si více popíšeme až v dalším článku</strong>. Zde jen uvedu, že musíme rozlišovat mezi vývojovým a produkčním režimem. Ve vývojovém nevkládáme CSS soubor pomocí <code>&lt;link&gt;</code>, ale děje se tak javascriptovou cestou, aby nám mj. fungoval hot reload pro styly. JavaScript se pak načítá z webpack serveru a adresy <code>localhost:8080/build/app.js</code>.</p>\n<p>V produkčním režimu se pak klasicky servíruje CSS i JS ze stejného serveru, adresáře <code>build</code>. Název souborů se náhodně mění s každým buildem kvůli cacheování. Musíme tedy nejdříve prohledat adresář <code>build</code> a soubory najít.</p>\n<p>Zbytek je jen prázdná HTML struktura (React komponenta definovaná jako funkce) a <code>div</code> s <code>id=&quot;app-root&quot;</code>, do kterého v prohlížeči vyrendrujeme naši React aplikaci. <strong>Nikdy jí nerendrujte přímo do <code>body</code> elementu, jelikož do něj rádi svévolně šahají i různé další knihovny, což pak způsobuje Reactu značný bolehlav</strong>.</p>\n<p>Server si nyní můžete pustit příkazem:</p>\n<code class="codeBlock">node index</code><p>V produkčním režimu pak jako:</p>\n<code class="codeBlock">NODE_ENV<span class="token operator" >=</span>production node index</code><p>Případně v <code>package.json</code> máme script (alias), který lze spustit jako:</p>\n<code class="codeBlock">npm run server</code><p>Nyní si otevřte Chrome a mrkněte na <code>http://localhost:8000</code>. Měli byste tam nalézt velké bíle nic - právě to jsme si totiž zatím vytvořili. Zda jde o dobré nic, zkontrolujte nahlédnutím do zdrojového kódu stránky.</p>\n<h2>Front-end<a id="front-end">&nbsp;</a></h2><p>Naše dnešní aplikace bude triviální. Vytvoříme si jedinou React komponentu, která nám vypíše &quot;Hello world!&quot;. Také do ní přidáme pár obrázků a styly, abychom si ukázali, jak funguje Webpack. Vstupní bod aplikace index.js vypadá takto:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token qualifier" >React</span>DOM from <span class="token string" >\'react-dom\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token qualifier" >Main</span> from <span class="token string" >\'./main\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >const</span> rootEl <span class="token operator" >=</span> document<span class="token punctuation" >.</span><span class="token function" >getElementById<span class="token punctuation" >(</span></span><span class="token string" >\'app-root\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token qualifier" >React</span>DOM<span class="token punctuation" >.</span><span class="token function" >render<span class="token punctuation" >(</span></span><span class="token operator" >&lt;</span><span class="token qualifier" >Main</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >,</span> rootEl<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\n<span class="token block-keyword" >if</span> <span class="token punctuation" >(</span>module<span class="token punctuation" >.</span>hot<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>\n  module<span class="token punctuation" >.</span>hot<span class="token punctuation" >.</span><span class="token function" >accept<span class="token punctuation" >(</span></span><span class="token string" >\'./main\'</span><span class="token punctuation" >,</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n    <span class="token keyword" >const</span> <span class="token qualifier" >Next</span><span class="token qualifier" >App</span> <span class="token operator" >=</span> <span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'./main\'</span><span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token keyword" >default</span><span class="token punctuation" >;</span> <span class="token comment" spellcheck="true">// eslint-disable-line\n</span>    <span class="token qualifier" >React</span>DOM<span class="token punctuation" >.</span><span class="token function" >render<span class="token punctuation" >(</span></span><span class="token operator" >&lt;</span><span class="token qualifier" >Next</span><span class="token qualifier" >App</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >,</span> rootEl<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token punctuation" >}</span></code><p>V DOMu si vylovíme div, do kterého pak vyrendrujeme naši jedinou hlavní komponentu <code>Main</code>. Děsí vás ty špičaté závorky? Říkáte si, že to není validní JS syntax? Ano, není. <strong>Nicméně Babel dané syntaxi rozumí (JSX) a překládá jí do normálních JS funkcí</strong>. Jediné co musíte pro použití JSX udělat je import Reactu.</p>\n<p>Část s <code>module.hot</code> je pro účely vývojového režimu. Říkáme zde webpacku, že umíme přijmout změny (hot reload), pokud se něco změní v souboru <code>./main</code> či jeho potomcích. Pokud se něco změní, jednoduše znova vyrendrujeme celou aplikaci.</p>\n<p>Samotná <code>Main</code> komponenta není o moc složitější:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >\'react\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> imgHello from <span class="token string" >\'./hello.gif\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> imgIcon from <span class="token string" >\'./icon.png\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token string" >\'./main.less\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"hello"</span><span class="token operator" >></span>\n  <span class="token qualifier" >Hello</span> world<span class="token operator" >!</span>\n  <span class="token operator" >&lt;</span>img src<span class="token operator" >=</span><span class="token punctuation" >{</span>imgHello<span class="token punctuation" >}</span> width<span class="token operator" >=</span><span class="token string" >"300px"</span> alt<span class="token operator" >=</span><span class="token string" >"hello world"</span> <span class="token operator" >/</span><span class="token operator" >></span>\n  <span class="token operator" >&lt;</span>img src<span class="token operator" >=</span><span class="token punctuation" >{</span>imgIcon<span class="token punctuation" >}</span> role<span class="token operator" >=</span><span class="token string" >"presentation"</span> <span class="token operator" >/</span><span class="token operator" >></span>\n<span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span><span class="token punctuation" >;</span></code><p>Povšimněte si, že kromě povinného Reactu <strong>importujeme i soubor s LESS</strong> (stylopis pro naši komponentu s className hello) <strong>a dokonce i obrázky</strong>. Potřeba minimalizace a mazání nepoužívaných CSS je asi všem jasná. <strong>Proč se ale zaobírat obrázky, když ty se nahrávají asynchronně a jen když jsou potřeba i bez nějakého webpacku?</strong></p>\n<ul>\n<li>Obrázky menší než např. 10kB můžeme automaticky <strong>enkódovat do base64</strong> a vložit přímo do HTML. Tím ušetříme zbytečný HTTP request.</li>\n<li><strong>Pojmenování</strong>. Webpack obrázky přejmenuje na jejich hash a přesune do společného <code>/build</code> adresáře. Prohlížeč je tak může cacheovat &quot;navždy&quot;, pokud se změní, tak se změní i jejich název.</li>\n<li><strong>Lepší struktura a opravdová modularita</strong>. Obrázky totiž můžeme mít přímo u jednotlivých komponent, aniž bychom veřejně odhalovali strukturu naší aplikace. Stejně jako styly a vše ostatní.</li>\n</ul>\n<p>Pokud se vám nelíbí představa, že byste museli všechny obrázky uvádět přes import, nezoufejte. Webpack umí poznat a vytáhnout název importu i přímo ze <code>src=&quot;&quot;</code>, když si to nastavíte pomocí <a href="http://webpack.github.io/docs/loaders.html#query">loader query</a>.</p>\n<p>Pro úplnou přehlednost ještě uvedu obsah souboru <code>main.less</code>:</p>\n<code class="codeBlock"><span class="token punctuation" >.</span>hello <span class="token punctuation" >{</span>\n  color<span class="token punctuation" >:</span> #ff0000<span class="token punctuation" >;</span>\n  font<span class="token operator" >-</span>size<span class="token punctuation" >:</span> 3em<span class="token punctuation" >;</span>\n\n  img <span class="token punctuation" >{</span>\n    display<span class="token punctuation" >:</span> block<span class="token punctuation" >;</span>\n  <span class="token punctuation" >}</span>\n<span class="token punctuation" >}</span></code><h2>NPM scripts<a id="npm-scripts">&nbsp;</a></h2><p>V <code>package.json</code> si zadefinujeme jednoduché skripty pomocí kterých budeme spouštět build, linter a vývojový režim. Nejdříve ale ještě musíme doplnit webpack konfiguraci, než budou skripty níže funkční.</p>\n<code class="codeBlock"><span class="token string" >"clean"</span><span class="token punctuation" >:</span> <span class="token string" >"rm -rf build"</span><span class="token punctuation" >,</span>\n<span class="token string" >"start"</span><span class="token punctuation" >:</span> <span class="token string" >"node webpack/index | NODE_ENV=development node src/server"</span><span class="token punctuation" >,</span>\n<span class="token string" >"build"</span><span class="token punctuation" >:</span> <span class="token string" >"npm run clean &amp;&amp; NODE_ENV=production webpack --config webpack/config.prod.babel.js"</span><span class="token punctuation" >,</span>\n<span class="token string" >"server"</span><span class="token punctuation" >:</span> <span class="token string" >"NODE_ENV=production node src/server"</span><span class="token punctuation" >,</span>\n<span class="token string" >"lint"</span><span class="token punctuation" >:</span> <span class="token string" >"eslint src webpack || true"</span></code><p>Vývojový režim spustíme pomocí příkazů:</p>\n<code class="codeBlock">npm start\nopen http<span class="token punctuation" >:</span><span class="token operator" >/</span><span class="token operator" >/</span>localhost<span class="token punctuation" >:</span><span class="token number" >8000</span></code><p>Aplikaci vybuildíme a spustíme takto:</p>\n<code class="codeBlock">npm run build\nnpm run server\nopen http<span class="token punctuation" >:</span><span class="token operator" >/</span><span class="token operator" >/</span>localhost<span class="token punctuation" >:</span><span class="token number" >8000</span></code><p>Linter:</p>\n<code class="codeBlock">npm run lint</code><p>Je už na vás, kdy budete linter spouštět v rámci vašeho procesu. Doporučuji si lintování také nainstalovat do vašeho textového editoru, abyste o chybách věděli ihned a gulp task mít jen jako takovou pojistku. Podporovány jsou <a href="http://eslint.org/docs/user-guide/integrations">všechny běžné editory</a>.</p>\n<h2>Nastavení Webpacku (vývojový režim)<a id="nastaven-webpacku-v-vojov-re-im-">&nbsp;</a></h2><p>To nejlepší nakonec. <strong>Dnešní příběh završíme nastavením Webpacku, který naší aplikaci vdechne život</strong>. Vývojový režim se zapíná pomocí <code>npm start</code> alias <code>node webpack/index | NODE_ENV=development node src/server</code>. Tímto se zároveň spustí webpack dev server (ukážeme si níže) a také náš hlavní server (viz výše).</p>\n<p>Webpack dev server nám bude průběžně servírovat JavaScript a styly pomocí websocketů a hot reloadingu. <code>webpack/index</code> je opět pouze babel require hook abychom měli plnou podporu ES2015:</p>\n<code class="codeBlock"><span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'babel-register\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token function" >require<span class="token punctuation" >(</span></span><span class="token string" >\'./server.dev\'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code><p>Samotný webpack dev server je v <code>server.dev.js</code>:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> express from <span class="token string" >\'express\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> webpack from <span class="token string" >\'webpack\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> webpackDev from <span class="token string" >\'webpack-dev-middleware\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> webpackHot from <span class="token string" >\'webpack-hot-middleware\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> configDev from <span class="token string" >\'./config.dev.babel\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >const</span> app <span class="token operator" >=</span> <span class="token function" >express<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n<span class="token keyword" >const</span> compiler <span class="token operator" >=</span> <span class="token function" >webpack<span class="token punctuation" >(</span></span>configDev<span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\napp<span class="token punctuation" >.</span><span class="token function" >use<span class="token punctuation" >(</span></span><span class="token function" >webpackDev<span class="token punctuation" >(</span></span>compiler<span class="token punctuation" >,</span> <span class="token punctuation" >{</span>\n  publicPath<span class="token punctuation" >:</span> configDev<span class="token punctuation" >.</span>output<span class="token punctuation" >.</span>publicPath<span class="token punctuation" >,</span>\n<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\napp<span class="token punctuation" >.</span><span class="token function" >use<span class="token punctuation" >(</span></span><span class="token function" >webpackHot<span class="token punctuation" >(</span></span>compiler<span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>\n\napp<span class="token punctuation" >.</span><span class="token function" >listen<span class="token punctuation" >(</span></span>configDev<span class="token punctuation" >.</span>hotPort<span class="token punctuation" >,</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>\n  console<span class="token punctuation" >.</span><span class="token function" >log<span class="token punctuation" >(</span></span><span class="token string" >\'Dev server started at port %d\'</span><span class="token punctuation" >,</span> configDev<span class="token punctuation" >.</span>hotPort<span class="token punctuation" >)</span><span class="token punctuation" >;</span> <span class="token comment" spellcheck="true">// eslint-disable-line\n</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code><p>Opět použijeme express. Webpack dev server s hot reloading přidáme jako middleware našeho express serveru. Webpack pak příjímá prvním parametrem konfiguraci, což je jeden velký JS object. V našem případě jde o vývojový konfig <code>config.dev.babel.js</code>:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> webpack from <span class="token string" >\'webpack\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> path from <span class="token string" >\'path\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> ip from <span class="token string" >\'ip\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token punctuation" >{</span> HOT_RELOAD_PORT<span class="token punctuation" >,</span> SRC_DIR<span class="token punctuation" >,</span> BUILD_DIR <span class="token punctuation" >}</span> from <span class="token string" >\'./constants\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token punctuation" >{</span>\n  hotPort<span class="token punctuation" >:</span> HOT_RELOAD_PORT<span class="token punctuation" >,</span>\n  cache<span class="token punctuation" >:</span> <span class="token primitive" >true</span><span class="token punctuation" >,</span>\n  debug<span class="token punctuation" >:</span> <span class="token primitive" >true</span><span class="token punctuation" >,</span>\n  devtool<span class="token punctuation" >:</span> <span class="token string" >\'source-map\'</span><span class="token punctuation" >,</span>\n  entry<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> app<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>\n    `webpack<span class="token operator" >-</span>hot<span class="token operator" >-</span>middleware<span class="token operator" >/</span>client<span class="token operator" >?</span>path<span class="token operator" >=</span>http<span class="token punctuation" >:</span><span class="token operator" >/</span><span class="token operator" >/</span>$<span class="token punctuation" >{</span>ip<span class="token punctuation" >.</span><span class="token function" >address<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >}</span><span class="token punctuation" >:</span>$<span class="token punctuation" >{</span>HOT_RELOAD_PORT<span class="token punctuation" >}</span><span class="token operator" >/</span>__webpack_hmr`<span class="token punctuation" >,</span>\n    path<span class="token punctuation" >.</span><span class="token function" >join<span class="token punctuation" >(</span></span>SRC_DIR<span class="token punctuation" >,</span> <span class="token string" >\'client/index.js\'</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n  <span class="token punctuation" >]</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  module<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n    loaders<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token punctuation" >{</span>\n      loader<span class="token punctuation" >:</span> <span class="token string" >\'url-loader?limit=10000\'</span><span class="token punctuation" >,</span>\n      test<span class="token punctuation" >:</span> <span class="token regex" >/\\.(gif|jpg|png|woff|woff2|eot|ttf|svg|wav)$/</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span>\n      test<span class="token punctuation" >:</span> <span class="token regex" >/\\.js$/</span><span class="token punctuation" >,</span>\n      exclude<span class="token punctuation" >:</span> <span class="token regex" >/node_modules/</span><span class="token punctuation" >,</span>\n      loader<span class="token punctuation" >:</span> <span class="token string" >\'babel\'</span><span class="token punctuation" >,</span>\n      query<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n        plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >\'transform-runtime\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n        presets<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >\'es2015\'</span><span class="token punctuation" >,</span> <span class="token string" >\'react\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n      <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span>\n      test<span class="token punctuation" >:</span> <span class="token regex" >/\\.less$/</span><span class="token punctuation" >,</span>\n      loader<span class="token punctuation" >:</span> <span class="token string" >\'style-loader!css-loader!less-loader\'</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  output<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n    path<span class="token punctuation" >:</span> BUILD_DIR<span class="token punctuation" >,</span>\n    filename<span class="token punctuation" >:</span> <span class="token string" >\'[name].js\'</span><span class="token punctuation" >,</span>\n    chunkFilename<span class="token punctuation" >:</span> <span class="token string" >\'[name]-[chunkhash].js\'</span><span class="token punctuation" >,</span>\n    publicPath<span class="token punctuation" >:</span> `http<span class="token punctuation" >:</span><span class="token operator" >/</span><span class="token operator" >/</span>$<span class="token punctuation" >{</span>ip<span class="token punctuation" >.</span><span class="token function" >address<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >}</span><span class="token punctuation" >:</span>$<span class="token punctuation" >{</span>HOT_RELOAD_PORT<span class="token punctuation" >}</span><span class="token operator" >/</span>build<span class="token operator" >/</span>`<span class="token punctuation" >,</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>\n    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>DefinePlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span> <span class="token string" >\'process.env\'</span><span class="token punctuation" >:</span> <span class="token punctuation" >{</span> NODE_ENV<span class="token punctuation" >:</span> JSON<span class="token punctuation" >.</span><span class="token function" >stringify<span class="token punctuation" >(</span></span><span class="token string" >\'development\'</span><span class="token punctuation" >)</span> <span class="token punctuation" >}</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>HotModuleReplacementPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>NoErrorsPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n  <span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n  resolve<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n    extensions<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >\'\'</span><span class="token punctuation" >,</span> <span class="token string" >\'.js\'</span><span class="token punctuation" >,</span> <span class="token string" >\'.json\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n    modulesDirectories<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >\'src\'</span><span class="token punctuation" >,</span> <span class="token string" >\'node_modules\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n<span class="token punctuation" >}</span><span class="token punctuation" >;</span></code><p>Ten se skládá z několika částí. Webpack agresivně <a href="http://webpack.github.io/docs/configuration.html#cache">cacheuje</a> jednotlivé moduly a chunky, což výrazně zlepšuje rychlost inkrementálních buildů. To se nám samozřejmě velmi hodí pro vývoj. <a href="http://webpack.github.io/docs/configuration.html#debug">Debug</a> nám nastaví loadery do debug režimu. <a href="http://webpack.github.io/docs/configuration.html#devtool">Devtool</a> nám nabízí možnost generovat source mapy.</p>\n<p>Dale musíme přidat <code>entry</code>, kde specifikujeme vstupní soubory naší aplikace aneb místo, kde webpack začne rozmotávat všechny závislosti.</p>\n<p>Následně musíme zaregistrovat loadery pro jednotlivé typy importovaných souborů. Lze si je představit jako pipes z bashe. Dostanou obsah souboru, provedou nějakou transformaci a pošlou ji na výstup. <strong>Ovšem pozor, zpracovávají se zprava do leva</strong>. <code>Loaders</code> nebo <code>loader</code> specifikuje, který loader pro dané pravidlo použít. <code>Test</code> je regexp, který určí z názvu importu (typicky přípony), zda se má daný loader použít. Pomocí <code>exclude</code> je pak možné vyloučit některé importy, což se hodí pro <code>/node_modules</code>.</p>\n<p><strong>První loader nám zpracovává obrázky</strong>. Pokud jsou menší než 10kB, tak je převede do base64. Vrátí pak URL adresu obrázku. <strong>Druhý loader se aplikuje na všechny JavaScriptové soubory</strong>. Prožene je babel transformací. <strong>Poslední loader pak zpracovává LESS importy</strong>.</p>\n<p>Webpack nyní ví co zpracovávat a pomocí jakých loaderů (transformací). <strong>Nyní mu ještě zbývá říct, jak má vypadat výstup</strong> v direktivě <code>output</code>. <strong>Naše aplikace je jednoduchá a proto nám stačí jeden výstupní společný bundle</strong>. Skripty a styly nám bude servírovat přímo webpack-dev-server, který poběží na adrese v <code>publicPath</code>.</p>\n<p>Dále můžeme ještě v konfiguraci specifikovat <strong>pluginy, které dělají další úpravy a optimalizace společné pro všechny moduly</strong>. V prohlížeči nemáme dostupnou proměnnou <code>process.env.NODE_ENV</code> a přesto by se nám tam občas hodilo rozlišit v jakém jsme módu. Není nic jednoduššího, než si jí <strong>hromadně nahradit webpackem</strong>. Aby nám fungoval hot-reload, musíme aplikovat <code>webpack.HotModuleReplacementPlugin</code>.</p>\n<p>Nakonec ještě řekneme webpacku, které defaultní přípony (typy souborů) má umět importovat i bez toho aniž bychom uvedli koncovku.</p>\n<h2>Nastavení Webpacku (produkční režim)<a id="nastaven-webpacku-produk-n-re-im-">&nbsp;</a></h2><p>Pro produkční režim nepotřebujeme server či hot reloading, jelikož se build proces volá jednorázově příkazem</p>\n<code class="codeBlock">npm run build</code><p>Ten nedělá nic jiného než to, že zavolá webpack a předá mu produkční verzi konfigurace <code>config.prod.babel.js</code>. Ten je strukturou velmi podobný tomu vývojovému:</p>\n<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >Extract</span><span class="token qualifier" >Text</span><span class="token qualifier" >Plugin</span> from <span class="token string" >\'extract-text-webpack-plugin\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> path from <span class="token string" >\'path\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> webpack from <span class="token string" >\'webpack\'</span><span class="token punctuation" >;</span>\n<span class="token keyword" >import</span> <span class="token punctuation" >{</span> HOT_RELOAD_PORT<span class="token punctuation" >,</span> SRC_DIR<span class="token punctuation" >,</span> BUILD_DIR <span class="token punctuation" >}</span> from <span class="token string" >\'./constants\'</span><span class="token punctuation" >;</span>\n\n<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token punctuation" >{</span>\n  cache<span class="token punctuation" >:</span> <span class="token primitive" >false</span><span class="token punctuation" >,</span>\n  debug<span class="token punctuation" >:</span> <span class="token primitive" >false</span><span class="token punctuation" >,</span>\n  entry<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> app<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>path<span class="token punctuation" >.</span><span class="token function" >join<span class="token punctuation" >(</span></span>SRC_DIR<span class="token punctuation" >,</span> <span class="token string" >\'client/index.js\'</span><span class="token punctuation" >)</span><span class="token punctuation" >]</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  module<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n    loaders<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token punctuation" >{</span>\n      loader<span class="token punctuation" >:</span> <span class="token string" >\'url-loader?limit=10000\'</span><span class="token punctuation" >,</span>\n      test<span class="token punctuation" >:</span> <span class="token regex" >/\\.(gif|jpg|png|woff|woff2|eot|ttf|svg|wav)$/</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span>\n      test<span class="token punctuation" >:</span> <span class="token regex" >/\\.js$/</span><span class="token punctuation" >,</span>\n      exclude<span class="token punctuation" >:</span> <span class="token regex" >/node_modules/</span><span class="token punctuation" >,</span>\n      loader<span class="token punctuation" >:</span> <span class="token string" >\'babel\'</span><span class="token punctuation" >,</span>\n      query<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n        plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >\'transform-runtime\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n        presets<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >\'es2015\'</span><span class="token punctuation" >,</span> <span class="token string" >\'react\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n      <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span>\n      test<span class="token punctuation" >:</span> <span class="token regex" >/\\.less$/</span><span class="token punctuation" >,</span>\n      loader<span class="token punctuation" >:</span> <span class="token qualifier" >Extract</span><span class="token qualifier" >Text</span><span class="token qualifier" >Plugin</span><span class="token punctuation" >.</span><span class="token function" >extract<span class="token punctuation" >(</span></span><span class="token string" >\'style-loader\'</span><span class="token punctuation" >,</span> <span class="token string" >\'css-loader!less-loader\'</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n    <span class="token punctuation" >}</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  output<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n    path<span class="token punctuation" >:</span> BUILD_DIR<span class="token punctuation" >,</span>\n    publicPath<span class="token punctuation" >:</span> <span class="token string" >\'/build/\'</span><span class="token punctuation" >,</span>\n    filename<span class="token punctuation" >:</span> <span class="token string" >\'[name]-[hash].js\'</span><span class="token punctuation" >,</span>\n    chunkFilename<span class="token punctuation" >:</span> <span class="token string" >\'[name]-[chunkhash].js\'</span><span class="token punctuation" >,</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n  plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>\n    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>DefinePlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span> <span class="token string" >\'process.env\'</span><span class="token punctuation" >:</span> <span class="token punctuation" >{</span> NODE_ENV<span class="token punctuation" >:</span> JSON<span class="token punctuation" >.</span><span class="token function" >stringify<span class="token punctuation" >(</span></span><span class="token string" >\'production\'</span><span class="token punctuation" >)</span> <span class="token punctuation" >}</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n    <span class="token keyword" >new</span> <span class="token class-name" >ExtractTextPlugin</span><span class="token punctuation" >(</span><span class="token string" >\'app-[hash].css\'</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> allChunks<span class="token punctuation" >:</span> <span class="token primitive" >true</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>optimize<span class="token punctuation" >.</span>DedupePlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>optimize<span class="token punctuation" >.</span>OccurenceOrderPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>optimize<span class="token punctuation" >.</span>UglifyJsPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span> compress<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> warnings<span class="token punctuation" >:</span> <span class="token primitive" >false</span> <span class="token punctuation" >}</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>\n  <span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n  resolve<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>\n    extensions<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >\'\'</span><span class="token punctuation" >,</span> <span class="token string" >\'.js\'</span><span class="token punctuation" >,</span> <span class="token string" >\'.json\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n    modulesDirectories<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >\'src\'</span><span class="token punctuation" >,</span> <span class="token string" >\'node_modules\'</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>\n  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>\n<span class="token punctuation" >}</span><span class="token punctuation" >;</span></code><p>Nemusíme řešit ani inkrementální cacheování či sourcemapy. Loadery jsou totožné. Výstup uložíme do adresáře build. V produkčním módu musíme specifikovat <strong>kam uložit poslepované CSS styly</strong> pomocí <code>ExtractTextPlugin</code>. Následně použijeme <code>UglifyJsPlugin</code>. Ten významně minimalizuje JavaScriptový kód a provede další optimalizace (trvá to). <code>webpack.optimize.DedupePlugin</code> a <code>OccurenceOrderPlugin</code> jsou další optimalizace webpacku, které zmenší výsledný bundle.</p>\n<h2>Celý dev-stack<a id="cel-dev-stack">&nbsp;</a></h2><p><strong>A to je prakticky vše!</strong>. V souborech <code>.babelrc</code> a <code>.eslintrc</code> už zbývá nastavit pár základních věcí pro babel a ESLint (mrkněte do zdrojáků). Celý dev stack najdete v <a href="https://github.com/tajo/devstack">samostatném repozitáři na GitHubu</a>. Z terminálu se k funkčnímu stavu můžete dopracovat touto sadou příkazů (předpokládá se, že máte nainstalovaný node a npm):</p>\n<code class="codeBlock">git clone git@github<span class="token punctuation" >.</span>com<span class="token punctuation" >:</span>tajo<span class="token operator" >/</span>devstack<span class="token punctuation" >.</span>git\ncd devstack\nnpm install\nnpm start</code><p>Po otevření prohlížeče na adrese <code>http://localhost:8000</code> byste měli vidět to co je na úvodním gifu. Taktéž by měl fungovat hot-reload. Otevřte si konzoli. Ne vždy hot-reload funguje (u změn mimo React komponenty). <strong>V konzoli vám pak webpack napíše, že máte provést ruční reload stránky. Proč ho neděláme automaticky? Protože je to otravné.</strong> V praxi se pak stává, že si nechtíc něco uložíte, udělá se refresh a ztratí se vám stav. Prozkoumejte také tab <code>Elements</code> a mrkněte na to, jak vypadá výsledný DOM ve vývojovém a produkčním režimu.</p>\n<h2>Závěrem<a id="z-v-rem">&nbsp;</a></h2><p><strong>Postavili jsme si jednoduchý, ale moderní JS devstack</strong>, který splňuje všechna očekávání vytyčená v úvodu. Nabízí nám pohodlný vývojový režim s hot-reloadem a bohatými výpisy (včetně source-map), které nám značně usnadní vývoj. V produkčním režimu nám pak webpack vytvoří maximálně optimalizovaný výstupní bundle s našimi skripty, styly a obrázky. Serverovou část naší aplikace jsme vyřešili v node.js. Základní HTML stránku si lze ale stejně dobře naservírovat i jakoukoliv jinou technologií, třeba Apachem s PHP. <strong>Příště si představíme React a konečně si něco naprogramujeme.</strong></p>\n';
},function(n,a,t){n.exports='<p><strong>Vítejte!</strong> Zde se budou postupně objevovat články zaměřené na vývoj moderních interaktivních webovek, kde hlavní slovo má <strong>JavaScript</strong>, <strong>Node.js</strong>, <strong>React</strong> a <strong>Redux</strong>. V českém jazyce! Sdílejte a hvězdičkujte! Novinky budu šířit i na <a href="http://twitter.com/vmiksu">svém twitteru</a>. Diskutovat pak můžeme na <a href="http://github.com/tajo/javascript">githubu</a>. <a href="http://www.dzejes.cz/feed.xml">RSS</a>.</p>\n<h2>Články<a id="-l-nky">&nbsp;</a></h2><h3><strong><a href="babel.html">JavaScript? Babel.</a></strong><a id="-strong-a-href-babel-html-javascript-babel-a-strong-">&nbsp;</a></h3><p>JavaScript má oproti většině ostatních jazyků jedno specifikum. Je sám o sobě poměrně <strong>nepoužitelný</strong>. Na vině je především způsob, jakým dochází k uvádění jeho nových verzí. Jak si s tím poradit?</p>\n<h3><strong><a href="nastroje.html">Nástroje</a></strong><a id="-strong-a-href-nastroje-html-n-stroje-a-strong-">&nbsp;</a></h3><p>Tak jako truhlář potřebuje hoblík, pilu nebo nebozez, tak i <strong>vývojář webovek se neobejde bez pořádných nástrojů</strong>. Když si vyberete ty správné a naučíte se s nimi pořádně zacházet, značně usnadní a zrychlí vaši práci.</p>\n<h3><strong><a href="prvni-dev-stack.html">První dev stack</a></strong><a id="-strong-a-href-prvni-dev-stack-html-prvn-dev-stack-a-strong-">&nbsp;</a></h3><p>Hlavním hrdinou dnešního článku se stane bundlovací nástroj webpack. S jeho pomocí postavíme první jednoduchou &quot;Hello world&quot; aplikaci v Reactu, která bude například používat Babel a LESS. <strong>Ukážeme si sílu moderních JS nástrojů v praxi</strong>.</p>\n<h3><strong><a href="react-uvod.html">React - Úvod</a></strong><a id="-strong-a-href-react-uvod-html-react-vod-a-strong-">&nbsp;</a></h3><p><strong>React je JavaScriptová knihovna pro vytváření webových komponent.</strong> V pomyslném MVC představuje &quot;V&quot; neboli view vrstvu. S Reactem nepíšeme kód, který něco mění, ale kód, který popisuje, jak má vypadat výsledek.</p>\n<h3><strong><a href="react-props-vs-state.html">React - Props vs State</a></strong><a id="-strong-a-href-react-props-vs-state-html-react-props-vs-state-a-strong-">&nbsp;</a></h3><p>React se točí kolem props a tak je nejvyšší čas si ukázat, co jsou zač. Povíme si, jak se props liší od state a jakým způsobem se používají. <strong>To vše si demonstrujeme na pokročilejším příkladě, který se bude skládat z více komponent.</strong></p>\n<h3><strong><a href="react-jsx.html">React - JSX</a></strong><a id="-strong-a-href-react-jsx-html-react-jsx-a-strong-">&nbsp;</a></h3><p>První věc, která nováčka v Reactu rozhodně praští do očí, je zápis XML (HTML) tagů přímo do JavaScriptového kódu bez apostrofů kolem. Takovýto zápis se ve světě Reactu nazývá JSX. <strong>Ukážeme si, co je pod jeho pokličkou a že se vlastně není čeho bát.</strong></p>\n<h2>Pro koho jsou články určeny?<a id="pro-koho-jsou-l-nky-ur-eny-">&nbsp;</a></h2><p>Pro čtenáře, kteří již běžně programují webové aplikace, ale převážně pomocí serverových frameworků typu <strong><a href="http://nette.org">Nette</a></strong>. Mají však už i nějaké zkušenosti s JavaScriptem, kterým občas něco animují nebo posílají AJAXem. Dále také pro programátory, kteří používají JavaScriptové frameworky jako <a href="http://angularjs.org">Angular</a>, <a href="http://emberjs.com">Ember</a> či <a href="https://www.meteor.com">Meteor</a> anebo knihovnu <a href="https://developers.google.com/closure/">Google Closure</a>. Jsou však zvědaví, proč je poslední dobou tolik povyku kolem <strong>Facebooku</strong>, <strong><a href="http://reactjs.com">Reactu</a></strong> a <strong><a href="https://github.com/reactjs/redux">Reduxu</a></strong>. Zkrátka, pro všechny lidi s otevřenou hlavou, kteří nevěří na pomluvy a chtějí stavět i velké, robustní a výkonné aplikace běžící v prohlížeči.</p>\n<h2>Autor<a id="autor">&nbsp;</a></h2><p>Mám za sebou spoustu let a webů v <strong>PHP (Nette)</strong>. Před 2 roky jsem se pak trochu nečekaně stal front-end vývojářem a skočil po hlavě do světa <strong>Google Closure</strong> a <strong><a href="http://coffeescript.org">CoffeeScriptu</a></strong>. Po prvotním zděšení jsem se naučil mít JavaScript ekosystém rád a opravdová láska pak přišla s objevem <strong>Reactu</strong>. Jinak také jsem, byl a budu studentem teoretické informatiky/informační bezpečnosti na několika školách (<a href="http://fit.cvut.cz">ČVUT</a>, <a href="http://msoe.edu">MSOE</a>, <a href="http://masdar.ac.ae">Masdar Institute</a>, <a href="http://gatech.edu">Georgia Tech</a>), takže některé z vás budu možná občas nudit i teoretizováním a přehnanou optimalizací.</p>\n<p><strong>Vojtěch Mikšů</strong>, <a href="https://twitter.com/vmiksu">twitter</a> a <a href="http://miksu.cz">kontakt</a>, 2016</p>\n<p><small>Díky patří <a href="http://janzaloudek.cz/">Honzovi Žaloudkovi</a> za nápad na hezkou českou doménu a <a href="http://github.com/gaearon">Danu Abramovi</a> za základ systému, který tyto stránky generuje.</small></p>\n'},function(n,a,t){n.exports={name:"dzejes",version:"1.0.0",description:"Series of Czech articles about JavaScript.",scripts:{start:"./scripts/startSiteDevServer.sh","build-site":"./scripts/buildStaticSite.sh","publish-site":"./scripts/publishStaticSite.sh"},repository:{type:"git",url:"https://github.com/tajo/javascript"},author:"Vojtech Miksu <vojtech@miksu.cz> (http://github.com/tajo)",license:"CC-BY-NC-ND-3.0",bugs:{url:"https://github.com/tajo/javascript/issues"},homepage:"http://www.dzejes.cz",devDependencies:{autoprefixer:"^5.0.0",babel:"^5.1.10","babel-core":"^5.2.17","babel-eslint":"^3.1.1","babel-loader":"^5.0.0","css-loader":"^0.14.4",eslint:"^0.22.1","extract-text-webpack-plugin":"^0.8.1","file-loader":"^0.8.1",glob:"^5.0.10","html-loader":"^0.3.0","json-loader":"^0.5.2",less:"^2.2.0","less-loader":"^2.0.0",lodash:"^3.1.0",marked:"^0.3.2","null-loader":"^0.1.0",postcss:"^4.0.2",react:"^0.13.3","react-hot-loader":"^1.2.3","style-loader":"^0.12.3","url-loader":"^0.5.5",webpack:"^1.8.11","webpack-dev-server":"^1.8.2"}}},function(n,a,t){"use strict";function s(){var n=window.opera;return"object"==typeof n&&"function"==typeof n.version&&parseInt(n.version(),10)<=12}function e(n){return(n.ctrlKey||n.altKey||n.metaKey)&&!(n.ctrlKey&&n.altKey)}function o(n){switch(n){case S.topCompositionStart:return M.compositionStart;case S.topCompositionEnd:return M.compositionEnd;case S.topCompositionUpdate:return M.compositionUpdate}}function p(n,a){return n===S.topKeyDown&&a.keyCode===j}function c(n,a){switch(n){case S.topKeyUp:return-1!==b.indexOf(a.keyCode);case S.topKeyDown:return a.keyCode!==j;case S.topKeyPress:case S.topMouseDown:case S.topBlur:return!0;default:return!1}}function r(n){var a=n.detail;return"object"==typeof a&&"data"in a?a.data:null}function u(n,a,t,s){var e,u;if(z?e=o(n):N?c(n,s)&&(e=M.compositionEnd):p(n,s)&&(e=M.compositionStart),!e)return null;E&&(N||e!==M.compositionStart?e===M.compositionEnd&&N&&(u=N.getData()):N=h.getPooled(a));var l=f.getPooled(e,t,s);if(u)l.data=u;else{var i=r(s);null!==i&&(l.data=i)}return m.accumulateTwoPhaseDispatches(l),l}function l(n,a){switch(n){case S.topCompositionEnd:return r(a);case S.topKeyPress:var t=a.which;return t!==x?null:(D=!0,_);case S.topTextInput:var s=a.data;return s===_&&D?null:s;default:return null}}function i(n,a){if(N){if(n===S.topCompositionEnd||c(n,a)){var t=N.getData();return h.release(N),N=null,t}return null}switch(n){case S.topPaste:return null;case S.topKeyPress:return a.which&&!e(a)?String.fromCharCode(a.which):null;case S.topCompositionEnd:return E?null:a.data;default:return null}}function k(n,a,t,s){var e;if(e=C?l(n,s):i(n,s),!e)return null;var o=g.getPooled(M.beforeInput,t,s);return o.data=e,m.accumulateTwoPhaseDispatches(o),o}var d=t(7),m=t(25),v=t(6),h=t(141),f=t(175),g=t(178),y=t(15),b=[9,13,27,32],j=229,z=v.canUseDOM&&"CompositionEvent"in window,w=null;v.canUseDOM&&"documentMode"in document&&(w=document.documentMode);var C=v.canUseDOM&&"TextEvent"in window&&!w&&!s(),E=v.canUseDOM&&(!z||w&&w>8&&11>=w),x=32,_=String.fromCharCode(x),S=d.topLevelTypes,M={beforeInput:{phasedRegistrationNames:{bubbled:y({onBeforeInput:null}),captured:y({onBeforeInputCapture:null})},dependencies:[S.topCompositionEnd,S.topKeyPress,S.topTextInput,S.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:y({onCompositionEnd:null}),captured:y({onCompositionEndCapture:null})},dependencies:[S.topBlur,S.topCompositionEnd,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:y({onCompositionStart:null}),captured:y({onCompositionStartCapture:null})},dependencies:[S.topBlur,S.topCompositionStart,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:y({onCompositionUpdate:null}),captured:y({onCompositionUpdateCapture:null})},dependencies:[S.topBlur,S.topCompositionUpdate,S.topKeyDown,S.topKeyPress,S.topKeyUp,S.topMouseDown]}},D=!1,N=null,P={eventTypes:M,extractEvents:function(n,a,t,s){return[u(n,a,t,s),k(n,a,t,s)]}};n.exports=P},function(n,a,t){"use strict";function s(n){return"SELECT"===n.nodeName||"INPUT"===n.nodeName&&"file"===n.type}function e(n){var a=w.getPooled(S.change,D,n);b.accumulateTwoPhaseDispatches(a),z.batchedUpdates(o,a)}function o(n){y.enqueueEvents(n),y.processEventQueue()}function p(n,a){M=n,D=a,M.attachEvent("onchange",e)}function c(){M&&(M.detachEvent("onchange",e),M=null,D=null)}function r(n,a,t){return n===_.topChange?t:void 0}function u(n,a,t){n===_.topFocus?(c(),p(a,t)):n===_.topBlur&&c()}function l(n,a){M=n,D=a,N=n.value,P=Object.getOwnPropertyDescriptor(n.constructor.prototype,"value"),Object.defineProperty(M,"value",O),M.attachEvent("onpropertychange",k)}function i(){M&&(delete M.value,M.detachEvent("onpropertychange",k),M=null,D=null,N=null,P=null)}function k(n){if("value"===n.propertyName){var a=n.srcElement.value;a!==N&&(N=a,e(n))}}function d(n,a,t){return n===_.topInput?t:void 0}function m(n,a,t){n===_.topFocus?(i(),l(a,t)):n===_.topBlur&&i()}function v(n,a,t){return n!==_.topSelectionChange&&n!==_.topKeyUp&&n!==_.topKeyDown||!M||M.value===N?void 0:(N=M.value,D)}function h(n){return"INPUT"===n.nodeName&&("checkbox"===n.type||"radio"===n.type)}function f(n,a,t){return n===_.topClick?t:void 0}var g=t(7),y=t(24),b=t(25),j=t(6),z=t(9),w=t(17),C=t(58),E=t(86),x=t(15),_=g.topLevelTypes,S={change:{phasedRegistrationNames:{bubbled:x({onChange:null}),captured:x({onChangeCapture:null})},dependencies:[_.topBlur,_.topChange,_.topClick,_.topFocus,_.topInput,_.topKeyDown,_.topKeyUp,_.topSelectionChange]}},M=null,D=null,N=null,P=null,T=!1;j.canUseDOM&&(T=C("change")&&(!("documentMode"in document)||document.documentMode>8));var R=!1;j.canUseDOM&&(R=C("input")&&(!("documentMode"in document)||document.documentMode>9));var O={get:function(){return P.get.call(this)},set:function(n){N=""+n,P.set.call(this,n)}},I={eventTypes:S,extractEvents:function(n,a,t,e){var o,p;if(s(a)?T?o=r:p=u:E(a)?R?o=d:(o=v,p=m):h(a)&&(o=f),o){var c=o(n,a,t);if(c){var l=w.getPooled(S.change,c,e);return b.accumulateTwoPhaseDispatches(l),l}}p&&p(n,a,t)}};n.exports=I},function(n,a,t){"use strict";var s=0,e={createReactRootIndex:function(){return s++}};n.exports=e},function(n,a,t){"use strict";function s(n,a,t){n.insertBefore(a,n.childNodes[t]||null)}var e=t(137),o=t(73),p=t(201),c=t(1),r={dangerouslyReplaceNodeWithMarkup:e.dangerouslyReplaceNodeWithMarkup,updateTextContent:p,processUpdates:function(n,a){for(var t,r=null,u=null,l=0;l<n.length;l++)if(t=n[l],t.type===o.MOVE_EXISTING||t.type===o.REMOVE_NODE){var i=t.fromIndex,k=t.parentNode.childNodes[i],d=t.parentID;c(k),r=r||{},r[d]=r[d]||[],r[d][i]=k,u=u||[],u.push(k)}var m=e.dangerouslyRenderMarkup(a);if(u)for(var v=0;v<u.length;v++)u[v].parentNode.removeChild(u[v]);for(var h=0;h<n.length;h++)switch(t=n[h],t.type){case o.INSERT_MARKUP:s(t.parentNode,m[t.markupIndex],t.toIndex);break;case o.MOVE_EXISTING:s(t.parentNode,r[t.parentID][t.fromIndex],t.toIndex);break;case o.TEXT_CONTENT:p(t.parentNode,t.textContent);break;case o.REMOVE_NODE:}}};n.exports=r},function(n,a,t){"use strict";function s(n){return n.substring(1,n.indexOf(" "))}var e=t(6),o=t(187),p=t(14),c=t(83),r=t(1),u=/^(<[^ \/>]+)/,l="data-danger-index",i={dangerouslyRenderMarkup:function(n){r(e.canUseDOM);for(var a,t={},i=0;i<n.length;i++)r(n[i]),a=s(n[i]),a=c(a)?a:"*",t[a]=t[a]||[],t[a][i]=n[i];var k=[],d=0;for(a in t)if(t.hasOwnProperty(a)){var m,v=t[a];for(m in v)if(v.hasOwnProperty(m)){var h=v[m];v[m]=h.replace(u,"$1 "+l+'="'+m+'" ')}for(var f=o(v.join(""),p),g=0;g<f.length;++g){var y=f[g];y.hasAttribute&&y.hasAttribute(l)&&(m=+y.getAttribute(l),y.removeAttribute(l),r(!k.hasOwnProperty(m)),k[m]=y,d+=1)}}return r(d===k.length),r(k.length===n.length),k},dangerouslyReplaceNodeWithMarkup:function(n,a){r(e.canUseDOM),r(a),r("html"!==n.tagName.toLowerCase());var t=o(a,p)[0];n.parentNode.replaceChild(t,n)}};n.exports=i},function(n,a,t){"use strict";var s=t(15),e=[s({ResponderEventPlugin:null}),s({SimpleEventPlugin:null}),s({TapEventPlugin:null}),s({EnterLeaveEventPlugin:null}),s({ChangeEventPlugin:null}),s({SelectEventPlugin:null}),s({BeforeInputEventPlugin:null}),s({AnalyticsEventPlugin:null}),s({MobileSafariClickEventPlugin:null})];n.exports=e},function(n,a,t){"use strict";var s=t(7),e=t(25),o=t(33),p=t(13),c=t(15),r=s.topLevelTypes,u=p.getFirstReactDOM,l={mouseEnter:{registrationName:c({onMouseEnter:null}),dependencies:[r.topMouseOut,r.topMouseOver]},mouseLeave:{registrationName:c({onMouseLeave:null}),dependencies:[r.topMouseOut,r.topMouseOver]}},i=[null,null],k={eventTypes:l,extractEvents:function(n,a,t,s){if(n===r.topMouseOver&&(s.relatedTarget||s.fromElement))return null;if(n!==r.topMouseOut&&n!==r.topMouseOver)return null;var c;if(a.window===a)c=a;else{var k=a.ownerDocument;c=k?k.defaultView||k.parentWindow:window}var d,m;if(n===r.topMouseOut?(d=a,m=u(s.relatedTarget||s.toElement)||c):(d=c,m=a),d===m)return null;var v=d?p.getID(d):"",h=m?p.getID(m):"",f=o.getPooled(l.mouseLeave,v,s);f.type="mouseleave",f.target=d,f.relatedTarget=m;var g=o.getPooled(l.mouseEnter,h,s);return g.type="mouseenter",g.target=m,g.relatedTarget=d,e.accumulateEnterLeaveDispatches(f,g,v,h),i[0]=f,i[1]=g,i}};n.exports=k},function(n,a,t){var s=t(14),e={listen:function(n,a,t){return n.addEventListener?(n.addEventListener(a,t,!1),{remove:function(){n.removeEventListener(a,t,!1)}}):n.attachEvent?(n.attachEvent("on"+a,t),{remove:function(){n.detachEvent("on"+a,t)}}):void 0},capture:function(n,a,t){return n.addEventListener?(n.addEventListener(a,t,!0),{remove:function(){n.removeEventListener(a,t,!0)}}):{remove:s}},registerDefault:function(){}};n.exports=e},function(n,a,t){"use strict";function s(n){this._root=n,this._startText=this.getText(),this._fallbackText=null}var e=t(10),o=t(2),p=t(84);o(s.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[p()]},getData:function(){if(this._fallbackText)return this._fallbackText;var n,a,t=this._startText,s=t.length,e=this.getText(),o=e.length;for(n=0;s>n&&t[n]===e[n];n++);var p=s-n;for(a=1;p>=a&&t[s-a]===e[o-a];a++);var c=a>1?1-a:void 0;return this._fallbackText=e.slice(n,c),this._fallbackText}}),e.addPoolingTo(s),n.exports=s},function(n,a,t){"use strict";var s,e=t(18),o=t(6),p=e.injection.MUST_USE_ATTRIBUTE,c=e.injection.MUST_USE_PROPERTY,r=e.injection.HAS_BOOLEAN_VALUE,u=e.injection.HAS_SIDE_EFFECTS,l=e.injection.HAS_NUMERIC_VALUE,i=e.injection.HAS_POSITIVE_NUMERIC_VALUE,k=e.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var d=document.implementation;s=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var m={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:p|r,allowTransparency:p,alt:null,async:r,autoComplete:null,autoPlay:r,cellPadding:null,cellSpacing:null,charSet:p,checked:c|r,classID:p,className:s?p:c,cols:p|i,colSpan:null,content:null,contentEditable:null,contextMenu:p,controls:c|r,coords:null,crossOrigin:null,data:null,dateTime:p,defer:r,dir:null,disabled:p|r,download:k,draggable:null,encType:null,form:p,formAction:p,formEncType:p,formMethod:p,formNoValidate:r,formTarget:p,frameBorder:p,headers:null,height:p,hidden:p|r,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:c,label:null,lang:null,list:p,loop:c|r,low:null,manifest:p,marginHeight:null,marginWidth:null,max:null,maxLength:p,media:p,mediaGroup:null,method:null,min:null,multiple:c|r,muted:c|r,name:null,noValidate:r,open:r,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:c|r,rel:null,required:r,role:p,rows:p|i,rowSpan:null,sandbox:null,scope:null,scoped:r,scrolling:null,seamless:p|r,selected:c|r,shape:null,size:p|i,sizes:p,span:i,spellCheck:null,src:null,srcDoc:c,srcSet:p,start:l,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:c|u,width:p,wmode:p,autoCapitalize:null,autoCorrect:null,itemProp:p,itemScope:p|r,itemType:p,itemID:p,itemRef:p,property:null,unselectable:p},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};n.exports=m},function(n,a,t){"use strict";var s=t(7),e=t(14),o=s.topLevelTypes,p={eventTypes:null,extractEvents:function(n,a,t,s){if(n===o.topTouchStart){var p=s.target;p&&!p.onclick&&(p.onclick=e)}}};n.exports=p},function(n,a,t){"use strict";var s=t(41),e=t(146),o=t(68),p=t(8),c=t(46),r=t(12),u=t(3),l=(t(26),t(148)),i=t(70),k=t(159),d=t(20),m=t(13),v=t(16),h=t(74),f=t(22),g=t(168),y=t(2),b=t(79),j=t(199);k.inject();var z=u.createElement,w=u.createFactory,C=u.cloneElement,E=v.measure("React","render",m.render),x={Children:{map:e.map,forEach:e.forEach,count:e.count,only:j},Component:o,DOM:l,PropTypes:h,initializeTouchEvents:function(n){s.useTouchEvents=n},createClass:p.createClass,createElement:z,cloneElement:C,createFactory:w,createMixin:function(n){return n},constructAndRenderComponent:m.constructAndRenderComponent,constructAndRenderComponentByID:m.constructAndRenderComponentByID,findDOMNode:b,render:E,renderToString:g.renderToString,renderToStaticMarkup:g.renderToStaticMarkup,unmountComponentAtNode:m.unmountComponentAtNode,isValidElement:u.isValidElement,withContext:c.withContext,__spread:y};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:d,Mount:m,Reconciler:f,TextComponent:i});x.version="0.13.3",n.exports=x},function(n,a,t){"use strict";var s=t(22),e=t(189),o=t(57),p=t(60),c={instantiateChildren:function(n,a,t){var s=e(n);for(var p in s)if(s.hasOwnProperty(p)){var c=s[p],r=o(c,null);s[p]=r}return s},updateChildren:function(n,a,t,c){var r=e(a);if(!r&&!n)return null;var u;for(u in r)if(r.hasOwnProperty(u)){var l=n&&n[u],i=l&&l._currentElement,k=r[u];if(p(i,k))s.receiveComponent(l,k,t,c),r[u]=l;else{l&&s.unmountComponent(l,u);var d=o(k,null);r[u]=d}}for(u in n)!n.hasOwnProperty(u)||r&&r.hasOwnProperty(u)||s.unmountComponent(n[u]);return r},unmountChildren:function(n){for(var a in n){var t=n[a];s.unmountComponent(t)}}};n.exports=c},function(n,a,t){"use strict";function s(n,a){this.forEachFunction=n,this.forEachContext=a}function e(n,a,t,s){var e=n;e.forEachFunction.call(e.forEachContext,a,s)}function o(n,a,t){if(null==n)return n;var o=s.getPooled(a,t);d(n,e,o),s.release(o)}function p(n,a,t){this.mapResult=n,this.mapFunction=a,this.mapContext=t}function c(n,a,t,s){var e=n,o=e.mapResult,p=!o.hasOwnProperty(t);if(p){var c=e.mapFunction.call(e.mapContext,a,s);o[t]=c}}function r(n,a,t){if(null==n)return n;var s={},e=p.getPooled(s,a,t);return d(n,c,e),p.release(e),k.create(s)}function u(n,a,t,s){return null}function l(n,a){return d(n,u,null)}var i=t(10),k=t(30),d=t(87),m=(t(4),i.twoArgumentPooler),v=i.threeArgumentPooler;i.addPoolingTo(s,m),i.addPoolingTo(p,v);var h={forEach:o,map:r,count:l};n.exports=h},function(n,a,t){"use strict";function s(n){var a=n._currentElement._owner||null;if(a){var t=a.getName();if(t)return" Check the render method of `"+t+"`."}return""}var e=t(45),o=t(46),p=t(12),c=t(3),r=(t(26),t(21)),u=t(49),l=t(31),i=t(16),k=t(50),d=(t(32),t(22)),m=t(9),v=t(2),h=t(35),f=t(1),g=t(60),y=(t(4),1),b={construct:function(n){this._currentElement=n,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(n,a,t){this._context=t,this._mountOrder=y++,this._rootNodeID=n;var s=this._processProps(this._currentElement.props),e=this._processContext(this._currentElement._context),o=l.getComponentClassForElement(this._currentElement),p=new o(s,e);p.props=s,p.context=e,p.refs=h,this._instance=p,r.set(p,this);var c=p.state;void 0===c&&(p.state=c=null),f("object"==typeof c&&!Array.isArray(c)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var i,k,m=u.currentlyMountingInstance;u.currentlyMountingInstance=this;try{p.componentWillMount&&(p.componentWillMount(),this._pendingStateQueue&&(p.state=this._processPendingState(p.props,p.context))),i=this._getValidatedChildContext(t),k=this._renderValidatedComponent(i)}finally{u.currentlyMountingInstance=m}this._renderedComponent=this._instantiateReactComponent(k,this._currentElement.type);var v=d.mountComponent(this._renderedComponent,n,a,this._mergeChildContext(t,i));return p.componentDidMount&&a.getReactMountReady().enqueue(p.componentDidMount,p),v},unmountComponent:function(){var n=this._instance;if(n.componentWillUnmount){var a=u.currentlyUnmountingInstance;u.currentlyUnmountingInstance=this;try{n.componentWillUnmount()}finally{u.currentlyUnmountingInstance=a}}d.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,r.remove(n)},_setPropsInternal:function(n,a){var t=this._pendingElement||this._currentElement;this._pendingElement=c.cloneAndReplaceProps(t,v({},t.props,n)),m.enqueueUpdate(this,a)},_maskContext:function(n){var a=null;if("string"==typeof this._currentElement.type)return h;var t=this._currentElement.type.contextTypes;if(!t)return h;a={};for(var s in t)a[s]=n[s];return a},_processContext:function(n){var a=this._maskContext(n);return a},_getValidatedChildContext:function(n){var a=this._instance,t=a.getChildContext&&a.getChildContext();if(t){f("object"==typeof a.constructor.childContextTypes);for(var s in t)f(s in a.constructor.childContextTypes);return t}return null},_mergeChildContext:function(n,a){return a?v({},n,a):n},_processProps:function(n){return n},_checkPropTypes:function(n,a,t){var e=this.getName();for(var o in n)if(n.hasOwnProperty(o)){var p;try{f("function"==typeof n[o]),p=n[o](a,o,e,t)}catch(c){p=c}if(p instanceof Error){s(this);t===k.prop}}},receiveComponent:function(n,a,t){var s=this._currentElement,e=this._context;this._pendingElement=null,this.updateComponent(a,s,n,e,t)},performUpdateIfNecessary:function(n){null!=this._pendingElement&&d.receiveComponent(this,this._pendingElement||this._currentElement,n,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(n,this._currentElement,this._currentElement,this._context,this._context)},_warnIfContextsDiffer:function(n,a){n=this._maskContext(n),a=this._maskContext(a);for(var t=Object.keys(a).sort(),s=(this.getName()||"ReactCompositeComponent",0);s<t.length;s++){t[s]}},updateComponent:function(n,a,t,s,e){var o=this._instance,p=o.context,c=o.props;a!==t&&(p=this._processContext(t._context),c=this._processProps(t.props),o.componentWillReceiveProps&&o.componentWillReceiveProps(c,p));var r=this._processPendingState(c,p),u=this._pendingForceUpdate||!o.shouldComponentUpdate||o.shouldComponentUpdate(c,r,p);u?(this._pendingForceUpdate=!1,this._performComponentUpdate(t,c,r,p,n,e)):(this._currentElement=t,this._context=e,o.props=c,o.state=r,o.context=p)},_processPendingState:function(n,a){var t=this._instance,s=this._pendingStateQueue,e=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!s)return t.state;if(e&&1===s.length)return s[0];for(var o=v({},e?s[0]:t.state),p=e?1:0;p<s.length;p++){var c=s[p];v(o,"function"==typeof c?c.call(t,o,n,a):c)}return o},_performComponentUpdate:function(n,a,t,s,e,o){var p=this._instance,c=p.props,r=p.state,u=p.context;p.componentWillUpdate&&p.componentWillUpdate(a,t,s),this._currentElement=n,this._context=o,p.props=a,p.state=t,p.context=s,this._updateRenderedComponent(e,o),p.componentDidUpdate&&e.getReactMountReady().enqueue(p.componentDidUpdate.bind(p,c,r,u),p)},_updateRenderedComponent:function(n,a){var t=this._renderedComponent,s=t._currentElement,e=this._getValidatedChildContext(),o=this._renderValidatedComponent(e);if(g(s,o))d.receiveComponent(t,o,n,this._mergeChildContext(a,e));else{var p=this._rootNodeID,c=t._rootNodeID;d.unmountComponent(t),this._renderedComponent=this._instantiateReactComponent(o,this._currentElement.type);var r=d.mountComponent(this._renderedComponent,p,n,this._mergeChildContext(a,e));this._replaceNodeWithMarkupByID(c,r)}},_replaceNodeWithMarkupByID:function(n,a){e.replaceNodeWithMarkupByID(n,a)},_renderValidatedComponentWithoutOwnerOrContext:function(){var n=this._instance,a=n.render();return a},_renderValidatedComponent:function(n){var a,t=o.current;o.current=this._mergeChildContext(this._currentElement._context,n),p.current=this;try{a=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=t,p.current=null}return f(null===a||a===!1||c.isValidElement(a)),a},attachRef:function(n,a){var t=this.getPublicInstance(),s=t.refs===h?t.refs={}:t.refs;s[n]=a.getPublicInstance()},detachRef:function(n){var a=this.getPublicInstance().refs;delete a[n]},getName:function(){var n=this._currentElement.type,a=this._instance&&this._instance.constructor;return n.displayName||a&&a.displayName||n.name||a&&a.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};i.measureMethods(b,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var j={Mixin:b};n.exports=j},function(n,a,t){"use strict";function s(n){return e.createFactory(n)}var e=t(3),o=(t(26),t(197)),p=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},s);n.exports=p},function(n,a,t){"use strict";var s=t(29),e=t(11),o=t(8),p=t(3),c=t(28),r=p.createFactory("button"),u=c({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),l=o.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[s,e],render:function(){var n={};for(var a in this.props)!this.props.hasOwnProperty(a)||this.props.disabled&&u[a]||(n[a]=this.props[a]);return r(n,this.props.children)}});n.exports=l},function(n,a,t){"use strict";var s=t(7),e=t(43),o=t(11),p=t(8),c=t(3),r=c.createFactory("form"),u=p.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[o,e],render:function(){return r(this.props)},componentDidMount:function(){this.trapBubbledEvent(s.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(s.topLevelTypes.topSubmit,"submit")}});n.exports=u},function(n,a,t){"use strict";var s=t(7),e=t(43),o=t(11),p=t(8),c=t(3),r=c.createFactory("iframe"),u=p.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[o,e],render:function(){return r(this.props)},componentDidMount:function(){this.trapBubbledEvent(s.topLevelTypes.topLoad,"load")}});n.exports=u},function(n,a,t){"use strict";var s=t(7),e=t(43),o=t(11),p=t(8),c=t(3),r=c.createFactory("img"),u=p.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[o,e],render:function(){return r(this.props)},componentDidMount:function(){this.trapBubbledEvent(s.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(s.topLevelTypes.topError,"error")}});n.exports=u},function(n,a,t){"use strict";function s(){this.isMounted()&&this.forceUpdate()}var e=t(29),o=t(23),p=t(42),c=t(11),r=t(8),u=t(3),l=t(13),i=t(9),k=t(2),d=t(1),m=u.createFactory("input"),v={},h=r.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[e,p.Mixin,c],getInitialState:function(){var n=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=n?n:null}},render:function(){var n=k({},this.props);n.defaultChecked=null,n.defaultValue=null;var a=p.getValue(this);n.value=null!=a?a:this.state.initialValue;var t=p.getChecked(this);return n.checked=null!=t?t:this.state.initialChecked,n.onChange=this._handleChange,m(n,this.props.children)},componentDidMount:function(){var n=l.getID(this.getDOMNode());v[n]=this},componentWillUnmount:function(){var n=this.getDOMNode(),a=l.getID(n);delete v[a]},componentDidUpdate:function(n,a,t){var s=this.getDOMNode();null!=this.props.checked&&o.setValueForProperty(s,"checked",this.props.checked||!1);var e=p.getValue(this);null!=e&&o.setValueForProperty(s,"value",""+e)},_handleChange:function(n){var a,t=p.getOnChange(this);t&&(a=t.call(this,n)),i.asap(s,this);var e=this.props.name;if("radio"===this.props.type&&null!=e){for(var o=this.getDOMNode(),c=o;c.parentNode;)c=c.parentNode;for(var r=c.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),u=0,k=r.length;k>u;u++){var m=r[u];if(m!==o&&m.form===o.form){var h=l.getID(m);d(h);var f=v[h];d(f),i.asap(s,f)}}}return a}});n.exports=h},function(n,a,t){"use strict";var s=t(11),e=t(8),o=t(3),p=(t(4),o.createFactory("option")),c=e.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[s],componentWillMount:function(){},render:function(){return p(this.props,this.props.children);
}});n.exports=c},function(n,a,t){"use strict";function s(){if(this._pendingUpdate){this._pendingUpdate=!1;var n=c.getValue(this);null!=n&&this.isMounted()&&o(this,n)}}function e(n,a,t){if(null==n[a])return null;if(n.multiple){if(!Array.isArray(n[a]))return new Error("The `"+a+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(n[a]))return new Error("The `"+a+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function o(n,a){var t,s,e,o=n.getDOMNode().options;if(n.props.multiple){for(t={},s=0,e=a.length;e>s;s++)t[""+a[s]]=!0;for(s=0,e=o.length;e>s;s++){var p=t.hasOwnProperty(o[s].value);o[s].selected!==p&&(o[s].selected=p)}}else{for(t=""+a,s=0,e=o.length;e>s;s++)if(o[s].value===t)return void(o[s].selected=!0);o.length&&(o[0].selected=!0)}}var p=t(29),c=t(42),r=t(11),u=t(8),l=t(3),i=t(9),k=t(2),d=l.createFactory("select"),m=u.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[p,c.Mixin,r],propTypes:{defaultValue:e,value:e},render:function(){var n=k({},this.props);return n.onChange=this._handleChange,n.value=null,d(n,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var n=c.getValue(this);null!=n?o(this,n):null!=this.props.defaultValue&&o(this,this.props.defaultValue)},componentDidUpdate:function(n){var a=c.getValue(this);null!=a?(this._pendingUpdate=!1,o(this,a)):!n.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?o(this,this.props.defaultValue):o(this,this.props.multiple?[]:""))},_handleChange:function(n){var a,t=c.getOnChange(this);return t&&(a=t.call(this,n)),this._pendingUpdate=!0,i.asap(s,this),a}});n.exports=m},function(n,a,t){"use strict";function s(n,a,t,s){return n===t&&a===s}function e(n){var a=document.selection,t=a.createRange(),s=t.text.length,e=t.duplicate();e.moveToElementText(n),e.setEndPoint("EndToStart",t);var o=e.text.length,p=o+s;return{start:o,end:p}}function o(n){var a=window.getSelection&&window.getSelection();if(!a||0===a.rangeCount)return null;var t=a.anchorNode,e=a.anchorOffset,o=a.focusNode,p=a.focusOffset,c=a.getRangeAt(0),r=s(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset),u=r?0:c.toString().length,l=c.cloneRange();l.selectNodeContents(n),l.setEnd(c.startContainer,c.startOffset);var i=s(l.startContainer,l.startOffset,l.endContainer,l.endOffset),k=i?0:l.toString().length,d=k+u,m=document.createRange();m.setStart(t,e),m.setEnd(o,p);var v=m.collapsed;return{start:v?d:k,end:v?k:d}}function p(n,a){var t,s,e=document.selection.createRange().duplicate();"undefined"==typeof a.end?(t=a.start,s=t):a.start>a.end?(t=a.end,s=a.start):(t=a.start,s=a.end),e.moveToElementText(n),e.moveStart("character",t),e.setEndPoint("EndToStart",e),e.moveEnd("character",s-t),e.select()}function c(n,a){if(window.getSelection){var t=window.getSelection(),s=n[l()].length,e=Math.min(a.start,s),o="undefined"==typeof a.end?e:Math.min(a.end,s);if(!t.extend&&e>o){var p=o;o=e,e=p}var c=u(n,e),r=u(n,o);if(c&&r){var i=document.createRange();i.setStart(c.node,c.offset),t.removeAllRanges(),e>o?(t.addRange(i),t.extend(r.node,r.offset)):(i.setEnd(r.node,r.offset),t.addRange(i))}}}var r=t(6),u=t(191),l=t(84),i=r.canUseDOM&&"selection"in document&&!("getSelection"in window),k={getOffsets:i?e:o,setOffsets:i?p:c};n.exports=k},function(n,a,t){"use strict";function s(){this.isMounted()&&this.forceUpdate()}var e=t(29),o=t(23),p=t(42),c=t(11),r=t(8),u=t(3),l=t(9),i=t(2),k=t(1),d=(t(4),u.createFactory("textarea")),m=r.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[e,p.Mixin,c],getInitialState:function(){var n=this.props.defaultValue,a=this.props.children;null!=a&&(k(null==n),Array.isArray(a)&&(k(a.length<=1),a=a[0]),n=""+a),null==n&&(n="");var t=p.getValue(this);return{initialValue:""+(null!=t?t:n)}},render:function(){var n=i({},this.props);return k(null==n.dangerouslySetInnerHTML),n.defaultValue=null,n.value=null,n.onChange=this._handleChange,d(n,this.state.initialValue)},componentDidUpdate:function(n,a,t){var s=p.getValue(this);if(null!=s){var e=this.getDOMNode();o.setValueForProperty(e,"value",""+s)}},_handleChange:function(n){var a,t=p.getOnChange(this);return t&&(a=t.call(this,n)),l.asap(s,this),a}});n.exports=m},function(n,a,t){"use strict";function s(){this.reinitializeTransaction()}var e=t(9),o=t(34),p=t(2),c=t(14),r={initialize:c,close:function(){k.isBatchingUpdates=!1}},u={initialize:c,close:e.flushBatchedUpdates.bind(e)},l=[u,r];p(s.prototype,o.Mixin,{getTransactionWrappers:function(){return l}});var i=new s,k={isBatchingUpdates:!1,batchedUpdates:function(n,a,t,s,e){var o=k.isBatchingUpdates;k.isBatchingUpdates=!0,o?n(a,t,s,e):i.perform(n,null,a,t,s,e)}};n.exports=k},function(n,a,t){"use strict";function s(n){return m.createClass({tagName:n.toUpperCase(),render:function(){return new S(n,null,null,null,null,this.props)}})}function e(){D.EventEmitter.injectReactEventListener(M),D.EventPluginHub.injectEventPluginOrder(r),D.EventPluginHub.injectInstanceHandle(N),D.EventPluginHub.injectMount(P),D.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:I,EnterLeaveEventPlugin:u,ChangeEventPlugin:p,MobileSafariClickEventPlugin:k,SelectEventPlugin:R,BeforeInputEventPlugin:o}),D.NativeComponent.injectGenericComponentClass(f),D.NativeComponent.injectTextComponentClass(_),D.NativeComponent.injectAutoWrapper(s),D.Class.injectMixin(d),D.NativeComponent.injectComponentClasses({button:g,form:y,iframe:z,img:b,input:w,option:C,select:E,textarea:x,html:L("html"),head:L("head"),body:L("body")}),D.DOMProperty.injectDOMPropertyConfig(i),D.DOMProperty.injectDOMPropertyConfig(A),D.EmptyComponent.injectEmptyComponent("noscript"),D.Updates.injectReconcileTransaction(T),D.Updates.injectBatchingStrategy(h),D.RootIndex.injectCreateReactRootIndex(l.canUseDOM?c.createReactRootIndex:O.createReactRootIndex),D.Component.injectEnvironment(v),D.DOMComponent.injectIDOperations(j)}var o=t(133),p=t(134),c=t(135),r=t(138),u=t(139),l=t(6),i=t(142),k=t(143),d=t(11),m=t(8),v=t(44),h=t(158),f=t(47),g=t(149),y=t(150),b=t(152),j=t(69),z=t(151),w=t(153),C=t(154),E=t(155),x=t(157),_=t(70),S=t(3),M=t(162),D=t(163),N=t(20),P=t(13),T=t(166),R=t(171),O=t(172),I=t(173),A=t(170),L=t(186);n.exports={inject:e}},function(n,a,t){"use strict";var s={guard:function(n,a){return n}};n.exports=s},function(n,a,t){"use strict";function s(n){e.enqueueEvents(n),e.processEventQueue()}var e=t(24),o={handleTopLevel:function(n,a,t,o){var p=e.extractEvents(n,a,t,o);s(p)}};n.exports=o},function(n,a,t){"use strict";function s(n){var a=i.getID(n),t=l.getReactRootIDFromNodeID(a),s=i.findReactContainerForID(t),e=i.getFirstReactDOM(s);return e}function e(n,a){this.topLevelType=n,this.nativeEvent=a,this.ancestors=[]}function o(n){for(var a=i.getFirstReactDOM(m(n.nativeEvent))||window,t=a;t;)n.ancestors.push(t),t=s(t);for(var e=0,o=n.ancestors.length;o>e;e++){a=n.ancestors[e];var p=i.getID(a)||"";h._handleTopLevel(n.topLevelType,a,p,n.nativeEvent)}}function p(n){var a=v(window);n(a)}var c=t(140),r=t(6),u=t(10),l=t(20),i=t(13),k=t(9),d=t(2),m=t(56),v=t(193);d(e.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),u.addPoolingTo(e,u.twoArgumentPooler);var h={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:r.canUseDOM?window:null,setHandleTopLevel:function(n){h._handleTopLevel=n},setEnabled:function(n){h._enabled=!!n},isEnabled:function(){return h._enabled},trapBubbledEvent:function(n,a,t){var s=t;return s?c.listen(s,a,h.dispatchEvent.bind(null,n)):null},trapCapturedEvent:function(n,a,t){var s=t;return s?c.capture(s,a,h.dispatchEvent.bind(null,n)):null},monitorScrollValue:function(n){var a=p.bind(null,n);c.listen(window,"scroll",a)},dispatchEvent:function(n,a){if(h._enabled){var t=e.getPooled(n,a);try{k.batchedUpdates(o,t)}finally{e.release(t)}}}};n.exports=h},function(n,a,t){"use strict";var s=t(18),e=t(24),o=t(45),p=t(8),c=t(48),r=t(19),u=t(31),l=t(47),i=t(16),k=t(76),d=t(9),m={Component:o.injection,Class:p.injection,DOMComponent:l.injection,DOMProperty:s.injection,EmptyComponent:c.injection,EventPluginHub:e.injection,EventEmitter:r.injection,NativeComponent:u.injection,Perf:i.injection,RootIndex:k.injection,Updates:d.injection};n.exports=m},function(n,a,t){"use strict";function s(n,a,t){m.push({parentID:n,parentNode:null,type:l.INSERT_MARKUP,markupIndex:v.push(a)-1,textContent:null,fromIndex:null,toIndex:t})}function e(n,a,t){m.push({parentID:n,parentNode:null,type:l.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:a,toIndex:t})}function o(n,a){m.push({parentID:n,parentNode:null,type:l.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:a,toIndex:null})}function p(n,a){m.push({parentID:n,parentNode:null,type:l.TEXT_CONTENT,markupIndex:null,textContent:a,fromIndex:null,toIndex:null})}function c(){m.length&&(u.processChildrenUpdates(m,v),r())}function r(){m.length=0,v.length=0}var u=t(45),l=t(73),i=t(22),k=t(145),d=0,m=[],v=[],h={Mixin:{mountChildren:function(n,a,t){var s=k.instantiateChildren(n,a,t);this._renderedChildren=s;var e=[],o=0;for(var p in s)if(s.hasOwnProperty(p)){var c=s[p],r=this._rootNodeID+p,u=i.mountComponent(c,r,a,t);c._mountIndex=o,e.push(u),o++}return e},updateTextContent:function(n){d++;var a=!0;try{var t=this._renderedChildren;k.unmountChildren(t);for(var s in t)t.hasOwnProperty(s)&&this._unmountChildByName(t[s],s);this.setTextContent(n),a=!1}finally{d--,d||(a?r():c())}},updateChildren:function(n,a,t){d++;var s=!0;try{this._updateChildren(n,a,t),s=!1}finally{d--,d||(s?r():c())}},_updateChildren:function(n,a,t){var s=this._renderedChildren,e=k.updateChildren(s,n,a,t);if(this._renderedChildren=e,e||s){var o,p=0,c=0;for(o in e)if(e.hasOwnProperty(o)){var r=s&&s[o],u=e[o];r===u?(this.moveChild(r,c,p),p=Math.max(r._mountIndex,p),r._mountIndex=c):(r&&(p=Math.max(r._mountIndex,p),this._unmountChildByName(r,o)),this._mountChildByNameAtIndex(u,o,c,a,t)),c++}for(o in s)!s.hasOwnProperty(o)||e&&e.hasOwnProperty(o)||this._unmountChildByName(s[o],o)}},unmountChildren:function(){var n=this._renderedChildren;k.unmountChildren(n),this._renderedChildren=null},moveChild:function(n,a,t){n._mountIndex<t&&e(this._rootNodeID,n._mountIndex,a)},createChild:function(n,a){s(this._rootNodeID,a,n._mountIndex)},removeChild:function(n){o(this._rootNodeID,n._mountIndex)},setTextContent:function(n){p(this._rootNodeID,n)},_mountChildByNameAtIndex:function(n,a,t,s,e){var o=this._rootNodeID+a,p=i.mountComponent(n,o,s,e);n._mountIndex=t,this.createChild(n,p)},_unmountChildByName:function(n,a){this.removeChild(n),n._mountIndex=null}}};n.exports=h},function(n,a,t){"use strict";var s=t(1),e={isValidOwner:function(n){return!(!n||"function"!=typeof n.attachRef||"function"!=typeof n.detachRef)},addComponentAsRefTo:function(n,a,t){s(e.isValidOwner(t)),t.attachRef(a,n)},removeComponentAsRefFrom:function(n,a,t){s(e.isValidOwner(t)),t.getPublicInstance().refs[a]===n.getPublicInstance()&&t.detachRef(a)}};n.exports=e},function(n,a,t){"use strict";function s(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=e.getPooled(null),this.putListenerQueue=r.getPooled()}var e=t(40),o=t(10),p=t(19),c=t(71),r=t(75),u=t(34),l=t(2),i={initialize:c.getSelectionInformation,close:c.restoreSelection},k={initialize:function(){var n=p.isEnabled();return p.setEnabled(!1),n},close:function(n){p.setEnabled(n)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},m={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},v=[m,i,k,d],h={getTransactionWrappers:function(){return v},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){e.release(this.reactMountReady),this.reactMountReady=null,r.release(this.putListenerQueue),this.putListenerQueue=null}};l(s.prototype,u.Mixin,h),o.addPoolingTo(s),n.exports=s},function(n,a,t){"use strict";function s(n,a,t){"function"==typeof n?n(a.getPublicInstance()):o.addComponentAsRefTo(a,n,t)}function e(n,a,t){"function"==typeof n?n(null):o.removeComponentAsRefFrom(a,n,t)}var o=t(165),p={};p.attachRefs=function(n,a){var t=a.ref;null!=t&&s(t,n,a._owner)},p.shouldUpdateRefs=function(n,a){return a._owner!==n._owner||a.ref!==n.ref},p.detachRefs=function(n,a){var t=a.ref;null!=t&&e(t,n,a._owner)},n.exports=p},function(n,a,t){"use strict";function s(n){i(o.isValidElement(n));var a;try{var t=p.createReactRootID();return a=r.getPooled(!1),a.perform(function(){var s=l(n,null),e=s.mountComponent(t,a,u);return c.addChecksumToMarkup(e)},null)}finally{r.release(a)}}function e(n){i(o.isValidElement(n));var a;try{var t=p.createReactRootID();return a=r.getPooled(!0),a.perform(function(){var s=l(n,null);return s.mountComponent(t,a,u)},null)}finally{r.release(a)}}var o=t(3),p=t(20),c=t(72),r=t(169),u=t(35),l=t(57),i=t(1);n.exports={renderToString:s,renderToStaticMarkup:e}},function(n,a,t){"use strict";function s(n){this.reinitializeTransaction(),this.renderToStaticMarkup=n,this.reactMountReady=o.getPooled(null),this.putListenerQueue=p.getPooled()}var e=t(10),o=t(40),p=t(75),c=t(34),r=t(2),u=t(14),l={initialize:function(){this.reactMountReady.reset()},close:u},i={initialize:function(){this.putListenerQueue.reset()},close:u},k=[i,l],d={getTransactionWrappers:function(){return k},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,p.release(this.putListenerQueue),this.putListenerQueue=null}};r(s.prototype,c.Mixin,d),e.addPoolingTo(s),n.exports=s},function(n,a,t){"use strict";var s=t(18),e=s.injection.MUST_USE_ATTRIBUTE,o={Properties:{clipPath:e,cx:e,cy:e,d:e,dx:e,dy:e,fill:e,fillOpacity:e,fontFamily:e,fontSize:e,fx:e,fy:e,gradientTransform:e,gradientUnits:e,markerEnd:e,markerMid:e,markerStart:e,offset:e,opacity:e,patternContentUnits:e,patternUnits:e,points:e,preserveAspectRatio:e,r:e,rx:e,ry:e,spreadMethod:e,stopColor:e,stopOpacity:e,stroke:e,strokeDasharray:e,strokeLinecap:e,strokeOpacity:e,strokeWidth:e,textAnchor:e,transform:e,version:e,viewBox:e,x1:e,x2:e,x:e,y1:e,y2:e,y:e},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};n.exports=o},function(n,a,t){"use strict";function s(n){if("selectionStart"in n&&c.hasSelectionCapabilities(n))return{start:n.selectionStart,end:n.selectionEnd};if(window.getSelection){var a=window.getSelection();return{anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}}if(document.selection){var t=document.selection.createRange();return{parentElement:t.parentElement(),text:t.text,top:t.boundingTop,left:t.boundingLeft}}}function e(n){if(g||null==v||v!==u())return null;var a=s(v);if(!f||!k(f,a)){f=a;var t=r.getPooled(m.select,h,n);return t.type="select",t.target=v,p.accumulateTwoPhaseDispatches(t),t}}var o=t(7),p=t(25),c=t(71),r=t(17),u=t(81),l=t(86),i=t(15),k=t(202),d=o.topLevelTypes,m={select:{phasedRegistrationNames:{bubbled:i({onSelect:null}),captured:i({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},v=null,h=null,f=null,g=!1,y={eventTypes:m,extractEvents:function(n,a,t,s){switch(n){case d.topFocus:(l(a)||"true"===a.contentEditable)&&(v=a,h=t,f=null);break;case d.topBlur:v=null,h=null,f=null;break;case d.topMouseDown:g=!0;break;case d.topContextMenu:case d.topMouseUp:return g=!1,e(s);case d.topSelectionChange:case d.topKeyDown:case d.topKeyUp:return e(s)}}};n.exports=y},function(n,a,t){"use strict";var s=Math.pow(2,53),e={createReactRootIndex:function(){return Math.ceil(Math.random()*s)}};n.exports=e},function(n,a,t){"use strict";var s=t(7),e=t(41),o=t(25),p=t(174),c=t(17),r=t(177),u=t(179),l=t(33),i=t(176),k=t(180),d=t(27),m=t(181),v=t(54),h=t(1),f=t(15),g=(t(4),s.topLevelTypes),y={blur:{phasedRegistrationNames:{bubbled:f({onBlur:!0}),captured:f({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:f({onClick:!0}),captured:f({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:f({onContextMenu:!0}),captured:f({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:f({onCopy:!0}),captured:f({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:f({onCut:!0}),captured:f({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:f({onDoubleClick:!0}),captured:f({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:f({onDrag:!0}),captured:f({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:f({onDragEnd:!0}),captured:f({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:f({onDragEnter:!0}),captured:f({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:f({onDragExit:!0}),captured:f({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:f({onDragLeave:!0}),captured:f({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:f({onDragOver:!0}),captured:f({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:f({onDragStart:!0}),captured:f({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:f({onDrop:!0}),captured:f({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:f({onFocus:!0}),captured:f({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:f({onInput:!0}),captured:f({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:f({onKeyDown:!0}),captured:f({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:f({onKeyPress:!0}),captured:f({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:f({onKeyUp:!0}),captured:f({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:f({onLoad:!0}),captured:f({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:f({onError:!0}),captured:f({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:f({onMouseDown:!0}),captured:f({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:f({onMouseMove:!0}),captured:f({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:f({onMouseOut:!0}),captured:f({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:f({onMouseOver:!0}),captured:f({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:f({onMouseUp:!0}),captured:f({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:f({onPaste:!0}),captured:f({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:f({onReset:!0}),captured:f({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:f({onScroll:!0}),captured:f({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:f({onSubmit:!0}),captured:f({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:f({onTouchCancel:!0}),captured:f({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:f({onTouchEnd:!0}),captured:f({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:f({onTouchMove:!0}),captured:f({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:f({onTouchStart:!0}),captured:f({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:f({onWheel:!0}),captured:f({onWheelCapture:!0})}}},b={topBlur:y.blur,topClick:y.click,topContextMenu:y.contextMenu,topCopy:y.copy,topCut:y.cut,topDoubleClick:y.doubleClick,topDrag:y.drag,topDragEnd:y.dragEnd,topDragEnter:y.dragEnter,topDragExit:y.dragExit,topDragLeave:y.dragLeave,topDragOver:y.dragOver,topDragStart:y.dragStart,topDrop:y.drop,topError:y.error,topFocus:y.focus,topInput:y.input,topKeyDown:y.keyDown,topKeyPress:y.keyPress,topKeyUp:y.keyUp,topLoad:y.load,topMouseDown:y.mouseDown,topMouseMove:y.mouseMove,topMouseOut:y.mouseOut,topMouseOver:y.mouseOver,topMouseUp:y.mouseUp,topPaste:y.paste,topReset:y.reset,topScroll:y.scroll,topSubmit:y.submit,topTouchCancel:y.touchCancel,topTouchEnd:y.touchEnd,topTouchMove:y.touchMove,topTouchStart:y.touchStart,topWheel:y.wheel};for(var j in b)b[j].dependencies=[j];var z={eventTypes:y,executeDispatch:function(n,a,t){var s=e.executeDispatch(n,a,t);s===!1&&(n.stopPropagation(),n.preventDefault())},extractEvents:function(n,a,t,s){var e=b[n];if(!e)return null;var f;switch(n){case g.topInput:case g.topLoad:case g.topError:case g.topReset:case g.topSubmit:f=c;break;case g.topKeyPress:if(0===v(s))return null;case g.topKeyDown:case g.topKeyUp:f=u;break;case g.topBlur:case g.topFocus:f=r;break;case g.topClick:if(2===s.button)return null;case g.topContextMenu:case g.topDoubleClick:case g.topMouseDown:case g.topMouseMove:case g.topMouseOut:case g.topMouseOver:case g.topMouseUp:f=l;break;case g.topDrag:case g.topDragEnd:case g.topDragEnter:case g.topDragExit:case g.topDragLeave:case g.topDragOver:case g.topDragStart:case g.topDrop:f=i;break;case g.topTouchCancel:case g.topTouchEnd:case g.topTouchMove:case g.topTouchStart:f=k;break;case g.topScroll:f=d;break;case g.topWheel:f=m;break;case g.topCopy:case g.topCut:case g.topPaste:f=p}h(f);var y=f.getPooled(e,t,s);return o.accumulateTwoPhaseDispatches(y),y}};n.exports=z},function(n,a,t){"use strict";function s(n,a,t){e.call(this,n,a,t)}var e=t(17),o={clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}};e.augmentClass(s,o),n.exports=s},function(n,a,t){"use strict";function s(n,a,t){e.call(this,n,a,t)}var e=t(17),o={data:null};e.augmentClass(s,o),n.exports=s},function(n,a,t){"use strict";function s(n,a,t){e.call(this,n,a,t)}var e=t(33),o={dataTransfer:null};e.augmentClass(s,o),n.exports=s},function(n,a,t){"use strict";function s(n,a,t){e.call(this,n,a,t)}var e=t(27),o={relatedTarget:null};e.augmentClass(s,o),n.exports=s},function(n,a,t){"use strict";function s(n,a,t){e.call(this,n,a,t)}var e=t(17),o={data:null};e.augmentClass(s,o),n.exports=s},function(n,a,t){"use strict";function s(n,a,t){e.call(this,n,a,t)}var e=t(27),o=t(54),p=t(190),c=t(55),r={key:p,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:c,charCode:function(n){return"keypress"===n.type?o(n):0},keyCode:function(n){return"keydown"===n.type||"keyup"===n.type?n.keyCode:0},which:function(n){return"keypress"===n.type?o(n):"keydown"===n.type||"keyup"===n.type?n.keyCode:0}};e.augmentClass(s,r),n.exports=s},function(n,a,t){"use strict";function s(n,a,t){e.call(this,n,a,t)}var e=t(27),o=t(55),p={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};e.augmentClass(s,p),n.exports=s},function(n,a,t){"use strict";function s(n,a,t){e.call(this,n,a,t)}var e=t(33),o={deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:null,deltaMode:null};e.augmentClass(s,o),n.exports=s},function(n,a,t){"use strict";function s(n){for(var a=1,t=0,s=0;s<n.length;s++)a=(a+n.charCodeAt(s))%e,t=(t+a)%e;return a|t<<16}var e=65521;n.exports=s},function(n,a,t){function s(n){return n.replace(e,function(n,a){return a.toUpperCase()})}var e=/-(.)/g;n.exports=s},function(n,a,t){"use strict";function s(n){return e(n.replace(o,"ms-"))}var e=t(183),o=/^-ms-/;n.exports=s},function(n,a,t){function s(n){return!!n&&("object"==typeof n||"function"==typeof n)&&"length"in n&&!("setInterval"in n)&&"number"!=typeof n.nodeType&&(Array.isArray(n)||"callee"in n||"item"in n)}function e(n){return s(n)?Array.isArray(n)?n.slice():o(n):[n]}var o=t(203);n.exports=e},function(n,a,t){"use strict";function s(n){var a=o.createFactory(n),t=e.createClass({tagName:n.toUpperCase(),displayName:"ReactFullPageComponent"+n,componentWillUnmount:function(){p(!1)},render:function(){return a(this.props)}});return t}var e=t(8),o=t(3),p=t(1);n.exports=s},function(n,a,t){function s(n){var a=n.match(l);return a&&a[1].toLowerCase()}function e(n,a){var t=u;r(!!u);var e=s(n),o=e&&c(e);if(o){t.innerHTML=o[1]+n+o[2];for(var l=o[0];l--;)t=t.lastChild}else t.innerHTML=n;var i=t.getElementsByTagName("script");i.length&&(r(a),p(i).forEach(a));for(var k=p(t.childNodes);t.lastChild;)t.removeChild(t.lastChild);return k}var o=t(6),p=t(185),c=t(83),r=t(1),u=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;n.exports=e},function(n,a,t){"use strict";function s(n,a){var t=null==a||"boolean"==typeof a||""===a;if(t)return"";var s=isNaN(a);return s||0===a||o.hasOwnProperty(n)&&o[n]?""+a:("string"==typeof a&&(a=a.trim()),a+"px")}var e=t(65),o=e.isUnitlessNumber;n.exports=s},function(n,a,t){"use strict";function s(n,a,t){var s=n,e=!s.hasOwnProperty(t);e&&null!=a&&(s[t]=a)}function e(n){if(null==n)return n;var a={};return o(n,s,a),a}var o=t(87);t(4);n.exports=e},function(n,a,t){"use strict";function s(n){if(n.key){var a=o[n.key]||n.key;if("Unidentified"!==a)return a}if("keypress"===n.type){var t=e(n);return 13===t?"Enter":String.fromCharCode(t)}return"keydown"===n.type||"keyup"===n.type?p[n.keyCode]||"Unidentified":""}var e=t(54),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};n.exports=s},function(n,a,t){"use strict";function s(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function e(n){for(;n;){if(n.nextSibling)return n.nextSibling;n=n.parentNode}}function o(n,a){for(var t=s(n),o=0,p=0;t;){if(3===t.nodeType){if(p=o+t.textContent.length,a>=o&&p>=a)return{node:t,offset:a-o};o=p}t=s(e(t))}}n.exports=o},function(n,a,t){"use strict";function s(n){return n?n.nodeType===e?n.documentElement:n.firstChild:null}var e=9;n.exports=s},function(n,a,t){"use strict";function s(n){return n===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:n.scrollLeft,y:n.scrollTop}}n.exports=s},function(n,a,t){function s(n){return n.replace(e,"-$1").toLowerCase()}var e=/([A-Z])/g;n.exports=s},function(n,a,t){"use strict";function s(n){return e(n).replace(o,"-ms-")}var e=t(194),o=/^ms-/;n.exports=s},function(n,a,t){function s(n){return e(n)&&3==n.nodeType}var e=t(85);n.exports=s},function(n,a,t){"use strict";function s(n,a,t){if(!n)return null;var s={};for(var o in n)e.call(n,o)&&(s[o]=a.call(t,n[o],o,n));return s}var e=Object.prototype.hasOwnProperty;n.exports=s},function(n,a,t){"use strict";function s(n){var a={};return function(t){return a.hasOwnProperty(t)||(a[t]=n.call(this,t)),a[t]}}n.exports=s},function(n,a,t){"use strict";function s(n){return o(e.isValidElement(n)),n}var e=t(3),o=t(1);n.exports=s},function(n,a,t){"use strict";function s(n){return'"'+e(n)+'"'}var e=t(36);n.exports=s},function(n,a,t){"use strict";var s=t(6),e=t(36),o=t(59),p=function(n,a){n.textContent=a};s.canUseDOM&&("textContent"in document.documentElement||(p=function(n,a){o(n,e(a))})),n.exports=p},function(n,a,t){"use strict";function s(n,a){if(n===a)return!0;var t;for(t in n)if(n.hasOwnProperty(t)&&(!a.hasOwnProperty(t)||n[t]!==a[t]))return!1;for(t in a)if(a.hasOwnProperty(t)&&!n.hasOwnProperty(t))return!1;return!0}n.exports=s},function(n,a,t){function s(n){var a=n.length;if(e(!Array.isArray(n)&&("object"==typeof n||"function"==typeof n)),e("number"==typeof a),e(0===a||a-1 in n),n.hasOwnProperty)try{return Array.prototype.slice.call(n)}catch(t){}for(var s=Array(a),o=0;a>o;o++)s[o]=n[o];return s}var e=t(1);n.exports=s}]);
//# sourceMappingURL=main-73051c71144d61d48eff.js.map